{"version":3,"file":"abp-ng.setting-management.js","sources":["ng://@abp/ng.setting-management/lib/actions/setting-management.actions.ts","ng://@abp/ng.setting-management/lib/states/setting-management.state.ts","ng://@abp/ng.setting-management/lib/components/setting-management.component.ts","ng://@abp/ng.setting-management/lib/setting-management-routing.module.ts","ng://@abp/ng.setting-management/lib/setting-management.module.ts","ng://@abp/ng.setting-management/lib/enums/components.ts"],"sourcesContent":["import { SettingTab } from '@abp/ng.theme.shared';\r\n\r\nexport class SetSelectedSettingTab {\r\n  static readonly type = '[SettingManagement] Set Selected Tab';\r\n  constructor(public payload: SettingTab) {}\r\n}\r\n","import { Action, Selector, State, StateContext } from '@ngxs/store';\r\nimport { SetSelectedSettingTab } from '../actions/setting-management.actions';\r\nimport { SettingManagement } from '../models/setting-management';\r\nimport { Injectable } from '@angular/core';\r\n\r\n@State<SettingManagement.State>({\r\n  name: 'SettingManagementState',\r\n  defaults: { selectedTab: {} } as SettingManagement.State,\r\n})\r\n@Injectable()\r\nexport class SettingManagementState {\r\n  @Selector()\r\n  static getSelectedTab({ selectedTab }: SettingManagement.State) {\r\n    return selectedTab;\r\n  }\r\n\r\n  @Action(SetSelectedSettingTab)\r\n  settingManagementAction(\r\n    { patchState }: StateContext<SettingManagement.State>,\r\n    { payload }: SetSelectedSettingTab,\r\n  ) {\r\n    patchState({\r\n      selectedTab: payload,\r\n    });\r\n  }\r\n}\r\n","import { ConfigState } from '@abp/ng.core';\r\nimport { getSettingTabs, SettingTab } from '@abp/ng.theme.shared';\r\nimport { Component, OnInit, TrackByFunction } from '@angular/core';\r\nimport { Store } from '@ngxs/store';\r\nimport { SetSelectedSettingTab } from '../actions/setting-management.actions';\r\nimport { SettingManagementState } from '../states/setting-management.state';\r\n\r\n@Component({\r\n  selector: 'abp-setting-management',\r\n  templateUrl: './setting-management.component.html',\r\n})\r\nexport class SettingManagementComponent implements OnInit {\r\n  settings: SettingTab[] = [];\r\n\r\n  set selected(value: SettingTab) {\r\n    this.store.dispatch(new SetSelectedSettingTab(value));\r\n  }\r\n  get selected(): SettingTab {\r\n    const value = this.store.selectSnapshot(SettingManagementState.getSelectedTab);\r\n\r\n    if ((!value || !value.component) && this.settings.length) {\r\n      return this.settings[0];\r\n    }\r\n\r\n    return value;\r\n  }\r\n\r\n  trackByFn: TrackByFunction<SettingTab> = (_, item) => item.name;\r\n\r\n  constructor(private store: Store) {}\r\n\r\n  ngOnInit() {\r\n    this.settings = getSettingTabs()\r\n      .filter(setting =>\r\n        this.store.selectSnapshot(ConfigState.getGrantedPolicy(setting.requiredPolicy)),\r\n      )\r\n      .sort((a, b) => a.order - b.order);\r\n\r\n    if (!this.selected && this.settings.length) {\r\n      this.selected = this.settings[0];\r\n    }\r\n  }\r\n}\r\n","import {\r\n  DynamicLayoutComponent,\r\n  ReplaceableComponents,\r\n  ReplaceableRouteContainerComponent,\r\n} from '@abp/ng.core';\r\nimport { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { SettingManagementComponent } from './components/setting-management.component';\r\nimport { eSettingManagementComponents } from './enums/components';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DynamicLayoutComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        component: ReplaceableRouteContainerComponent,\r\n        data: {\r\n          requiredPolicy: 'AbpAccount.SettingManagement',\r\n          replaceableComponent: {\r\n            key: eSettingManagementComponents.SettingManagement,\r\n            defaultComponent: SettingManagementComponent,\r\n          } as ReplaceableComponents.RouteData,\r\n        },\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SettingManagementRoutingModule {}\r\n","import { CoreModule } from '@abp/ng.core';\r\nimport { ThemeSharedModule } from '@abp/ng.theme.shared';\r\nimport { NgModule } from '@angular/core';\r\nimport { SettingManagementRoutingModule } from './setting-management-routing.module';\r\nimport { SettingManagementComponent } from './components/setting-management.component';\r\nimport { NgxsModule } from '@ngxs/store';\r\nimport { SettingManagementState } from './states/setting-management.state';\r\n\r\n@NgModule({\r\n  declarations: [SettingManagementComponent],\r\n  imports: [\r\n    SettingManagementRoutingModule,\r\n    CoreModule,\r\n    ThemeSharedModule,\r\n    NgxsModule.forFeature([SettingManagementState]),\r\n  ],\r\n})\r\nexport class SettingManagementModule {}\r\n","export const enum eSettingManagementComponents {\r\n  SettingManagement = 'SettingManagement.SettingManagementComponent',\r\n}\r\n"],"names":["tslib_1.__decorate"],"mappings":"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"}