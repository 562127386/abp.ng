{"version":3,"sources":["../../../../node_modules/tslib/tslib.es6.js","ng://@fs/ng-alain/basic/lib/layout/default/setting-drawer/setting-drawer.component.ts","ng://@fs/ng-alain/basic/lib/layout/default/default.component.ts","ng://@fs/ng-alain/basic/lib/layout/fullscreen/fullscreen.component.ts","ng://@fs/ng-alain/basic/lib/layout/default/header/header.component.ts","ng://@fs/ng-alain/basic/lib/layout/default/sidebar/sidebar.component.ts","ng://@fs/ng-alain/basic/lib/layout/default/header/components/search.component.ts","ng://@fs/ng-alain/basic/lib/layout/default/header/components/notify.component.ts","ng://@fs/ng-alain/basic/lib/layout/default/header/components/task.component.ts","ng://@fs/ng-alain/basic/lib/layout/default/header/components/icon.component.ts","ng://@fs/ng-alain/basic/lib/layout/default/header/components/fullscreen.component.ts","ng://@fs/ng-alain/basic/lib/layout/default/header/components/i18n.component.ts","ng://@fs/ng-alain/basic/lib/layout/default/header/components/storage.component.ts","ng://@fs/ng-alain/basic/lib/layout/default/header/components/user.component.ts","ng://@fs/ng-alain/basic/lib/layout/default/setting-drawer/setting-drawer-item.component.ts","ng://@fs/ng-alain/basic/lib/layout/passport/passport.component.ts","ng://@fs/ng-alain/basic/lib/layout/layout.module.ts","ng://@fs/ng-alain/basic/lib/ng-alain-basic.module.ts"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","this","__decorate","decorators","target","key","desc","d","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__metadata","metadataKey","metadataValue","metadata","__read","o","m","Symbol","iterator","e","ar","next","done","push","value","error","__spread","concat","DEFAULT_COLORS","color","DEFAULT_VARS","primary-color","label","type","default","alain-default-header-hg","max","min","alain-default-header-bg","tip","alain-default-header-padding","alain-default-aside-wd","alain-default-aside-bg","alain-default-aside-collapsed-wd","alain-default-aside-nav-padding-top-bottom","step","alain-default-aside-nav-fs","alain-default-aside-collapsed-nav-fs","alain-default-aside-nav-item-height","alain-default-aside-nav-text-color","rgba","alain-default-aside-nav-text-hover-color","alain-default-aside-nav-group-text-color","alain-default-aside-nav-selected-text-color","alain-default-aside-nav-selected-bg","alain-default-content-bg","alain-default-content-heading-bg","alain-default-content-heading-border","alain-default-content-padding","form-state-visual-feedback-enabled","preserve-white-spaces-enabled","nz-table-img-radius","nz-table-img-margin-right","nz-table-img-max-width","nz-table-img-max-height","SettingDrawerComponent","cdr","msg","settingSrv","lazy","zone","doc","loadedLess","collapse","data","colors","cachedData","DEFAULT_PRIMARY","resetData","layout","loadLess","_this","Promise","resolve","loadStyle","then","lessConfigNode","createElement","innerHTML","body","appendChild","loadScript","genVars","validKeys","vars","_a","filter","forEach","setLayout","runLess","msgId","loading","nzDuration","messageId","setTimeout","runOutsideAngular","less","modifyVars","success","remove","run","detectChanges","toggle","changeColor","keys","name","nowData","deepCopy","reset","copyVar","copyContent","map","join","copy","Component","args","selector","template","host","[class.setting-drawer]","changeDetection","ChangeDetectionStrategy","OnPush","ChangeDetectorRef","NzMessageService","SettingsService","LazyService","NgZone","Inject","DOCUMENT","LayoutDefaultComponent","router","_message","resolver","settings","el","renderer","unsubscribe$","Subject","isFetching","events","pipe","takeUntil","subscribe","evt","RouteConfigLoadStart","NavigationError","NavigationCancel","url","NavigationEnd","RouteConfigLoadEnd","setClass","updateHostClass","nativeElement","fixed","collapsed","classList","colorWeak","ngAfterViewInit","settingFactory","resolveComponentFactory","settingHost","createComponent","ngOnInit","notify","ngOnDestroy","complete","Router","ComponentFactoryResolver","ElementRef","Renderer2","ViewChild","read","ViewContainerRef","static","LayoutFullScreenComponent","[class.alain-fullscreen]","HeaderComponent","toggleCollapsedSidebar","searchToggleChange","searchToggleStatus","SidebarComponent","configStateService","menuService","localizationPipe","auth$","tap","x","routes","getOne","setMenu","result","condition","invisible","isGrantedPolicy","requiredPolicy","first","group","text","transform","hideInBreadcrumb","children","second","left","link","icon","iconClass","split","node_1","third","clear","add","getGrantedPolicy","ConfigStateService","MenuService","LocalizationPipe","tslib_1.__decorate","Select","ConfigState","Observable","HeaderSearchComponent","focus","searchToggled","qIpt","querySelector","qFocus","qBlur","HostBinding","Input","HeaderNotifyComponent","title","list","emptyText","emptyImage","clearText","count","updateNoticeData","notices","slice","item","newItem","extra","status","todo","undefined","processing","urgent","doing","find","w","loadData","id","avatar","datetime","description","select","res","HeaderTaskComponent","change","HeaderIconComponent","HeaderFullScreenComponent","_resize","sf","isFullscreen","_click","isEnabled","[class.d-block]","HostListener","HeaderI18nComponent","store","selectSnapshot","SessionState","getLanguage","languages$","languages","snq","lang","cultureName","selectedLangCulture","displayName","onChangeLang","dispatch","SetLanguage","Store","getDeep","HeaderStorageComponent","modalSrv","messageSrv","confirm","nzTitle","nzOnOk","localStorage","NzModalService","HeaderUserComponent","tokenService","oauthService","tenant","getTenant","tenantName","logout","logOut","Navigate","state","redirectUrl","RouterState","GetAppConfiguration","DA_SERVICE_TOKEN","OAuthService","SettingDrawerItemComponent","format","val","pxVal","replace","pxChange","[class.setting-drawer__body-item]","LayoutPassportComponent","links","href","SETTINGDRAWER","COMPONENTS","HEADERCOMPONENTS","PASSPORT","LayoutModule","NgModule","imports","CoreModule","NgAlainSharedModule","entryComponents","declarations","exports","NgAlainBasicModule","ThemeBasicModule"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import { Component, ChangeDetectionStrategy, NgZone, Inject, ChangeDetectorRef } from '@angular/core';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { NzMessageService } from 'ng-zorro-antd';\r\nimport { LazyService, copy, deepCopy } from '@delon/util';\r\nimport { SettingsService } from '@delon/theme';\r\n\r\nconst ALAINDEFAULTVAR = 'alain-default-vars';\r\nconst DEFAULT_COLORS = [\r\n  {\r\n    key: 'dust',\r\n    color: '#F5222D',\r\n  },\r\n  {\r\n    key: 'volcano',\r\n    color: '#FA541C',\r\n  },\r\n  {\r\n    key: 'sunset',\r\n    color: '#FAAD14',\r\n  },\r\n  {\r\n    key: 'cyan',\r\n    color: '#13C2C2',\r\n  },\r\n  {\r\n    key: 'green',\r\n    color: '#52C41A',\r\n  },\r\n  {\r\n    key: 'daybreak',\r\n    color: '#1890ff',\r\n  },\r\n  {\r\n    key: 'geekblue',\r\n    color: '#2F54EB',\r\n  },\r\n  {\r\n    key: 'purple',\r\n    color: '#722ED1',\r\n  },\r\n  {\r\n    key: 'black',\r\n    color: '#001529',\r\n  },\r\n];\r\nconst DEFAULT_VARS = {\r\n  'primary-color': { label: '主颜色', type: 'color', default: '#1890ff' },\r\n  'alain-default-header-hg': {\r\n    label: '高',\r\n    type: 'px',\r\n    default: '64px',\r\n    max: 300,\r\n    min: 24,\r\n  },\r\n  'alain-default-header-bg': {\r\n    label: '背景色',\r\n    type: 'color',\r\n    default: '@primary-color',\r\n    tip: '默认同主色系',\r\n  },\r\n  'alain-default-header-padding': {\r\n    label: '顶部左右内边距',\r\n    type: 'px',\r\n    default: '16px',\r\n  },\r\n  // 侧边栏\r\n  'alain-default-aside-wd': { label: '宽度', type: 'px', default: '200px' },\r\n  'alain-default-aside-bg': {\r\n    label: '背景',\r\n    type: 'color',\r\n    default: '#ffffff',\r\n  },\r\n  'alain-default-aside-collapsed-wd': {\r\n    label: '收缩宽度',\r\n    type: 'px',\r\n    default: '64px',\r\n  },\r\n  'alain-default-aside-nav-padding-top-bottom': {\r\n    label: '项上下内边距',\r\n    type: 'px',\r\n    default: '8px',\r\n    step: 8,\r\n  },\r\n  // 主菜单\r\n  'alain-default-aside-nav-fs': {\r\n    label: '菜单字号',\r\n    type: 'px',\r\n    default: '14px',\r\n    min: 14,\r\n    max: 30,\r\n  },\r\n  'alain-default-aside-collapsed-nav-fs': {\r\n    label: '收缩菜单字号',\r\n    type: 'px',\r\n    default: '24px',\r\n    min: 24,\r\n    max: 32,\r\n  },\r\n  'alain-default-aside-nav-item-height': {\r\n    label: '菜单项高度',\r\n    type: 'px',\r\n    default: '38px',\r\n    min: 24,\r\n    max: 64,\r\n  },\r\n  'alain-default-aside-nav-text-color': {\r\n    label: '菜单文本颜色',\r\n    type: 'color',\r\n    default: 'rgba(0, 0, 0, 0.65)',\r\n    rgba: true,\r\n  },\r\n  'alain-default-aside-nav-text-hover-color': {\r\n    label: '菜单文本悬停颜色',\r\n    type: 'color',\r\n    default: '@primary-color',\r\n    tip: '默认同主色系',\r\n  },\r\n  'alain-default-aside-nav-group-text-color': {\r\n    label: '菜单分组文本颜色',\r\n    type: 'color',\r\n    default: 'rgba(0, 0, 0, 0.43)',\r\n    rgba: true,\r\n  },\r\n  'alain-default-aside-nav-selected-text-color': {\r\n    label: '菜单激活时文本颜色',\r\n    type: 'color',\r\n    default: '@primary-color',\r\n    tip: '默认同主色系',\r\n  },\r\n  'alain-default-aside-nav-selected-bg': {\r\n    label: '菜单激活时背景颜色',\r\n    type: 'color',\r\n    default: '#fcfcfc',\r\n  },\r\n  // 内容\r\n  'alain-default-content-bg': {\r\n    label: '背景色',\r\n    type: 'color',\r\n    default: '#f5f7fa',\r\n  },\r\n  'alain-default-content-heading-bg': {\r\n    label: '标题背景色',\r\n    type: 'color',\r\n    default: '#fafbfc',\r\n  },\r\n  'alain-default-content-heading-border': {\r\n    label: '标题底部边框色',\r\n    type: 'color',\r\n    default: '#efe3e5',\r\n  },\r\n  'alain-default-content-padding': {\r\n    label: '内边距',\r\n    type: 'px',\r\n    default: '24px',\r\n    min: 0,\r\n    max: 128,\r\n    step: 8,\r\n  },\r\n  // zorro组件修正\r\n  'form-state-visual-feedback-enabled': {\r\n    label: '开启表单元素的视觉反馈',\r\n    type: 'switch',\r\n    default: true,\r\n  },\r\n  'preserve-white-spaces-enabled': {\r\n    label: '开启 preserveWhitespaces',\r\n    type: 'switch',\r\n    default: true,\r\n  },\r\n  'nz-table-img-radius': {\r\n    label: '表格中：图片圆角',\r\n    type: 'px',\r\n    default: '4px',\r\n    min: 0,\r\n    max: 128,\r\n  },\r\n  'nz-table-img-margin-right': {\r\n    label: '表格中：图片右外边距',\r\n    type: 'px',\r\n    default: '4px',\r\n    min: 0,\r\n    max: 128,\r\n  },\r\n  'nz-table-img-max-width': {\r\n    label: '表格中：图片最大宽度',\r\n    type: 'px',\r\n    default: '32px',\r\n    min: 8,\r\n    max: 128,\r\n  },\r\n  'nz-table-img-max-height': {\r\n    label: '表格中：图片最大高度',\r\n    type: 'px',\r\n    default: '32px',\r\n    min: 8,\r\n    max: 128,\r\n  },\r\n};\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'setting-drawer',\r\n  templateUrl: './setting-drawer.component.html',\r\n  // tslint:disable-next-line: no-host-metadata-property\r\n  host: {\r\n    '[class.setting-drawer]': 'true',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class SettingDrawerComponent {\r\n  private loadedLess = false;\r\n\r\n  collapse = false;\r\n  get layout() {\r\n    return this.settingSrv.layout;\r\n  }\r\n  data: any = {};\r\n  color: string;\r\n  colors = DEFAULT_COLORS;\r\n\r\n  constructor(\r\n    private cdr: ChangeDetectorRef,\r\n    private msg: NzMessageService,\r\n    private settingSrv: SettingsService,\r\n    private lazy: LazyService,\r\n    private zone: NgZone,\r\n    @Inject(DOCUMENT) private doc: any,\r\n  ) {\r\n    this.color = this.cachedData['@primary-color'] || this.DEFAULT_PRIMARY;\r\n    this.resetData(this.cachedData, false);\r\n  }\r\n\r\n  private get cachedData() {\r\n    return this.settingSrv.layout[ALAINDEFAULTVAR] || {};\r\n  }\r\n\r\n  private get DEFAULT_PRIMARY() {\r\n    return DEFAULT_VARS['primary-color'].default;\r\n  }\r\n\r\n  private loadLess(): Promise<void> {\r\n    if (this.loadedLess) return Promise.resolve();\r\n    return this.lazy\r\n      .loadStyle('./assets/alain-default.less', 'stylesheet/less')\r\n      .then(() => {\r\n        const lessConfigNode = this.doc.createElement('script');\r\n        lessConfigNode.innerHTML = `\r\n          window.less = {\r\n            async: true,\r\n            env: 'production',\r\n            javascriptEnabled: true\r\n          };\r\n        `;\r\n        this.doc.body.appendChild(lessConfigNode);\r\n      })\r\n      .then(() => this.lazy.loadScript('https://gw.alipayobjects.com/os/lib/less.js/3.8.1/less.min.js'))\r\n      .then(() => {\r\n        this.loadedLess = true;\r\n      });\r\n  }\r\n\r\n  private genVars() {\r\n    const { data, color, validKeys } = this;\r\n    const vars: any = {\r\n      [`@primary-color`]: color,\r\n    };\r\n    validKeys.filter(key => key !== 'primary-color').forEach(key => (vars[`@${key}`] = data[key].value));\r\n    this.setLayout(ALAINDEFAULTVAR, vars);\r\n    return vars;\r\n  }\r\n\r\n  private runLess() {\r\n    const { zone, msg, cdr } = this;\r\n    const msgId = msg.loading(`正在编译主题！`, { nzDuration: 0 }).messageId;\r\n    setTimeout(() => {\r\n      zone.runOutsideAngular(() => {\r\n        this.loadLess().then(() => {\r\n          (window as any).less.modifyVars(this.genVars()).then(() => {\r\n            msg.success('成功');\r\n            msg.remove(msgId);\r\n            zone.run(() => cdr.detectChanges());\r\n          });\r\n        });\r\n      });\r\n    }, 200);\r\n  }\r\n\r\n  toggle() {\r\n    this.collapse = !this.collapse;\r\n  }\r\n\r\n  changeColor(color: string) {\r\n    this.color = color;\r\n    Object.keys(DEFAULT_VARS)\r\n      .filter(key => DEFAULT_VARS[key].default === '@primary-color')\r\n      .forEach(key => delete this.cachedData[`@${key}`]);\r\n    this.resetData(this.cachedData, false);\r\n  }\r\n\r\n  setLayout(name: string, value: any) {\r\n    this.settingSrv.setLayout(name, value);\r\n  }\r\n\r\n  private resetData(nowData?: {}, run = true) {\r\n    nowData = nowData || {};\r\n    const data = deepCopy(DEFAULT_VARS);\r\n    Object.keys(data).forEach(key => {\r\n      const value = nowData![`@${key}`] || data[key].default || '';\r\n      data[key].value = value === `@primary-color` ? this.color : value;\r\n    });\r\n    this.data = data;\r\n    if (run) {\r\n      this.cdr.detectChanges();\r\n      this.runLess();\r\n    }\r\n  }\r\n\r\n  private get validKeys(): string[] {\r\n    return Object.keys(this.data).filter(key => this.data[key].value !== this.data[key].default);\r\n  }\r\n\r\n  apply() {\r\n    this.runLess();\r\n  }\r\n\r\n  reset() {\r\n    this.color = this.DEFAULT_PRIMARY;\r\n    this.settingSrv.setLayout(ALAINDEFAULTVAR, {});\r\n    this.resetData({});\r\n  }\r\n\r\n  copyVar() {\r\n    const vars = this.genVars();\r\n    const copyContent = Object.keys(vars)\r\n      .map(key => `${key}: ${vars[key]};`)\r\n      .join('\\n');\r\n    copy(copyContent);\r\n    this.msg.success('Copy success');\r\n  }\r\n}\r\n","import {\r\n    Component,\r\n    ViewChild,\r\n    ComponentFactoryResolver,\r\n    ViewContainerRef,\r\n    AfterViewInit,\r\n    OnInit,\r\n    OnDestroy,\r\n    ElementRef,\r\n    Renderer2,\r\n    Inject,\r\n} from '@angular/core';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { Router, NavigationEnd, RouteConfigLoadStart, RouteConfigLoadEnd, NavigationError, NavigationCancel } from '@angular/router';\r\nimport { NzMessageService } from 'ng-zorro-antd';\r\nimport { updateHostClass } from '@delon/util';\r\nimport { SettingsService } from '@delon/theme';\r\nimport { environment } from '../../../environments/environment';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { SettingDrawerComponent } from './setting-drawer/setting-drawer.component';\r\nimport { eLayoutType } from '@abp/ng.core';\r\n\r\n@Component({\r\n    selector: 'layout-default',\r\n    templateUrl: './default.component.html',\r\n})\r\nexport class LayoutDefaultComponent implements OnInit, AfterViewInit, OnDestroy {\r\n\r\n    static type = eLayoutType.application;\r\n    private unsubscribe$ = new Subject<void>();\r\n    @ViewChild('settingHost', { read: ViewContainerRef, static: true })\r\n    private settingHost: ViewContainerRef;\r\n    isFetching = false;\r\n\r\n    constructor(\r\n        router: Router,\r\n        _message: NzMessageService,\r\n        private resolver: ComponentFactoryResolver,\r\n        private settings: SettingsService,\r\n        private el: ElementRef,\r\n        private renderer: Renderer2,\r\n        @Inject(DOCUMENT) private doc: any,\r\n    ) {\r\n        // scroll to top in change page\r\n        router.events.pipe(takeUntil(this.unsubscribe$)).subscribe(evt => {\r\n            if (!this.isFetching && evt instanceof RouteConfigLoadStart) {\r\n                this.isFetching = true;\r\n            }\r\n            if (evt instanceof NavigationError || evt instanceof NavigationCancel) {\r\n                this.isFetching = false;\r\n                if (evt instanceof NavigationError) {\r\n                    _message.error(`无法加载${evt.url}路由`, { nzDuration: 1000 * 3 });\r\n                }\r\n                return;\r\n            }\r\n            if (!(evt instanceof NavigationEnd || evt instanceof RouteConfigLoadEnd)) {\r\n                return;\r\n            }\r\n            if (this.isFetching) {\r\n                setTimeout(() => {\r\n                    this.isFetching = false;\r\n                }, 100);\r\n            }\r\n        });\r\n    }\r\n\r\n    private setClass() {\r\n        const { el, doc, renderer, settings } = this;\r\n        const layout = settings.layout;\r\n        updateHostClass(el.nativeElement, renderer, {\r\n            ['alain-default']: true,\r\n            [`alain-default__fixed`]: layout.fixed,\r\n            [`alain-default__collapsed`]: layout.collapsed,\r\n        });\r\n\r\n        doc.body.classList[layout.colorWeak ? 'add' : 'remove']('color-weak');\r\n    }\r\n\r\n    ngAfterViewInit(): void {\r\n        // Setting componet for only developer\r\n        if (true) {\r\n            setTimeout(() => {\r\n                const settingFactory = this.resolver.resolveComponentFactory(SettingDrawerComponent);\r\n                this.settingHost.createComponent(settingFactory);\r\n            }, 22);\r\n        }\r\n    }\r\n\r\n    ngOnInit() {\r\n        const { settings, unsubscribe$ } = this;\r\n        settings.notify.pipe(takeUntil(unsubscribe$)).subscribe(() => this.setClass());\r\n        this.setClass();\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        const { unsubscribe$ } = this;\r\n        unsubscribe$.next();\r\n        unsubscribe$.complete();\r\n    }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { eLayoutType } from '@abp/ng.core';\r\n@Component({\r\n    selector: 'layout-fullscreen',\r\n    templateUrl: './fullscreen.component.html',\r\n    // tslint:disable-next-line: no-host-metadata-property\r\n    host: {\r\n        '[class.alain-fullscreen]': 'true',\r\n    },\r\n})\r\nexport class LayoutFullScreenComponent {\r\n    static type = eLayoutType.empty;\r\n}\r\n","import { Component, ChangeDetectionStrategy } from '@angular/core';\r\nimport { SettingsService } from '@delon/theme';\r\n\r\n@Component({\r\n  selector: 'layout-header',\r\n  templateUrl: './header.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderComponent {\r\n  searchToggleStatus: boolean;\r\n\r\n  constructor(public settings: SettingsService) {}\r\n\r\n  toggleCollapsedSidebar() {\r\n    this.settings.setLayout('collapsed', !this.settings.layout.collapsed);\r\n  }\r\n\r\n  searchToggleChange() {\r\n    this.searchToggleStatus = !this.searchToggleStatus;\r\n  }\r\n}\r\n","import { Component, ChangeDetectionStrategy, TrackByFunction } from '@angular/core';\r\nimport { SettingsService, MenuService } from '@delon/theme';\r\nimport { Select } from '@ngxs/store';\r\nimport { Observable } from 'rxjs';\r\nimport { ABP, ConfigState, LocalizationPipe, ConfigStateService } from '@abp/ng.core';\r\nimport { map, tap } from 'rxjs/operators';\r\nimport { Menu } from '@delon/theme';\r\n@Component({\r\n  selector: 'layout-sidebar',\r\n  templateUrl: './sidebar.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class SidebarComponent {\r\n  @Select(ConfigState.getOne('auth'))\r\n  auth$: Observable<ABP.FullRoute[]>;\r\n  \r\n  constructor(\r\n    public configStateService: ConfigStateService,\r\n    public settings: SettingsService,\r\n    private menuService: MenuService,\r\n    private localizationPipe: LocalizationPipe\r\n  ) {\r\n    this.auth$.pipe(tap(x => {\r\n      var routes = this.configStateService.getOne('routes');\r\n      this.setMenu(routes);\r\n    })).subscribe();    \r\n  }\r\n\r\n  setMenu(routes: any) {\r\n    let result: Menu[] = [];\r\n    let condition = (x: ABP.FullRoute) => !!!x.invisible && this.isGrantedPolicy(x.requiredPolicy);\r\n    routes.filter(condition).forEach(first => {\r\n      let group: Menu = {\r\n        text: this.localizationPipe.transform(first.name),\r\n        group: true,\r\n        hideInBreadcrumb: true,\r\n        children: []\r\n      };\r\n      result.push(group);\r\n      first.children.filter(condition).forEach(second => {\r\n        if (second.children.length === 0) {\r\n          let left: Menu = {\r\n            text: this.localizationPipe.transform(second.name),\r\n            link: second.url,\r\n            icon: second.iconClass\r\n          };\r\n          if (left.link.split('/').length > 2)\r\n            group.children.push(left);\r\n        }\r\n        if (second.children.length != 0) {\r\n          let node: Menu = {\r\n            text: this.localizationPipe.transform(second.name),\r\n            icon: second.iconClass,\r\n            children: []\r\n          };\r\n          group.children.push(node);\r\n          second.children.filter(condition).forEach(third => {\r\n            let left: Menu = {\r\n              text: this.localizationPipe.transform(third.name),\r\n              link: third.url,\r\n              icon: third.iconClass\r\n            };\r\n            node.children.push(left);\r\n          })\r\n        }\r\n      })\r\n\r\n\r\n    });\r\n    this.menuService.clear();\r\n    this.menuService.add(result);\r\n\r\n  }\r\n\r\n  isGrantedPolicy(requiredPolicy: string) {\r\n    if (!!requiredPolicy) {\r\n      return this.configStateService.getGrantedPolicy(requiredPolicy);\r\n    }\r\n    return true;\r\n  }  \r\n}\r\n\r\n\r\n","import { Component, HostBinding, Input, ElementRef, AfterViewInit, ChangeDetectionStrategy } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'header-search',\r\n  template: `\r\n    <nz-input-group [nzAddOnBeforeIcon]=\"focus ? 'arrow-down' : 'search'\">\r\n      <input\r\n        nz-input\r\n        [(ngModel)]=\"q\"\r\n        (focus)=\"qFocus()\"\r\n        (blur)=\"qBlur()\"\r\n        [placeholder]=\"'menu.search.placeholder' | translate\"\r\n      />\r\n    </nz-input-group>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderSearchComponent implements AfterViewInit {\r\n  q: string;\r\n\r\n  qIpt: HTMLInputElement;\r\n\r\n  @HostBinding('class.alain-default__search-focus')\r\n  focus = false;\r\n\r\n  @HostBinding('class.alain-default__search-toggled')\r\n  searchToggled = false;\r\n\r\n  @Input()\r\n  set toggleChange(value: boolean) {\r\n    if (typeof value === 'undefined') return;\r\n    this.searchToggled = true;\r\n    this.focus = true;\r\n    setTimeout(() => this.qIpt.focus(), 300);\r\n  }\r\n\r\n  constructor(private el: ElementRef) {}\r\n\r\n  ngAfterViewInit() {\r\n    this.qIpt = (this.el.nativeElement as HTMLElement).querySelector('.ant-input') as HTMLInputElement;\r\n  }\r\n\r\n  qFocus() {\r\n    this.focus = true;\r\n  }\r\n\r\n  qBlur() {\r\n    this.focus = false;\r\n    this.searchToggled = false;\r\n  }\r\n}\r\n","import { Component, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\n// import * as distanceInWordsToNow from 'date-fns/distance_in_words_to_now';\r\nimport { NzMessageService } from 'ng-zorro-antd';\r\nimport { NoticeItem, NoticeIconList } from '@delon/abc';\r\n\r\n/**\r\n * 菜单通知\r\n */\r\n@Component({\r\n  selector: 'header-notify',\r\n  template: `\r\n    <notice-icon\r\n      [data]=\"data\"\r\n      [count]=\"count\"\r\n      [loading]=\"loading\"\r\n      btnClass=\"alain-default__nav-item\"\r\n      btnIconClass=\"alain-default__nav-item-icon\"\r\n      (select)=\"select($event)\"\r\n      (clear)=\"clear($event)\"\r\n      (popoverVisibleChange)=\"loadData()\"\r\n    ></notice-icon>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderNotifyComponent {\r\n  data: NoticeItem[] = [\r\n    {\r\n      title: '通知',\r\n      list: [],\r\n      emptyText: '你已查看所有通知',\r\n      emptyImage: 'https://gw.alipayobjects.com/zos/rmsportal/wAhyIChODzsoKIOBHcBk.svg',\r\n      clearText: '清空通知',\r\n    },\r\n    {\r\n      title: '消息',\r\n      list: [],\r\n      emptyText: '您已读完所有消息',\r\n      emptyImage: 'https://gw.alipayobjects.com/zos/rmsportal/sAuJeJzSKbUmHfBQRzmZ.svg',\r\n      clearText: '清空消息',\r\n    },\r\n    {\r\n      title: '待办',\r\n      list: [],\r\n      emptyText: '你已完成所有待办',\r\n      emptyImage: 'https://gw.alipayobjects.com/zos/rmsportal/HsIsxMZiWKrNUavQUXqx.svg',\r\n      clearText: '清空待办',\r\n    },\r\n  ];\r\n  count = 5;\r\n  loading = false;\r\n\r\n  constructor(private msg: NzMessageService, private cdr: ChangeDetectorRef) {}\r\n\r\n  private updateNoticeData(notices: NoticeIconList[]): NoticeItem[] {\r\n    const data = this.data.slice();\r\n    data.forEach(i => (i.list = []));\r\n\r\n    notices.forEach(item => {\r\n      const newItem = { ...item };\r\n      // if (newItem.datetime)\r\n      //  newItem.datetime = distanceInWordsToNow(item.datetime!, {\r\n      //    locale: (window as any).__locale__,\r\n      //  });\r\n      if (newItem.extra && newItem.status) {\r\n        newItem.color = {\r\n          todo: undefined,\r\n          processing: 'blue',\r\n          urgent: 'red',\r\n          doing: 'gold',\r\n        }[newItem.status];\r\n      }\r\n      data.find(w => w.title === newItem.type)!.list.push(newItem);\r\n    });\r\n    return data;\r\n  }\r\n\r\n  loadData() {\r\n    if (this.loading) return;\r\n    this.loading = true;\r\n    setTimeout(() => {\r\n      this.data = this.updateNoticeData([\r\n        {\r\n          id: '000000001',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png',\r\n          title: '你收到了 14 份新周报',\r\n          datetime: '2017-08-09',\r\n          type: '通知',\r\n        },\r\n        {\r\n          id: '000000002',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png',\r\n          title: '你推荐的 曲妮妮 已通过第三轮面试',\r\n          datetime: '2017-08-08',\r\n          type: '通知',\r\n        },\r\n        {\r\n          id: '000000003',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/kISTdvpyTAhtGxpovNWd.png',\r\n          title: '这种模板可以区分多种通知类型',\r\n          datetime: '2017-08-07',\r\n          read: true,\r\n          type: '通知',\r\n        },\r\n        {\r\n          id: '000000004',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png',\r\n          title: '左侧图标用于区分不同的类型',\r\n          datetime: '2017-08-07',\r\n          type: '通知',\r\n        },\r\n        {\r\n          id: '000000005',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png',\r\n          title: '内容不要超过两行字，超出时自动截断',\r\n          datetime: '2017-08-07',\r\n          type: '通知',\r\n        },\r\n        {\r\n          id: '000000006',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg',\r\n          title: '曲丽丽 评论了你',\r\n          description: '描述信息描述信息描述信息',\r\n          datetime: '2017-08-07',\r\n          type: '消息',\r\n        },\r\n        {\r\n          id: '000000007',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg',\r\n          title: '朱偏右 回复了你',\r\n          description: '这种模板用于提醒谁与你发生了互动，左侧放『谁』的头像',\r\n          datetime: '2017-08-07',\r\n          type: '消息',\r\n        },\r\n        {\r\n          id: '000000008',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg',\r\n          title: '标题',\r\n          description: '这种模板用于提醒谁与你发生了互动，左侧放『谁』的头像',\r\n          datetime: '2017-08-07',\r\n          type: '消息',\r\n        },\r\n        {\r\n          id: '000000009',\r\n          title: '任务名称',\r\n          description: '任务需要在 2017-01-12 20:00 前启动',\r\n          extra: '未开始',\r\n          status: 'todo',\r\n          type: '待办',\r\n        },\r\n        {\r\n          id: '000000010',\r\n          title: '第三方紧急代码变更',\r\n          description: '冠霖提交于 2017-01-06，需在 2017-01-07 前完成代码变更任务',\r\n          extra: '马上到期',\r\n          status: 'urgent',\r\n          type: '待办',\r\n        },\r\n        {\r\n          id: '000000011',\r\n          title: '信息安全考试',\r\n          description: '指派竹尔于 2017-01-09 前完成更新并发布',\r\n          extra: '已耗时 8 天',\r\n          status: 'doing',\r\n          type: '待办',\r\n        },\r\n        {\r\n          id: '000000012',\r\n          title: 'ABCD 版本发布',\r\n          description: '冠霖提交于 2017-01-06，需在 2017-01-07 前完成代码变更任务',\r\n          extra: '进行中',\r\n          status: 'processing',\r\n          type: '待办',\r\n        },\r\n      ]);\r\n      this.loading = false;\r\n      this.cdr.detectChanges();\r\n    }, 1000);\r\n  }\r\n\r\n  clear(type: string) {\r\n    this.msg.success(`清空了 ${type}`);\r\n  }\r\n\r\n  select(res: any) {\r\n    this.msg.success(`点击了 ${res.title} 的 ${res.item.title}`);\r\n  }\r\n}\r\n","import { Component, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'header-task',\r\n  template: `\r\n    <div\r\n      class=\"alain-default__nav-item\"\r\n      nz-dropdown\r\n      [nzDropdownMenu]=\"taskMenu\"\r\n      nzTrigger=\"click\"\r\n      nzPlacement=\"bottomRight\"\r\n      (nzVisibleChange)=\"change()\"\r\n    >\r\n      <nz-badge [nzDot]=\"true\">\r\n        <i nz-icon nzType=\"bell\" class=\"alain-default__nav-item-icon\"></i>\r\n      </nz-badge>\r\n    </div>\r\n    <nz-dropdown-menu #taskMenu=\"nzDropdownMenu\">\r\n      <div nz-menu class=\"wd-lg\">\r\n        <div *ngIf=\"loading\" class=\"mx-lg p-lg\"><nz-spin></nz-spin></div>\r\n        <nz-card *ngIf=\"!loading\" nzTitle=\"Notifications\" nzBordered=\"false\" class=\"ant-card__body-nopadding\">\r\n          <ng-template #extra><i nz-icon nzType=\"plus\"></i></ng-template>\r\n          <div\r\n            nz-row\r\n            [nzType]=\"'flex'\"\r\n            [nzJustify]=\"'center'\"\r\n            [nzAlign]=\"'middle'\"\r\n            class=\"py-sm bg-grey-lighter-h point\"\r\n          >\r\n            <div nz-col [nzSpan]=\"4\" class=\"text-center\">\r\n              <nz-avatar [nzSrc]=\"'./assets/tmp/img/1.png'\"></nz-avatar>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"20\">\r\n              <strong>cipchk</strong>\r\n              <p class=\"mb0\">Please tell me what happened in a few words, don't go into details.</p>\r\n            </div>\r\n          </div>\r\n          <div\r\n            nz-row\r\n            [nzType]=\"'flex'\"\r\n            [nzJustify]=\"'center'\"\r\n            [nzAlign]=\"'middle'\"\r\n            class=\"py-sm bg-grey-lighter-h point\"\r\n          >\r\n            <div nz-col [nzSpan]=\"4\" class=\"text-center\">\r\n              <nz-avatar [nzSrc]=\"'./assets/tmp/img/2.png'\"></nz-avatar>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"20\">\r\n              <strong>はなさき</strong>\r\n              <p class=\"mb0\">ハルカソラトキヘダツヒカリ</p>\r\n            </div>\r\n          </div>\r\n          <div\r\n            nz-row\r\n            [nzType]=\"'flex'\"\r\n            [nzJustify]=\"'center'\"\r\n            [nzAlign]=\"'middle'\"\r\n            class=\"py-sm bg-grey-lighter-h point\"\r\n          >\r\n            <div nz-col [nzSpan]=\"4\" class=\"text-center\">\r\n              <nz-avatar [nzSrc]=\"'./assets/tmp/img/3.png'\"></nz-avatar>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"20\">\r\n              <strong>苏先生</strong>\r\n              <p class=\"mb0\">请告诉我，我应该说点什么好？</p>\r\n            </div>\r\n          </div>\r\n          <div\r\n            nz-row\r\n            [nzType]=\"'flex'\"\r\n            [nzJustify]=\"'center'\"\r\n            [nzAlign]=\"'middle'\"\r\n            class=\"py-sm bg-grey-lighter-h point\"\r\n          >\r\n            <div nz-col [nzSpan]=\"4\" class=\"text-center\">\r\n              <nz-avatar [nzSrc]=\"'./assets/tmp/img/4.png'\"></nz-avatar>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"20\">\r\n              <strong>Kent</strong>\r\n              <p class=\"mb0\">Please tell me what happened in a few words, don't go into details.</p>\r\n            </div>\r\n          </div>\r\n          <div\r\n            nz-row\r\n            [nzType]=\"'flex'\"\r\n            [nzJustify]=\"'center'\"\r\n            [nzAlign]=\"'middle'\"\r\n            class=\"py-sm bg-grey-lighter-h point\"\r\n          >\r\n            <div nz-col [nzSpan]=\"4\" class=\"text-center\">\r\n              <nz-avatar [nzSrc]=\"'./assets/tmp/img/5.png'\"></nz-avatar>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"20\">\r\n              <strong>Jefferson</strong>\r\n              <p class=\"mb0\">Please tell me what happened in a few words, don't go into details.</p>\r\n            </div>\r\n          </div>\r\n          <div nz-row>\r\n            <div nz-col [nzSpan]=\"24\" class=\"pt-md border-top-1 text-center text-grey point\">\r\n              See All\r\n            </div>\r\n          </div>\r\n        </nz-card>\r\n      </div>\r\n    </nz-dropdown-menu>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderTaskComponent {\r\n  loading = true;\r\n\r\n  constructor(private cdr: ChangeDetectorRef) {}\r\n\r\n  change() {\r\n    setTimeout(() => {\r\n      this.loading = false;\r\n      this.cdr.detectChanges();\r\n    }, 500);\r\n  }\r\n}\r\n","import { Component, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'header-icon',\r\n  template: `\r\n    <div\r\n      class=\"alain-default__nav-item\"\r\n      nz-dropdown\r\n      [nzDropdownMenu]=\"iconMenu\"\r\n      nzTrigger=\"click\"\r\n      nzPlacement=\"bottomRight\"\r\n      (nzVisibleChange)=\"change()\"\r\n    >\r\n      <i nz-icon nzType=\"appstore\"></i>\r\n    </div>\r\n    <nz-dropdown-menu #iconMenu=\"nzDropdownMenu\">\r\n      <div nz-menu class=\"wd-xl animated jello\">\r\n        <nz-spin [nzSpinning]=\"loading\" [nzTip]=\"'正在读取数据...'\">\r\n          <div nz-row [nzType]=\"'flex'\" [nzJustify]=\"'center'\" [nzAlign]=\"'middle'\" class=\"app-icons\">\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"calendar\" class=\"bg-error text-white\"></i>\r\n              <small>Calendar</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"file\" class=\"bg-geekblue text-white\"></i>\r\n              <small>Files</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"cloud\" class=\"bg-success text-white\"></i>\r\n              <small>Cloud</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"star\" class=\"bg-magenta text-white\"></i>\r\n              <small>Star</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"team\" class=\"bg-purple text-white\"></i>\r\n              <small>Team</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"scan\" class=\"bg-warning text-white\"></i>\r\n              <small>QR</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"pay-circle\" class=\"bg-cyan text-white\"></i>\r\n              <small>Pay</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"printer\" class=\"bg-grey text-white\"></i>\r\n              <small>Print</small>\r\n            </div>\r\n          </div>\r\n        </nz-spin>\r\n      </div>\r\n    </nz-dropdown-menu>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderIconComponent {\r\n  loading = true;\r\n\r\n  constructor(private cdr: ChangeDetectorRef) {}\r\n\r\n  change() {\r\n    setTimeout(() => {\r\n      this.loading = false;\r\n      this.cdr.detectChanges();\r\n    }, 500);\r\n  }\r\n}\r\n","import { Component, HostListener, ChangeDetectionStrategy } from '@angular/core';\r\nimport * as screenfull from 'screenfull';\r\n\r\n@Component({\r\n  selector: 'header-fullscreen',\r\n  template: `\r\n    <i nz-icon [nzType]=\"status ? 'fullscreen-exit' : 'fullscreen'\"></i>\r\n    {{ (status ? 'menu.fullscreen.exit' : 'menu.fullscreen') | translate }}\r\n  `,\r\n  // tslint:disable-next-line: no-host-metadata-property\r\n  host: {\r\n    '[class.d-block]': 'true',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderFullScreenComponent {\r\n  status = false;\r\n  private get sf(): screenfull.Screenfull {\r\n    return screenfull as screenfull.Screenfull;\r\n  }\r\n\r\n  @HostListener('window:resize')\r\n  _resize() {\r\n    this.status = this.sf.isFullscreen;\r\n  }\r\n\r\n  @HostListener('click')\r\n  _click() {\r\n    if (this.sf.isEnabled) {\r\n      this.sf.toggle();\r\n    }\r\n  }\r\n}\r\n","import { Component, Inject, Input, ChangeDetectionStrategy } from '@angular/core';\r\nimport { DOCUMENT } from '@angular/common';\r\nimport { SettingsService, ALAIN_I18N_TOKEN } from '@delon/theme';\r\nimport { InputBoolean } from '@delon/util';\r\n\r\nimport { I18NService } from '@fs/ng-alain';\r\nimport { Select, Store } from '@ngxs/store';\r\nimport { ConfigState, ApplicationConfiguration, SessionState, SetLanguage } from '@abp/ng.core';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\nimport snq from 'snq';\r\n\r\n@Component({\r\n    selector: 'header-i18n',\r\n    template: `\r\n    <div nz-dropdown [nzDropdownMenu]=\"langMenu\" nzPlacement=\"bottomRight\">\r\n      <i nz-icon nzType=\"global\"></i>\r\n      {{ defaultLanguage$ | async }}\r\n      <i nz-icon nzType=\"down\"></i>\r\n    </div>\r\n    <nz-dropdown-menu #langMenu=\"nzDropdownMenu\">\r\n      <ul nz-menu>\r\n        <li\r\n          nz-menu-item\r\n          *ngFor=\"let lang of dropdownLanguages$ | async\"\r\n          [nzSelected]=\"lang.cultureName === selectedLangCulture\"\r\n          (click)=\"onChangeLang(lang.cultureName)\"\r\n        >\r\n         <span role=\"img\" [attr.aria-label]=\"lang?.displayName\" class=\"pr-xs\">{{lang.cultureName}}</span>\r\n          {{ lang?.displayName }}\r\n        </li>\r\n      </ul>\r\n    </nz-dropdown-menu>\r\n  `,\r\n    changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderI18nComponent {\r\n    @Select(ConfigState.getDeep('localization.languages'))\r\n    languages$: Observable<ApplicationConfiguration.Language[]>;\r\n    get selectedLangCulture(): string {\r\n        return this.store.selectSnapshot(SessionState.getLanguage);\r\n    }\r\n    get defaultLanguage$(): Observable<string> {\r\n        return this.languages$.pipe(\r\n            map(languages => snq(() => languages.find(lang => lang.cultureName === this.selectedLangCulture).displayName), '')\r\n        );\r\n    }\r\n    get dropdownLanguages$(): Observable<ApplicationConfiguration.Language[]> {\r\n        return this.languages$.pipe(\r\n            map(languages => snq(() => languages, []))\r\n        );\r\n    }\r\n    constructor(\r\n        private store: Store\r\n    ) {}\r\n    onChangeLang(cultureName: string) {\r\n        this.store.dispatch(new SetLanguage(cultureName));\r\n    }\r\n}\r\n","import { Component, HostListener, ChangeDetectionStrategy } from '@angular/core';\r\nimport { NzModalService, NzMessageService } from 'ng-zorro-antd';\r\n\r\n@Component({\r\n  selector: 'header-storage',\r\n  template: `\r\n    <i nz-icon nzType=\"tool\"></i>\r\n    {{ 'menu.clear.local.storage' | translate }}\r\n  `,\r\n  // tslint:disable-next-line: no-host-metadata-property\r\n  host: {\r\n    '[class.d-block]': 'true',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderStorageComponent {\r\n  constructor(private modalSrv: NzModalService, private messageSrv: NzMessageService) {}\r\n\r\n  @HostListener('click')\r\n  _click() {\r\n    this.modalSrv.confirm({\r\n      nzTitle: 'Make sure clear all local storage?',\r\n      nzOnOk: () => {\r\n        localStorage.clear();\r\n        this.messageSrv.success('Clear Finished!');\r\n      },\r\n    });\r\n  }\r\n}\r\n","import { Component, Inject, ChangeDetectionStrategy } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { SettingsService } from '@delon/theme';\r\nimport { DA_SERVICE_TOKEN, ITokenService } from '@delon/auth';\r\nimport { Store, Select } from '@ngxs/store';\r\nimport { OAuthService } from 'angular-oauth2-oidc';\r\nimport { Navigate, RouterState } from '@ngxs/router-plugin';\r\nimport { GetAppConfiguration, ConfigState, ApplicationConfiguration, SessionState, ABP } from '@abp/ng.core';\r\nimport { Observable } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'header-user',\r\n  template: `\r\n    <div\r\n      class=\"alain-default__nav-item d-flex align-items-center px-sm\"\r\n      nz-dropdown\r\n      nzPlacement=\"bottomRight\"\r\n      [nzDropdownMenu]=\"userMenu\"\r\n    >\r\n      <!--<nz-avatar [nzSrc]=\"settings.user.avatar\" nzSize=\"small\" class=\"mr-sm\"></nz-avatar>-->\r\n      {{tenantName}}/{{ (currentUser$ | async)?.userName }}\r\n    </div>\r\n    <nz-dropdown-menu #userMenu=\"nzDropdownMenu\">\r\n      <div nz-menu class=\"width-sm\">\r\n        <div nz-menu-item routerLink=\"/account/manage-profile\">\r\n          <i nz-icon nzType=\"setting\" class=\"mr-sm\"></i>\r\n          {{ 'AbpAccount::ManageYourProfile' | abpLocalization }}\r\n        </div>\r\n        <li nz-menu-divider></li>\r\n        <div nz-menu-item (click)=\"logout()\">\r\n          <i nz-icon nzType=\"logout\" class=\"mr-sm\"></i>\r\n          {{ 'AbpUi::Logout' | abpLocalization }}\r\n        </div>\r\n      </div>\r\n    </nz-dropdown-menu>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderUserComponent {\r\n  @Select(ConfigState.getOne('currentUser'))\r\n  currentUser$: Observable<ApplicationConfiguration.CurrentUser>;\r\n\r\n  tenant = {} as ABP.BasicItem;\r\n\r\n  tenantName: string;\r\n\r\n  constructor(\r\n    public settings: SettingsService,\r\n    private router: Router,\r\n    @Inject(DA_SERVICE_TOKEN) private tokenService: ITokenService,\r\n    private store: Store,\r\n    private oauthService: OAuthService\r\n  ) {\r\n    this.tenant =\r\n      this.store.selectSnapshot(SessionState.getTenant) ||\r\n      ({} as ABP.BasicItem);\r\n    this.tenantName = this.tenant.name || '.';\r\n  }\r\n\r\n  //logout() {\r\n  //  this.tokenService.clear();\r\n  //  this.router.navigateByUrl(this.tokenService.login_url!);\r\n  //  }\r\n  logout() {\r\n    this.oauthService.logOut();\r\n    this.store.dispatch(\r\n      new Navigate(['/'], null, {\r\n        state: { redirectUrl: this.store.selectSnapshot(RouterState).state.url }\r\n      })\r\n    );\r\n    this.store.dispatch(new GetAppConfiguration());\r\n  }\r\n}\r\n","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'setting-drawer-item',\r\n  templateUrl: './setting-drawer-item.component.html',\r\n  // tslint:disable-next-line: no-host-metadata-property\r\n  host: {\r\n    '[class.setting-drawer__body-item]': 'true',\r\n  },\r\n})\r\nexport class SettingDrawerItemComponent {\r\n  i: any = {};\r\n  @Input()\r\n  set data(val: any) {\r\n    this.i = val;\r\n    if (val.type === 'px') {\r\n      this.pxVal = +val.value.replace('px', '');\r\n    }\r\n  }\r\n\r\n  pxVal: number;\r\n  pxChange(val: number) {\r\n    this.i.value = `${val}px`;\r\n  }\r\n  format = value => `${value} px`;\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { eLayoutType } from '@abp/ng.core';\r\n\r\n@Component({\r\n    selector: 'layout-passport',\r\n    templateUrl: './passport.component.html',\r\n    styleUrls: ['./passport.component.less'],\r\n})\r\nexport class LayoutPassportComponent {\r\n    static type = eLayoutType.account;\r\n    links = [\r\n        {\r\n            title: '帮助',\r\n            href: '',\r\n        },\r\n        {\r\n            title: '隐私',\r\n            href: '',\r\n        },\r\n        {\r\n            title: '条款',\r\n            href: '',\r\n        },\r\n    ];\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { NgAlainSharedModule } from '@fs/ng-alain/shared';\r\nimport { CoreModule} from '@abp/ng.core'\r\nimport { LayoutDefaultComponent } from './default/default.component';\r\nimport { LayoutFullScreenComponent } from './fullscreen/fullscreen.component';\r\nimport { HeaderComponent } from './default/header/header.component';\r\nimport { SidebarComponent } from './default/sidebar/sidebar.component';\r\nimport { HeaderSearchComponent } from './default/header/components/search.component';\r\nimport { HeaderNotifyComponent } from './default/header/components/notify.component';\r\nimport { HeaderTaskComponent } from './default/header/components/task.component';\r\nimport { HeaderIconComponent } from './default/header/components/icon.component';\r\nimport { HeaderFullScreenComponent } from './default/header/components/fullscreen.component';\r\nimport { HeaderI18nComponent } from './default/header/components/i18n.component';\r\nimport { HeaderStorageComponent } from './default/header/components/storage.component';\r\nimport { HeaderUserComponent } from './default/header/components/user.component';\r\n\r\nimport { SettingDrawerComponent } from './default/setting-drawer/setting-drawer.component';\r\nimport { SettingDrawerItemComponent } from './default/setting-drawer/setting-drawer-item.component';\r\n\r\nconst SETTINGDRAWER = [SettingDrawerComponent, SettingDrawerItemComponent];\r\nconst COMPONENTS = [\r\n    LayoutDefaultComponent,\r\n    LayoutFullScreenComponent,\r\n    HeaderComponent,\r\n    SidebarComponent,\r\n    ...SETTINGDRAWER,\r\n];\r\n\r\nconst HEADERCOMPONENTS = [\r\n    HeaderSearchComponent,\r\n    HeaderNotifyComponent,\r\n    HeaderTaskComponent,\r\n    HeaderIconComponent,\r\n    HeaderFullScreenComponent,\r\n    HeaderI18nComponent,\r\n    HeaderStorageComponent,\r\n    HeaderUserComponent,\r\n];\r\n\r\n// passport\r\nimport { LayoutPassportComponent } from './passport/passport.component';\r\nconst PASSPORT = [LayoutPassportComponent];\r\n\r\n@NgModule({\r\n    imports: [CoreModule, NgAlainSharedModule],\r\n    entryComponents: [...SETTINGDRAWER, LayoutDefaultComponent, LayoutFullScreenComponent, LayoutPassportComponent],\r\n    declarations: [...COMPONENTS, ...HEADERCOMPONENTS, ...PASSPORT],\r\n    exports: [...COMPONENTS, ...PASSPORT]\r\n})\r\nexport class LayoutModule { }\r\n","import { CoreModule } from '@abp/ng.core';\r\nimport { ThemeBasicModule } from '@abp/ng.theme.basic';\r\nimport { NgAlainSharedModule } from '@fs/ng-alain/shared';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { LayoutModule } from './layout/layout.module';\r\n@NgModule({\r\n    imports: [\r\n        CoreModule,\r\n        ThemeBasicModule,\r\n        NgAlainSharedModule,\r\n        LayoutModule\r\n    ],\r\n    exports: [\r\n        ThemeBasicModule,\r\n        NgAlainSharedModule,\r\n        LayoutModule\r\n    ]\r\n})\r\nexport class NgAlainBasicModule { }\r\n"]}