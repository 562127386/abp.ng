{"version":3,"sources":["../../../../node_modules/tslib/tslib.es6.js","../../../../themes/ng-alain/layout/src/default/setting-drawer/setting-drawer.component.ts","../../../../themes/ng-alain/layout/src/default/default.component.ts","../../../../themes/ng-alain/layout/src/default/header/components/fullscreen.component.ts","../../../../themes/ng-alain/layout/src/default/header/components/i18n.component.ts","../../../../themes/ng-alain/layout/src/default/header/components/icon.component.ts","../../../../themes/ng-alain/layout/src/default/header/components/notify.component.ts","../../../../themes/ng-alain/layout/src/default/header/components/search.component.ts","../../../../themes/ng-alain/layout/src/default/header/components/storage.component.ts","../../../../themes/ng-alain/layout/src/default/header/components/task.component.ts","../../../../themes/ng-alain/layout/src/default/header/components/user.component.ts","../../../../themes/ng-alain/layout/src/default/header/header.component.ts","../../../../themes/ng-alain/layout/src/default/sidebar/sidebar.component.ts","../../../../themes/ng-alain/layout/src/fullscreen/fullscreen.component.ts","../../../../themes/ng-alain/layout/src/default/setting-drawer/setting-drawer-item.component.ts","../../../../themes/ng-alain/layout/src/default/theme-btn/theme-btn.component.ts","../../../../themes/ng-alain/layout/src/passport/passport.component.ts","../../../../themes/ng-alain/layout/src/layout.module.ts"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__read","o","n","m","Symbol","iterator","e","call","ar","next","done","push","value","error","__spread","concat","DEFAULT_COLORS","color","DEFAULT_VARS","primary-color","label","type","default","alain-default-header-hg","max","min","alain-default-header-bg","tip","alain-default-header-padding","alain-default-aside-wd","alain-default-aside-bg","alain-default-aside-collapsed-wd","alain-default-aside-nav-padding-top-bottom","step","alain-default-aside-nav-fs","alain-default-aside-collapsed-nav-fs","alain-default-aside-nav-item-height","alain-default-aside-nav-text-color","rgba","alain-default-aside-nav-text-hover-color","alain-default-aside-nav-group-text-color","alain-default-aside-nav-selected-text-color","alain-default-aside-nav-selected-bg","alain-default-content-bg","alain-default-content-heading-bg","alain-default-content-heading-border","alain-default-content-padding","form-state-visual-feedback-enabled","preserve-white-spaces-enabled","nz-table-img-radius","nz-table-img-margin-right","nz-table-img-max-width","nz-table-img-max-height","SettingDrawerComponent","cdr","msg","settingSrv","lazy","zone","doc","this","loadedLess","collapse","data","colors","cachedData","DEFAULT_PRIMARY","resetData","prototype","layout","loadLess","_this","Promise","resolve","loadStyle","then","lessConfigNode","createElement","innerHTML","body","appendChild","loadScript","genVars","validKeys","vars","_a","filter","forEach","setLayout","runLess","msgId","loading","nzDuration","messageId","setTimeout","runOutsideAngular","window","less","modifyVars","success","remove","run","detectChanges","toggle","changeColor","keys","name","nowData","deepCopy","apply","reset","copyVar","copyContent","map","join","copy","Component","selector","template","host","[class.setting-drawer]","changeDetection","ChangeDetectionStrategy","OnPush","Inject","DOCUMENT","ChangeDetectorRef","NzMessageService","SettingsService","LazyService","NgZone","LayoutDefaultComponent","router","msgSrv","resolver","settings","el","renderer","unsubscribe$","Subject","isFetching","events","pipe","takeUntil","subscribe","evt","RouteConfigLoadStart","NavigationError","NavigationCancel","url","NavigationEnd","RouteConfigLoadEnd","setClass","updateHostClass","nativeElement","fixed","collapsed","classList","colorWeak","ngAfterViewInit","settingFactory","resolveComponentFactory","settingHost","createComponent","ngOnInit","notify","ngOnDestroy","complete","ViewChild","read","ViewContainerRef","static","Router","ComponentFactoryResolver","ElementRef","Renderer2","HeaderFullScreenComponent","status","screenfull","_resize","sf","isFullscreen","_click","isEnabled","HostListener","[class.d-block]","HeaderI18nComponent","i18n","store","showLangText","languages$","languages","snq","find","lang","cultureName","selectedLangCulture","displayName","selectSnapshot","SessionState","getLanguage","getLangs","onChangeLang","dispatch","SetLanguage","Select","ConfigState","getDeep","Observable","Input","InputBoolean","ALAIN_I18N_TOKEN","I18NService","Store","HeaderIconComponent","change","HeaderNotifyComponent","nzI18n","title","list","emptyText","emptyImage","clearText","count","updateNoticeData","notices","slice","item","newItem","assign","datetime","parse","Date","formatDistanceToNow","locale","getDateLocale","extra","todo","undefined","processing","urgent","doing","w","loadData","now","id","avatar","add","days","months","years","description","clear","select","res","NzI18nService","HeaderSearchComponent","focus","searchToggled","qIpt","querySelector","qFocus","qBlur","HostBinding","HeaderStorageComponent","modalSrv","messageSrv","confirm","nzTitle","nzOnOk","localStorage","NzModalService","HeaderTaskComponent","HeaderUserComponent","authService","tokenService","logout","navigate","state","redirectUrl","getOne","DA_SERVICE_TOKEN","AuthService","HeaderComponent","getApplicationInfo","toggleCollapsedSidebar","searchToggleChange","searchToggleStatus","SidebarComponent","menuService","routes","configStateService","localizationPipe","visible$","x","setMenu","result","condition","invisible","isGrantedPolicy","requiredPolicy","first","group","text","transform","hideInBreadcrumb","children","second","left","link","path","icon","iconClass","split","node_1","third","getGrantedPolicy","MenuService","RoutesService","ConfigStateService","LocalizationPipe","LayoutFullScreenComponent","[class.alain-fullscreen]","SettingDrawerItemComponent","format","val","pxVal","replace","pxChange","[class.setting-drawer__body-item]","LayoutThemeBtnComponent","configSrv","theme","initTheme","getItem","updateChartTheme","onThemeChange","set","setAttribute","document","dom","getElementById","removeItem","style","rel","href","setItem","append","AlainConfigService","LayoutPassportComponent","links","SETTINGDRAWER","COMPONENTS","HEADERCOMPONENTS","PASSPORT","LayoutModule","NgModule","imports","SharedModule","entryComponents","declarations","exports"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { DOCUMENT } from '@angular/common';\r\nimport { ChangeDetectionStrategy, ChangeDetectorRef, Component, Inject, NgZone } from '@angular/core';\r\nimport { SettingsService } from '@delon/theme';\r\nimport { copy, deepCopy, LazyService } from '@delon/util';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\n\r\nconst ALAINDEFAULTVAR = 'alain-default-vars';\r\nconst DEFAULT_COLORS = [\r\n  {\r\n    key: 'dust',\r\n    color: '#F5222D',\r\n  },\r\n  {\r\n    key: 'volcano',\r\n    color: '#FA541C',\r\n  },\r\n  {\r\n    key: 'sunset',\r\n    color: '#FAAD14',\r\n  },\r\n  {\r\n    key: 'cyan',\r\n    color: '#13C2C2',\r\n  },\r\n  {\r\n    key: 'green',\r\n    color: '#52C41A',\r\n  },\r\n  {\r\n    key: 'daybreak',\r\n    color: '#1890ff',\r\n  },\r\n  {\r\n    key: 'geekblue',\r\n    color: '#2F54EB',\r\n  },\r\n  {\r\n    key: 'purple',\r\n    color: '#722ED1',\r\n  },\r\n  {\r\n    key: 'black',\r\n    color: '#001529',\r\n  },\r\n];\r\nconst DEFAULT_VARS = {\r\n  'primary-color': { label: '主颜色', type: 'color', default: '#1890ff' },\r\n  'alain-default-header-hg': {\r\n    label: '高',\r\n    type: 'px',\r\n    default: '64px',\r\n    max: 300,\r\n    min: 24,\r\n  },\r\n  'alain-default-header-bg': {\r\n    label: '背景色',\r\n    type: 'color',\r\n    default: '@primary-color',\r\n    tip: '默认同主色系',\r\n  },\r\n  'alain-default-header-padding': {\r\n    label: '顶部左右内边距',\r\n    type: 'px',\r\n    default: '16px',\r\n  },\r\n  // 侧边栏\r\n  'alain-default-aside-wd': { label: '宽度', type: 'px', default: '200px' },\r\n  'alain-default-aside-bg': {\r\n    label: '背景',\r\n    type: 'color',\r\n    default: '#ffffff',\r\n  },\r\n  'alain-default-aside-collapsed-wd': {\r\n    label: '收缩宽度',\r\n    type: 'px',\r\n    default: '64px',\r\n  },\r\n  'alain-default-aside-nav-padding-top-bottom': {\r\n    label: '项上下内边距',\r\n    type: 'px',\r\n    default: '8px',\r\n    step: 8,\r\n  },\r\n  // 主菜单\r\n  'alain-default-aside-nav-fs': {\r\n    label: '菜单字号',\r\n    type: 'px',\r\n    default: '14px',\r\n    min: 14,\r\n    max: 30,\r\n  },\r\n  'alain-default-aside-collapsed-nav-fs': {\r\n    label: '收缩菜单字号',\r\n    type: 'px',\r\n    default: '24px',\r\n    min: 24,\r\n    max: 32,\r\n  },\r\n  'alain-default-aside-nav-item-height': {\r\n    label: '菜单项高度',\r\n    type: 'px',\r\n    default: '38px',\r\n    min: 24,\r\n    max: 64,\r\n  },\r\n  'alain-default-aside-nav-text-color': {\r\n    label: '菜单文本颜色',\r\n    type: 'color',\r\n    default: 'rgba(0, 0, 0, 0.65)',\r\n    rgba: true,\r\n  },\r\n  'alain-default-aside-nav-text-hover-color': {\r\n    label: '菜单文本悬停颜色',\r\n    type: 'color',\r\n    default: '@primary-color',\r\n    tip: '默认同主色系',\r\n  },\r\n  'alain-default-aside-nav-group-text-color': {\r\n    label: '菜单分组文本颜色',\r\n    type: 'color',\r\n    default: 'rgba(0, 0, 0, 0.43)',\r\n    rgba: true,\r\n  },\r\n  'alain-default-aside-nav-selected-text-color': {\r\n    label: '菜单激活时文本颜色',\r\n    type: 'color',\r\n    default: '@primary-color',\r\n    tip: '默认同主色系',\r\n  },\r\n  'alain-default-aside-nav-selected-bg': {\r\n    label: '菜单激活时背景颜色',\r\n    type: 'color',\r\n    default: '#fcfcfc',\r\n  },\r\n  // 内容\r\n  'alain-default-content-bg': {\r\n    label: '背景色',\r\n    type: 'color',\r\n    default: '#f5f7fa',\r\n  },\r\n  'alain-default-content-heading-bg': {\r\n    label: '标题背景色',\r\n    type: 'color',\r\n    default: '#fafbfc',\r\n  },\r\n  'alain-default-content-heading-border': {\r\n    label: '标题底部边框色',\r\n    type: 'color',\r\n    default: '#efe3e5',\r\n  },\r\n  'alain-default-content-padding': {\r\n    label: '内边距',\r\n    type: 'px',\r\n    default: '24px',\r\n    min: 0,\r\n    max: 128,\r\n    step: 8,\r\n  },\r\n  // zorro组件修正\r\n  'form-state-visual-feedback-enabled': {\r\n    label: '开启表单元素的视觉反馈',\r\n    type: 'switch',\r\n    default: true,\r\n  },\r\n  'preserve-white-spaces-enabled': {\r\n    label: '开启 preserveWhitespaces',\r\n    type: 'switch',\r\n    default: true,\r\n  },\r\n  'nz-table-img-radius': {\r\n    label: '表格中：图片圆角',\r\n    type: 'px',\r\n    default: '4px',\r\n    min: 0,\r\n    max: 128,\r\n  },\r\n  'nz-table-img-margin-right': {\r\n    label: '表格中：图片右外边距',\r\n    type: 'px',\r\n    default: '4px',\r\n    min: 0,\r\n    max: 128,\r\n  },\r\n  'nz-table-img-max-width': {\r\n    label: '表格中：图片最大宽度',\r\n    type: 'px',\r\n    default: '32px',\r\n    min: 8,\r\n    max: 128,\r\n  },\r\n  'nz-table-img-max-height': {\r\n    label: '表格中：图片最大高度',\r\n    type: 'px',\r\n    default: '32px',\r\n    min: 8,\r\n    max: 128,\r\n  },\r\n};\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'setting-drawer',\r\n  templateUrl: './setting-drawer.component.html',\r\n  // tslint:disable-next-line: no-host-metadata-property\r\n  host: {\r\n    '[class.setting-drawer]': 'true',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class SettingDrawerComponent {\r\n  private loadedLess = false;\r\n\r\n  collapse = false;\r\n  get layout() {\r\n    return this.settingSrv.layout;\r\n  }\r\n  data: any = {};\r\n  color: string;\r\n  colors = DEFAULT_COLORS;\r\n\r\n  constructor(\r\n    private cdr: ChangeDetectorRef,\r\n    private msg: NzMessageService,\r\n    private settingSrv: SettingsService,\r\n    private lazy: LazyService,\r\n    private zone: NgZone,\r\n    @Inject(DOCUMENT) private doc: any,\r\n  ) {\r\n    this.color = this.cachedData['@primary-color'] || this.DEFAULT_PRIMARY;\r\n    this.resetData(this.cachedData, false);\r\n  }\r\n\r\n  private get cachedData() {\r\n    return this.settingSrv.layout[ALAINDEFAULTVAR] || {};\r\n  }\r\n\r\n  private get DEFAULT_PRIMARY() {\r\n    return DEFAULT_VARS['primary-color'].default;\r\n  }\r\n\r\n  private loadLess(): Promise<void> {\r\n    if (this.loadedLess) {\r\n      return Promise.resolve();\r\n    }\r\n    return this.lazy\r\n      .loadStyle('./assets/alain-default.less', 'stylesheet/less')\r\n      .then(() => {\r\n        const lessConfigNode = this.doc.createElement('script');\r\n        lessConfigNode.innerHTML = `\r\n          window.less = {\r\n            async: true,\r\n            env: 'production',\r\n            javascriptEnabled: true\r\n          };\r\n        `;\r\n        this.doc.body.appendChild(lessConfigNode);\r\n      })\r\n      .then(() => this.lazy.loadScript('https://gw.alipayobjects.com/os/lib/less.js/3.8.1/less.min.js'))\r\n      .then(() => {\r\n        this.loadedLess = true;\r\n      });\r\n  }\r\n\r\n  private genVars() {\r\n    const { data, color, validKeys } = this;\r\n    const vars: any = {\r\n      [`@primary-color`]: color,\r\n    };\r\n    validKeys.filter((key) => key !== 'primary-color').forEach((key) => (vars[`@${key}`] = data[key].value));\r\n    this.setLayout(ALAINDEFAULTVAR, vars);\r\n    return vars;\r\n  }\r\n\r\n  private runLess() {\r\n    const { zone, msg, cdr } = this;\r\n    const msgId = msg.loading(`正在编译主题！`, { nzDuration: 0 }).messageId;\r\n    setTimeout(() => {\r\n      zone.runOutsideAngular(() => {\r\n        this.loadLess().then(() => {\r\n          (window as any).less.modifyVars(this.genVars()).then(() => {\r\n            msg.success('成功');\r\n            msg.remove(msgId);\r\n            zone.run(() => cdr.detectChanges());\r\n          });\r\n        });\r\n      });\r\n    }, 200);\r\n  }\r\n\r\n  toggle() {\r\n    this.collapse = !this.collapse;\r\n  }\r\n\r\n  changeColor(color: string) {\r\n    this.color = color;\r\n    Object.keys(DEFAULT_VARS)\r\n      .filter((key) => DEFAULT_VARS[key].default === '@primary-color')\r\n      .forEach((key) => delete this.cachedData[`@${key}`]);\r\n    this.resetData(this.cachedData, false);\r\n  }\r\n\r\n  setLayout(name: string, value: any) {\r\n    this.settingSrv.setLayout(name, value);\r\n  }\r\n\r\n  private resetData(nowData?: {}, run = true) {\r\n    nowData = nowData || {};\r\n    const data = deepCopy(DEFAULT_VARS);\r\n    Object.keys(data).forEach((key) => {\r\n      const value = nowData[`@${key}`] || data[key].default || '';\r\n      data[key].value = value === `@primary-color` ? this.color : value;\r\n    });\r\n    this.data = data;\r\n    if (run) {\r\n      this.cdr.detectChanges();\r\n      this.runLess();\r\n    }\r\n  }\r\n\r\n  private get validKeys(): string[] {\r\n    return Object.keys(this.data).filter((key) => this.data[key].value !== this.data[key].default);\r\n  }\r\n\r\n  apply() {\r\n    this.runLess();\r\n  }\r\n\r\n  reset() {\r\n    this.color = this.DEFAULT_PRIMARY;\r\n    this.settingSrv.setLayout(ALAINDEFAULTVAR, {});\r\n    this.resetData({});\r\n  }\r\n\r\n  copyVar() {\r\n    const vars = this.genVars();\r\n    const copyContent = Object.keys(vars)\r\n      .map((key) => `${key}: ${vars[key]};`)\r\n      .join('\\n');\r\n    copy(copyContent);\r\n    this.msg.success('Copy success');\r\n  }\r\n}\r\n","import { DOCUMENT } from '@angular/common';\r\nimport {\r\n  AfterViewInit,\r\n  Component,\r\n  ComponentFactoryResolver,\r\n  ElementRef,\r\n  Inject,\r\n  OnDestroy,\r\n  OnInit,\r\n  Renderer2,\r\n  ViewChild,\r\n  ViewContainerRef,\r\n} from '@angular/core';\r\nimport { NavigationCancel, NavigationEnd, NavigationError, RouteConfigLoadEnd, RouteConfigLoadStart, Router } from '@angular/router';\r\nimport { SettingsService } from '@delon/theme';\r\nimport { updateHostClass } from '@delon/util';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\n\r\nimport { SettingDrawerComponent } from './setting-drawer/setting-drawer.component';\r\n\r\n@Component({\r\n  selector: 'layout-default',\r\n  templateUrl: './default.component.html',\r\n})\r\nexport class LayoutDefaultComponent implements OnInit, AfterViewInit, OnDestroy {\r\n  private unsubscribe$ = new Subject<void>();\r\n  @ViewChild('settingHost', { read: ViewContainerRef, static: true })\r\n  private settingHost: ViewContainerRef;\r\n  isFetching = false;\r\n\r\n  constructor(\r\n    router: Router,\r\n    msgSrv: NzMessageService,\r\n    private resolver: ComponentFactoryResolver,\r\n    private settings: SettingsService,\r\n    private el: ElementRef,\r\n    private renderer: Renderer2,\r\n    @Inject(DOCUMENT) private doc: any,\r\n  ) {\r\n    // scroll to top in change page\r\n    router.events.pipe(takeUntil(this.unsubscribe$)).subscribe((evt) => {\r\n      if (!this.isFetching && evt instanceof RouteConfigLoadStart) {\r\n        this.isFetching = true;\r\n      }\r\n      if (evt instanceof NavigationError || evt instanceof NavigationCancel) {\r\n        this.isFetching = false;\r\n        if (evt instanceof NavigationError) {\r\n          msgSrv.error(`无法加载${evt.url}路由`, { nzDuration: 1000 * 3 });\r\n        }\r\n        return;\r\n      }\r\n      if (!(evt instanceof NavigationEnd || evt instanceof RouteConfigLoadEnd)) {\r\n        return;\r\n      }\r\n      if (this.isFetching) {\r\n        setTimeout(() => {\r\n          this.isFetching = false;\r\n        }, 100);\r\n      }\r\n    });\r\n  }\r\n\r\n  private setClass() {\r\n    const { el, doc, renderer, settings } = this;\r\n    const layout = settings.layout;\r\n    updateHostClass(el.nativeElement, renderer, {\r\n      ['alain-default']: true,\r\n      [`alain-default__fixed`]: layout.fixed,\r\n      [`alain-default__collapsed`]: layout.collapsed,\r\n    });\r\n\r\n    doc.body.classList[layout.colorWeak ? 'add' : 'remove']('color-weak');\r\n  }\r\n\r\n  ngAfterViewInit(): void {\r\n    // Setting componet for only developer\r\n    if (true) {\r\n      setTimeout(() => {\r\n        const settingFactory = this.resolver.resolveComponentFactory(SettingDrawerComponent);\r\n        this.settingHost.createComponent(settingFactory);\r\n      }, 22);\r\n    }\r\n  }\r\n\r\n  ngOnInit() {\r\n    const { settings, unsubscribe$ } = this;\r\n    settings.notify.pipe(takeUntil(unsubscribe$)).subscribe(() => this.setClass());\r\n    this.setClass();\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    const { unsubscribe$ } = this;\r\n    unsubscribe$.next();\r\n    unsubscribe$.complete();\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, HostListener } from '@angular/core';\r\nimport * as screenfull from 'screenfull';\r\n\r\n@Component({\r\n  selector: 'header-fullscreen',\r\n  template: `\r\n    <i nz-icon [nzType]=\"status ? 'fullscreen-exit' : 'fullscreen'\"></i>\r\n    {{ (status ? 'menu.fullscreen.exit' : 'menu.fullscreen') | translate }}\r\n  `,\r\n  // tslint:disable-next-line: no-host-metadata-property\r\n  host: {\r\n    '[class.d-block]': 'true',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderFullScreenComponent {\r\n  status = false;\r\n  private get sf(): screenfull.Screenfull {\r\n    return screenfull as screenfull.Screenfull;\r\n  }\r\n\r\n  @HostListener('window:resize')\r\n  _resize() {\r\n    this.status = this.sf.isFullscreen;\r\n  }\r\n\r\n  @HostListener('click')\r\n  _click() {\r\n    if (this.sf.isEnabled) {\r\n      this.sf.toggle();\r\n    }\r\n  }\r\n}\r\n","import { DOCUMENT } from '@angular/common';\r\nimport { ChangeDetectionStrategy, Component, Inject, Input } from '@angular/core';\r\nimport { ALAIN_I18N_TOKEN, SettingsService } from '@delon/theme';\r\nimport { InputBoolean } from '@delon/util';\r\n\r\nimport { I18NService } from '@fs/ng-alain/core';\r\nimport { Observable } from 'rxjs';\r\nimport { ApplicationConfiguration, ConfigState, SessionState, SetLanguage } from '@abp/ng.core';\r\nimport { Select } from '@ngxs/store';\r\nimport { map } from 'rxjs/operators';\r\nimport snq from 'snq';\r\nimport {Store} from '@ngxs/store';\r\n\r\n@Component({\r\n  selector: 'header-i18n',\r\n  template: `\r\n    <div *ngIf=\"showLangText\" nz-dropdown [nzDropdownMenu]=\"langMenu\" nzPlacement=\"bottomRight\">\r\n      <i nz-icon nzType=\"global\"></i>\r\n      {{ defaultLanguage$ | async }}\r\n      <i nz-icon nzType=\"down\"></i>\r\n    </div>\r\n    <i\r\n      *ngIf=\"!showLangText\"\r\n      nz-dropdown\r\n      [nzDropdownMenu]=\"langMenu\"\r\n      nzPlacement=\"bottomRight\"\r\n      nz-icon\r\n      nzType=\"global\"\r\n    ></i>\r\n    <nz-dropdown-menu #langMenu=\"nzDropdownMenu\">\r\n      <ul nz-menu>\r\n        <li\r\n          nz-menu-item\r\n          *ngFor=\"let lang of dropdownLanguages$ | async\"\r\n          [nzSelected]=\"lang.cultureName === selectedLangCulture\"\r\n          (click)=\"onChangeLang(lang.cultureName)\"\r\n        >\r\n          <span role=\"img\" [attr.aria-label]=\"lang?.displayName\" class=\"pr-xs\">{{ lang.cultureName }}</span>\r\n          {{ lang?.displayName }}\r\n        </li>\r\n      </ul>\r\n    </nz-dropdown-menu>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderI18nComponent {\r\n  @Select(ConfigState.getDeep('localization.languages'))\r\n  languages$: Observable<ApplicationConfiguration.Language[]>;\r\n\r\n  get defaultLanguage$(): Observable<string> {\r\n    return this.languages$.pipe(\r\n      map(\r\n        languages =>\r\n          snq(\r\n            () => languages.find(lang => lang.cultureName === this.selectedLangCulture).displayName,\r\n          ),\r\n        '',\r\n      ),\r\n    );\r\n  }\r\n\r\n  get dropdownLanguages$(): Observable<ApplicationConfiguration.Language[]> {\r\n    return this.languages$.pipe(\r\n      map(\r\n        languages =>\r\n          snq(() => languages.filter(lang => lang.cultureName !== this.selectedLangCulture)),\r\n        [],\r\n      ),\r\n    );\r\n  }  \r\n\r\n  get selectedLangCulture(): string {\r\n    return this.store.selectSnapshot(SessionState.getLanguage);\r\n  }\r\n  /** Whether to display language text */\r\n  @Input() @InputBoolean() showLangText = true;\r\n\r\n  get langs() {\r\n    return this.i18n.getLangs();\r\n  }\r\n\r\n  get curLangCode() {\r\n    return this.settings.layout.lang;\r\n  }\r\n\r\n  constructor(\r\n    private settings: SettingsService,\r\n    @Inject(ALAIN_I18N_TOKEN) private i18n: I18NService,\r\n    @Inject(DOCUMENT) private doc: any,\r\n    private store: Store\r\n  ) {}\r\n\r\n  onChangeLang(cultureName: string) {\r\n    this.store.dispatch(new SetLanguage(cultureName));\r\n  }  \r\n}\r\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'header-icon',\r\n  template: `\r\n    <div\r\n      class=\"alain-default__nav-item\"\r\n      nz-dropdown\r\n      [nzDropdownMenu]=\"iconMenu\"\r\n      nzTrigger=\"click\"\r\n      nzPlacement=\"bottomRight\"\r\n      (nzVisibleChange)=\"change()\"\r\n    >\r\n      <i nz-icon nzType=\"appstore\"></i>\r\n    </div>\r\n    <nz-dropdown-menu #iconMenu=\"nzDropdownMenu\">\r\n      <div nz-menu class=\"wd-xl animated jello\">\r\n        <nz-spin [nzSpinning]=\"loading\" [nzTip]=\"'正在读取数据...'\">\r\n          <div nz-row [nzType]=\"'flex'\" [nzJustify]=\"'center'\" [nzAlign]=\"'middle'\" class=\"app-icons\">\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"calendar\" class=\"bg-error text-white\"></i>\r\n              <small>Calendar</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"file\" class=\"bg-geekblue text-white\"></i>\r\n              <small>Files</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"cloud\" class=\"bg-success text-white\"></i>\r\n              <small>Cloud</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"star\" class=\"bg-magenta text-white\"></i>\r\n              <small>Star</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"team\" class=\"bg-purple text-white\"></i>\r\n              <small>Team</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"scan\" class=\"bg-warning text-white\"></i>\r\n              <small>QR</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"pay-circle\" class=\"bg-cyan text-white\"></i>\r\n              <small>Pay</small>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"6\">\r\n              <i nz-icon nzType=\"printer\" class=\"bg-grey text-white\"></i>\r\n              <small>Print</small>\r\n            </div>\r\n          </div>\r\n        </nz-spin>\r\n      </div>\r\n    </nz-dropdown-menu>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderIconComponent {\r\n  loading = true;\r\n\r\n  constructor(private cdr: ChangeDetectorRef) {}\r\n\r\n  change() {\r\n    setTimeout(() => {\r\n      this.loading = false;\r\n      this.cdr.detectChanges();\r\n    }, 500);\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\r\nimport { NoticeIconList, NoticeItem } from '@delon/abc/notice-icon';\r\nimport add from 'date-fns/add';\r\nimport formatDistanceToNow from 'date-fns/formatDistanceToNow';\r\nimport parse from 'date-fns/parse';\r\nimport { NzI18nService } from 'ng-zorro-antd/i18n';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\n\r\n/**\r\n * 菜单通知\r\n */\r\n@Component({\r\n  selector: 'header-notify',\r\n  template: `\r\n    <notice-icon\r\n      [data]=\"data\"\r\n      [count]=\"count\"\r\n      [loading]=\"loading\"\r\n      btnClass=\"alain-default__nav-item\"\r\n      btnIconClass=\"alain-default__nav-item-icon\"\r\n      (select)=\"select($event)\"\r\n      (clear)=\"clear($event)\"\r\n      (popoverVisibleChange)=\"loadData()\"\r\n    ></notice-icon>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderNotifyComponent {\r\n  data: NoticeItem[] = [\r\n    {\r\n      title: '通知',\r\n      list: [],\r\n      emptyText: '你已查看所有通知',\r\n      emptyImage: 'https://gw.alipayobjects.com/zos/rmsportal/wAhyIChODzsoKIOBHcBk.svg',\r\n      clearText: '清空通知',\r\n    },\r\n    {\r\n      title: '消息',\r\n      list: [],\r\n      emptyText: '您已读完所有消息',\r\n      emptyImage: 'https://gw.alipayobjects.com/zos/rmsportal/sAuJeJzSKbUmHfBQRzmZ.svg',\r\n      clearText: '清空消息',\r\n    },\r\n    {\r\n      title: '待办',\r\n      list: [],\r\n      emptyText: '你已完成所有待办',\r\n      emptyImage: 'https://gw.alipayobjects.com/zos/rmsportal/HsIsxMZiWKrNUavQUXqx.svg',\r\n      clearText: '清空待办',\r\n    },\r\n  ];\r\n  count = 5;\r\n  loading = false;\r\n\r\n  constructor(private msg: NzMessageService, private nzI18n: NzI18nService) {}\r\n\r\n  updateNoticeData(notices: NoticeIconList[]): NoticeItem[] {\r\n    const data = this.data.slice();\r\n    data.forEach((i) => (i.list = []));\r\n\r\n    notices.forEach((item) => {\r\n      const newItem = { ...item };\r\n      if (typeof newItem.datetime === 'string') {\r\n        newItem.datetime = parse(newItem.datetime, 'yyyy-MM-dd', new Date());\r\n      }\r\n      if (newItem.datetime) {\r\n        newItem.datetime = formatDistanceToNow(newItem.datetime as Date, { locale: this.nzI18n.getDateLocale() });\r\n      }\r\n      if (newItem.extra && newItem.status) {\r\n        newItem.color = ({\r\n          todo: undefined,\r\n          processing: 'blue',\r\n          urgent: 'red',\r\n          doing: 'gold',\r\n        } as { [key: string]: string | undefined })[newItem.status];\r\n      }\r\n      data.find((w) => w.title === newItem.type).list.push(newItem);\r\n    });\r\n    return data;\r\n  }\r\n\r\n  loadData() {\r\n    if (this.loading) {\r\n      return;\r\n    }\r\n    this.loading = true;\r\n    setTimeout(() => {\r\n      const now = new Date();\r\n      this.data = this.updateNoticeData([\r\n        {\r\n          id: '000000001',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png',\r\n          title: '你收到了 14 份新周报',\r\n          datetime: add(now, { days: 10 }),\r\n          type: '通知',\r\n        },\r\n        {\r\n          id: '000000002',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png',\r\n          title: '你推荐的 曲妮妮 已通过第三轮面试',\r\n          datetime: add(now, { days: -3 }),\r\n          type: '通知',\r\n        },\r\n        {\r\n          id: '000000003',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/kISTdvpyTAhtGxpovNWd.png',\r\n          title: '这种模板可以区分多种通知类型',\r\n          datetime: add(now, { months: -3 }),\r\n          read: true,\r\n          type: '通知',\r\n        },\r\n        {\r\n          id: '000000004',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png',\r\n          title: '左侧图标用于区分不同的类型',\r\n          datetime: add(now, { years: -1 }),\r\n          type: '通知',\r\n        },\r\n        {\r\n          id: '000000005',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png',\r\n          title: '内容不要超过两行字，超出时自动截断',\r\n          datetime: '2017-08-07',\r\n          type: '通知',\r\n        },\r\n        {\r\n          id: '000000006',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg',\r\n          title: '曲丽丽 评论了你',\r\n          description: '描述信息描述信息描述信息',\r\n          datetime: '2017-08-07',\r\n          type: '消息',\r\n        },\r\n        {\r\n          id: '000000007',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg',\r\n          title: '朱偏右 回复了你',\r\n          description: '这种模板用于提醒谁与你发生了互动，左侧放『谁』的头像',\r\n          datetime: '2017-08-07',\r\n          type: '消息',\r\n        },\r\n        {\r\n          id: '000000008',\r\n          avatar: 'https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg',\r\n          title: '标题',\r\n          description: '这种模板用于提醒谁与你发生了互动，左侧放『谁』的头像',\r\n          datetime: '2017-08-07',\r\n          type: '消息',\r\n        },\r\n        {\r\n          id: '000000009',\r\n          title: '任务名称',\r\n          description: '任务需要在 2017-01-12 20:00 前启动',\r\n          extra: '未开始',\r\n          status: 'todo',\r\n          type: '待办',\r\n        },\r\n        {\r\n          id: '000000010',\r\n          title: '第三方紧急代码变更',\r\n          description: '冠霖提交于 2017-01-06，需在 2017-01-07 前完成代码变更任务',\r\n          extra: '马上到期',\r\n          status: 'urgent',\r\n          type: '待办',\r\n        },\r\n        {\r\n          id: '000000011',\r\n          title: '信息安全考试',\r\n          description: '指派竹尔于 2017-01-09 前完成更新并发布',\r\n          extra: '已耗时 8 天',\r\n          status: 'doing',\r\n          type: '待办',\r\n        },\r\n        {\r\n          id: '000000012',\r\n          title: 'ABCD 版本发布',\r\n          description: '冠霖提交于 2017-01-06，需在 2017-01-07 前完成代码变更任务',\r\n          extra: '进行中',\r\n          status: 'processing',\r\n          type: '待办',\r\n        },\r\n      ]);\r\n\r\n      this.loading = false;\r\n    }, 500);\r\n  }\r\n\r\n  clear(type: string) {\r\n    this.msg.success(`清空了 ${type}`);\r\n  }\r\n\r\n  select(res: any) {\r\n    this.msg.success(`点击了 ${res.title} 的 ${res.item.title}`);\r\n  }\r\n}\r\n","import { AfterViewInit, ChangeDetectionStrategy, Component, ElementRef, HostBinding, Input } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'header-search',\r\n  template: `\r\n    <nz-input-group [nzAddOnBeforeIcon]=\"focus ? 'arrow-down' : 'search'\">\r\n      <input\r\n        nz-input\r\n        [(ngModel)]=\"q\"\r\n        (focus)=\"qFocus()\"\r\n        (blur)=\"qBlur()\"\r\n        [placeholder]=\"'menu.search.placeholder' | translate\"\r\n      />\r\n    </nz-input-group>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderSearchComponent implements AfterViewInit {\r\n  q: string;\r\n\r\n  qIpt: HTMLInputElement;\r\n\r\n  @HostBinding('class.alain-default__search-focus')\r\n  focus = false;\r\n\r\n  @HostBinding('class.alain-default__search-toggled')\r\n  searchToggled = false;\r\n\r\n  @Input()\r\n  set toggleChange(value: boolean) {\r\n    if (typeof value === 'undefined') {\r\n      return;\r\n    }\r\n    this.searchToggled = true;\r\n    this.focus = true;\r\n    setTimeout(() => this.qIpt.focus(), 300);\r\n  }\r\n\r\n  constructor(private el: ElementRef) {}\r\n\r\n  ngAfterViewInit() {\r\n    this.qIpt = (this.el.nativeElement as HTMLElement).querySelector('.ant-input') as HTMLInputElement;\r\n  }\r\n\r\n  qFocus() {\r\n    this.focus = true;\r\n  }\r\n\r\n  qBlur() {\r\n    this.focus = false;\r\n    this.searchToggled = false;\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, HostListener } from '@angular/core';\r\nimport { NzMessageService } from 'ng-zorro-antd/message';\r\nimport { NzModalService } from 'ng-zorro-antd/modal';\r\n\r\n@Component({\r\n  selector: 'header-storage',\r\n  template: `\r\n    <i nz-icon nzType=\"tool\"></i>\r\n    {{ 'menu.clear.local.storage' | translate }}\r\n  `,\r\n  // tslint:disable-next-line: no-host-metadata-property\r\n  host: {\r\n    '[class.d-block]': 'true',\r\n  },\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderStorageComponent {\r\n  constructor(private modalSrv: NzModalService, private messageSrv: NzMessageService) {}\r\n\r\n  @HostListener('click')\r\n  _click() {\r\n    this.modalSrv.confirm({\r\n      nzTitle: 'Make sure clear all local storage?',\r\n      nzOnOk: () => {\r\n        localStorage.clear();\r\n        this.messageSrv.success('Clear Finished!');\r\n      },\r\n    });\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, ChangeDetectorRef, Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'header-task',\r\n  template: `\r\n    <div\r\n      class=\"alain-default__nav-item\"\r\n      nz-dropdown\r\n      [nzDropdownMenu]=\"taskMenu\"\r\n      nzTrigger=\"click\"\r\n      nzPlacement=\"bottomRight\"\r\n      (nzVisibleChange)=\"change()\"\r\n    >\r\n      <nz-badge [nzDot]=\"true\">\r\n        <i nz-icon nzType=\"bell\" class=\"alain-default__nav-item-icon\"></i>\r\n      </nz-badge>\r\n    </div>\r\n    <nz-dropdown-menu #taskMenu=\"nzDropdownMenu\">\r\n      <div nz-menu class=\"wd-lg\">\r\n        <div *ngIf=\"loading\" class=\"mx-lg p-lg\"><nz-spin></nz-spin></div>\r\n        <nz-card *ngIf=\"!loading\" nzTitle=\"Notifications\" nzBordered=\"false\" class=\"ant-card__body-nopadding\">\r\n          <ng-template #extra><i nz-icon nzType=\"plus\"></i></ng-template>\r\n          <div nz-row [nzType]=\"'flex'\" [nzJustify]=\"'center'\" [nzAlign]=\"'middle'\" class=\"py-sm point\">\r\n            <div nz-col [nzSpan]=\"4\" class=\"text-center\">\r\n              <nz-avatar [nzSrc]=\"'./assets/tmp/img/1.png'\"></nz-avatar>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"20\">\r\n              <strong>cipchk</strong>\r\n              <p class=\"mb0\">Please tell me what happened in a few words, don't go into details.</p>\r\n            </div>\r\n          </div>\r\n          <div nz-row [nzType]=\"'flex'\" [nzJustify]=\"'center'\" [nzAlign]=\"'middle'\" class=\"py-sm point\">\r\n            <div nz-col [nzSpan]=\"4\" class=\"text-center\">\r\n              <nz-avatar [nzSrc]=\"'./assets/tmp/img/2.png'\"></nz-avatar>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"20\">\r\n              <strong>はなさき</strong>\r\n              <p class=\"mb0\">ハルカソラトキヘダツヒカリ</p>\r\n            </div>\r\n          </div>\r\n          <div nz-row [nzType]=\"'flex'\" [nzJustify]=\"'center'\" [nzAlign]=\"'middle'\" class=\"py-sm point\">\r\n            <div nz-col [nzSpan]=\"4\" class=\"text-center\">\r\n              <nz-avatar [nzSrc]=\"'./assets/tmp/img/3.png'\"></nz-avatar>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"20\">\r\n              <strong>苏先生</strong>\r\n              <p class=\"mb0\">请告诉我，我应该说点什么好？</p>\r\n            </div>\r\n          </div>\r\n          <div nz-row [nzType]=\"'flex'\" [nzJustify]=\"'center'\" [nzAlign]=\"'middle'\" class=\"py-sm point\">\r\n            <div nz-col [nzSpan]=\"4\" class=\"text-center\">\r\n              <nz-avatar [nzSrc]=\"'./assets/tmp/img/4.png'\"></nz-avatar>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"20\">\r\n              <strong>Kent</strong>\r\n              <p class=\"mb0\">Please tell me what happened in a few words, don't go into details.</p>\r\n            </div>\r\n          </div>\r\n          <div nz-row [nzType]=\"'flex'\" [nzJustify]=\"'center'\" [nzAlign]=\"'middle'\" class=\"py-sm point\">\r\n            <div nz-col [nzSpan]=\"4\" class=\"text-center\">\r\n              <nz-avatar [nzSrc]=\"'./assets/tmp/img/5.png'\"></nz-avatar>\r\n            </div>\r\n            <div nz-col [nzSpan]=\"20\">\r\n              <strong>Jefferson</strong>\r\n              <p class=\"mb0\">Please tell me what happened in a few words, don't go into details.</p>\r\n            </div>\r\n          </div>\r\n          <div nz-row>\r\n            <div nz-col [nzSpan]=\"24\" class=\"pt-md border-top-1 text-center text-grey point\">\r\n              See All\r\n            </div>\r\n          </div>\r\n        </nz-card>\r\n      </div>\r\n    </nz-dropdown-menu>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderTaskComponent {\r\n  loading = true;\r\n\r\n  constructor(private cdr: ChangeDetectorRef) {}\r\n\r\n  change() {\r\n    setTimeout(() => {\r\n      this.loading = false;\r\n      this.cdr.detectChanges();\r\n    }, 500);\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component, Inject } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { DA_SERVICE_TOKEN, ITokenService } from '@delon/auth';\r\nimport { SettingsService } from '@delon/theme';\r\nimport { ConfigState, ApplicationConfiguration, AuthService } from '@abp/ng.core';\r\nimport { Observable } from 'rxjs';\r\nimport { Select } from '@ngxs/store';\r\n\r\n@Component({\r\n  selector: 'header-user',\r\n  template: `\r\n    <div\r\n      class=\"alain-default__nav-item d-flex align-items-center px-sm\"\r\n      nz-dropdown\r\n      nzPlacement=\"bottomRight\"\r\n      [nzDropdownMenu]=\"userMenu\"\r\n    >\r\n      <!--<nz-avatar [nzSrc]=\"settings.user.avatar\" nzSize=\"small\" class=\"mr-sm\"></nz-avatar>-->\r\n      {{ (currentUser$ | async)?.userName }}\r\n    </div>\r\n    <nz-dropdown-menu #userMenu=\"nzDropdownMenu\">\r\n      <div nz-menu class=\"width-sm\">\r\n        <div nz-menu-item routerLink=\"/account/manage-profile\">\r\n          <i nz-icon nzType=\"user\" class=\"mr-sm\"></i>\r\n          {{ 'AbpAccount::ManageYourProfile' | abpLocalization }}\r\n        </div>\r\n        <!--<div nz-menu-item routerLink=\"/pro/account/settings\">\r\n          <i nz-icon nzType=\"setting\" class=\"mr-sm\"></i>\r\n          {{ 'menu.account.settings' | translate }}\r\n        </div>\r\n        <div nz-menu-item routerLink=\"/exception/trigger\">\r\n          <i nz-icon nzType=\"close-circle\" class=\"mr-sm\"></i>\r\n          {{ 'menu.account.trigger' | translate }}\r\n        </div>-->\r\n        <li nz-menu-divider></li>\r\n        <div nz-menu-item (click)=\"logout()\">\r\n          <i nz-icon nzType=\"logout\" class=\"mr-sm\"></i>\r\n          {{ 'AbpUi::Logout' | abpLocalization }}\r\n        </div>\r\n      </div>\r\n    </nz-dropdown-menu>\r\n  `,\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderUserComponent {\r\n  @Select(ConfigState.getOne('currentUser'))\r\n  currentUser$: Observable<ApplicationConfiguration.CurrentUser>;  \r\n  constructor(\r\n    public settings: SettingsService,\r\n    private router: Router,\r\n    private authService: AuthService, \r\n    @Inject(DA_SERVICE_TOKEN) private tokenService: ITokenService,\r\n  ) {}\r\n\r\n  logout() {\r\n    //this.tokenService.clear();\r\n    //this.router.navigateByUrl(this.tokenService.login_url);\r\n    this.authService.logout().subscribe(() => {\r\n      this.router.navigate(['/'], { state: { redirectUrl: this.router.url } });\r\n    });    \r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\r\nimport { SettingsService } from '@delon/theme';\r\nimport { Config, ConfigState } from '@abp/ng.core';\r\nimport {Store} from '@ngxs/store';\r\n\r\n@Component({\r\n  selector: 'layout-header',\r\n  templateUrl: './header.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class HeaderComponent {\r\n  get appInfo(): Config.Application {\r\n    return this.store.selectSnapshot(ConfigState.getApplicationInfo);\r\n  }  \r\n  searchToggleStatus: boolean;\r\n\r\n  constructor(\r\n    public settings: SettingsService,\r\n    private store: Store\r\n    ) {}\r\n\r\n  toggleCollapsedSidebar() {\r\n    this.settings.setLayout('collapsed', !this.settings.layout.collapsed);\r\n  }\r\n\r\n  searchToggleChange() {\r\n    this.searchToggleStatus = !this.searchToggleStatus;\r\n  }\r\n}\r\n","import { ChangeDetectionStrategy, Component } from '@angular/core';\r\nimport { SettingsService, Menu, MenuService } from '@delon/theme';\r\nimport { RoutesService, TreeNode, ABP, ConfigStateService, LocalizationPipe } from '@abp/ng.core';\r\n\r\n@Component({\r\n  selector: 'layout-sidebar',\r\n  templateUrl: './sidebar.component.html',\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class SidebarComponent {\r\n  constructor(\r\n    public settings: SettingsService,\r\n    private menuService: MenuService,\r\n    public readonly routes: RoutesService,\r\n    public configStateService: ConfigStateService,\r\n    private localizationPipe: LocalizationPipe\r\n  ) {\r\n    this.routes.visible$.subscribe(x => {\r\n      this.setMenu(x);\r\n    });\r\n  }\r\n  setMenu(routes: TreeNode<ABP.Route>[]) {\r\n    let result: Menu[] = [];\r\n    let condition = (x: ABP.Route) => !!!x.invisible && this.isGrantedPolicy(x.requiredPolicy);\r\n    routes.filter(condition).forEach(first => {\r\n      let group: Menu = {\r\n        text: this.localizationPipe.transform(first.name),\r\n        group: true,\r\n        hideInBreadcrumb: true,\r\n        children: []\r\n      };\r\n      result.push(group);\r\n      first.children.filter(condition).forEach(second => {\r\n        if (second.children.length === 0) {\r\n          let left: Menu = {\r\n            text: this.localizationPipe.transform(second.name),\r\n            link: second.path,\r\n            icon: second.iconClass\r\n          };\r\n          if (left.link.split('/').length > 2)\r\n            group.children.push(left);\r\n        }\r\n        if (second.children.length != 0) {\r\n          let node: Menu = {\r\n            text: this.localizationPipe.transform(second.name),\r\n            icon: second.iconClass,\r\n            children: []\r\n          };\r\n          group.children.push(node);\r\n          second.children.filter(condition).forEach(third => {\r\n            let left: Menu = {\r\n              text: this.localizationPipe.transform(third.name),\r\n              link: third.path,\r\n              icon: third.iconClass\r\n            };\r\n            node.children.push(left);\r\n          })\r\n        }\r\n      })\r\n\r\n\r\n    });\r\n    this.menuService.clear();\r\n    this.menuService.add(result);\r\n\r\n  }\r\n  isGrantedPolicy(requiredPolicy: string) {\r\n    if (!!requiredPolicy) {\r\n      return this.configStateService.getGrantedPolicy(requiredPolicy);\r\n    }\r\n    return true;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'layout-fullscreen',\r\n  templateUrl: './fullscreen.component.html',\r\n  // tslint:disable-next-line: no-host-metadata-property\r\n  host: {\r\n    '[class.alain-fullscreen]': 'true',\r\n  },\r\n})\r\nexport class LayoutFullScreenComponent {}\r\n","import { Component, Input } from '@angular/core';\r\n\r\n@Component({\r\n  // tslint:disable-next-line:component-selector\r\n  selector: 'setting-drawer-item',\r\n  templateUrl: './setting-drawer-item.component.html',\r\n  // tslint:disable-next-line: no-host-metadata-property\r\n  host: {\r\n    '[class.setting-drawer__body-item]': 'true',\r\n  },\r\n})\r\nexport class SettingDrawerItemComponent {\r\n  i: any = {};\r\n  @Input()\r\n  set data(val: any) {\r\n    this.i = val;\r\n    if (val.type === 'px') {\r\n      this.pxVal = +val.value.replace('px', '');\r\n    }\r\n  }\r\n\r\n  pxVal: number;\r\n  pxChange(val: number) {\r\n    this.i.value = `${val}px`;\r\n  }\r\n  format = value => `${value} px`;\r\n}\r\n","import { ChangeDetectionStrategy, Component, OnInit, Renderer2 } from '@angular/core';\r\nimport { AlainConfigService } from '@delon/util';\r\n\r\ntype SiteTheme = 'default' | 'dark' | 'compact';\r\n\r\n@Component({\r\n  selector: 'layout-theme-btn',\r\n  templateUrl: './theme-btn.component.html',\r\n  styleUrls: ['./theme-btn.component.less'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush,\r\n})\r\nexport class LayoutThemeBtnComponent implements OnInit {\r\n  theme: SiteTheme = 'default';\r\n\r\n  constructor(private renderer: Renderer2, private configSrv: AlainConfigService) {}\r\n\r\n  ngOnInit(): void {\r\n    this.initTheme();\r\n  }\r\n\r\n  private initTheme(): void {\r\n    this.theme = (localStorage.getItem('site-theme') as SiteTheme) || 'default';\r\n    this.updateChartTheme();\r\n    this.onThemeChange(this.theme);\r\n  }\r\n\r\n  private updateChartTheme(): void {\r\n    this.configSrv.set('chart', { theme: this.theme === 'dark' ? 'dark' : '' });\r\n  }\r\n\r\n  onThemeChange(theme: SiteTheme): void {\r\n    this.theme = theme;\r\n    this.renderer.setAttribute(document.body, 'data-theme', theme);\r\n    const dom = document.getElementById('site-theme');\r\n    if (dom) {\r\n      dom.remove();\r\n    }\r\n    localStorage.removeItem('site-theme');\r\n    if (theme !== 'default') {\r\n      const style = document.createElement('link');\r\n      style.type = 'text/css';\r\n      style.rel = 'stylesheet';\r\n      style.id = 'site-theme';\r\n      style.href = `assets/style.${theme}.css`;\r\n\r\n      localStorage.setItem('site-theme', theme);\r\n      document.body.append(style);\r\n    }\r\n    this.updateChartTheme();\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport { eLayoutType } from '@abp/ng.core';\r\n\r\n@Component({\r\n  selector: 'layout-passport',\r\n  templateUrl: './passport.component.html',\r\n  styleUrls: ['./passport.component.less'],\r\n})\r\nexport class LayoutPassportComponent {\r\n  static type = eLayoutType.account;\r\n  links = [\r\n    {\r\n      title: '帮助',\r\n      href: '',\r\n    },\r\n    {\r\n      title: '隐私',\r\n      href: '',\r\n    },\r\n    {\r\n      title: '条款',\r\n      href: '',\r\n    },\r\n  ];\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { SharedModule } from '@fs/ng-alain/shared';\r\n\r\nimport { LayoutDefaultComponent } from './default/default.component';\r\nimport { HeaderFullScreenComponent } from './default/header/components/fullscreen.component';\r\nimport { HeaderI18nComponent } from './default/header/components/i18n.component';\r\nimport { HeaderIconComponent } from './default/header/components/icon.component';\r\nimport { HeaderNotifyComponent } from './default/header/components/notify.component';\r\nimport { HeaderSearchComponent } from './default/header/components/search.component';\r\nimport { HeaderStorageComponent } from './default/header/components/storage.component';\r\nimport { HeaderTaskComponent } from './default/header/components/task.component';\r\nimport { HeaderUserComponent } from './default/header/components/user.component';\r\nimport { HeaderComponent } from './default/header/header.component';\r\nimport { SidebarComponent } from './default/sidebar/sidebar.component';\r\nimport { LayoutFullScreenComponent } from './fullscreen/fullscreen.component';\r\n\r\nimport { SettingDrawerItemComponent } from './default/setting-drawer/setting-drawer-item.component';\r\nimport { SettingDrawerComponent } from './default/setting-drawer/setting-drawer.component';\r\nimport { LayoutThemeBtnComponent } from './default/theme-btn/theme-btn.component';\r\n\r\nconst SETTINGDRAWER = [SettingDrawerComponent, SettingDrawerItemComponent];\r\nconst COMPONENTS = [\r\n  LayoutDefaultComponent,\r\n  LayoutFullScreenComponent,\r\n  HeaderComponent,\r\n  SidebarComponent,\r\n  ...SETTINGDRAWER,\r\n  LayoutThemeBtnComponent,\r\n];\r\n\r\nconst HEADERCOMPONENTS = [\r\n  HeaderSearchComponent,\r\n  HeaderNotifyComponent,\r\n  HeaderTaskComponent,\r\n  HeaderIconComponent,\r\n  HeaderFullScreenComponent,\r\n  HeaderI18nComponent,\r\n  HeaderStorageComponent,\r\n  HeaderUserComponent,\r\n];\r\n\r\n// passport\r\nimport { LayoutPassportComponent } from './passport/passport.component';\r\nconst PASSPORT = [LayoutPassportComponent];\r\n\r\n@NgModule({\r\n  imports: [SharedModule],\r\n  entryComponents: COMPONENTS,\r\n  declarations: [...COMPONENTS, ...HEADERCOMPONENTS, ...PASSPORT],\r\n  exports: [...COMPONENTS, ...PASSPORT],\r\n})\r\nexport class LayoutModule {}\r\n"]}