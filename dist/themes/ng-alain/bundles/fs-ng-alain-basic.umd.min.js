!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@abp/ng.core"),require("@abp/ng.theme.basic"),require("@fs/ng-alain/shared"),require("@angular/core"),require("@angular/common"),require("@angular/router"),require("ng-zorro-antd"),require("@delon/util"),require("@delon/theme"),require("rxjs"),require("rxjs/operators"),require("@ngxs/store"),require("screenfull"),require("snq"),require("@delon/auth"),require("angular-oauth2-oidc"),require("@ngxs/router-plugin")):"function"==typeof define&&define.amd?define("@fs/ng-alain/basic",["exports","@abp/ng.core","@abp/ng.theme.basic","@fs/ng-alain/shared","@angular/core","@angular/common","@angular/router","ng-zorro-antd","@delon/util","@delon/theme","rxjs","rxjs/operators","@ngxs/store","screenfull","snq","@delon/auth","angular-oauth2-oidc","@ngxs/router-plugin"],n):n(((e=e||self).fs=e.fs||{},e.fs["ng-alain"]=e.fs["ng-alain"]||{},e.fs["ng-alain"].basic={}),e.ng_core,e.ng_theme_basic,e.fs["ng-alain"].shared,e.ng.core,e.ng.common,e.ng.router,e.ngZorroAntd,e.util,e.theme,e.rxjs,e.rxjs.operators,e.store,e.screenfull,e.snq,e.auth,e.angularOauth2Oidc,e.routerPlugin)}(this,(function(e,n,t,a,r,i,o,s,l,c,d,u,p,g,h,f,m,y){"use strict";h=h&&h.hasOwnProperty("default")?h.default:h;var v=function(){return(v=Object.assign||function(e){for(var n,t=1,a=arguments.length;t<a;t++)for(var r in n=arguments[t])Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r]);return e}).apply(this,arguments)};function z(e,n,t,a){var r,i=arguments.length,o=i<3?n:null===a?a=Object.getOwnPropertyDescriptor(n,t):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,n,t,a);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(o=(i<3?r(o):i>3?r(n,t,o):r(n,t))||o);return i>3&&o&&Object.defineProperty(n,t,o),o}function b(e,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,n)}function x(e,n){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var a,r,i=t.call(e),o=[];try{for(;(void 0===n||n-- >0)&&!(a=i.next()).done;)o.push(a.value)}catch(e){r={error:e}}finally{try{a&&!a.done&&(t=i.return)&&t.call(i)}finally{if(r)throw r.error}}return o}function w(){for(var e=[],n=0;n<arguments.length;n++)e=e.concat(x(arguments[n]));return e}var S=[{key:"dust",color:"#F5222D"},{key:"volcano",color:"#FA541C"},{key:"sunset",color:"#FAAD14"},{key:"cyan",color:"#13C2C2"},{key:"green",color:"#52C41A"},{key:"daybreak",color:"#1890ff"},{key:"geekblue",color:"#2F54EB"},{key:"purple",color:"#722ED1"},{key:"black",color:"#001529"}],C={"primary-color":{label:"主颜色",type:"color",default:"#1890ff"},"alain-default-header-hg":{label:"高",type:"px",default:"64px",max:300,min:24},"alain-default-header-bg":{label:"背景色",type:"color",default:"@primary-color",tip:"默认同主色系"},"alain-default-header-padding":{label:"顶部左右内边距",type:"px",default:"16px"},"alain-default-aside-wd":{label:"宽度",type:"px",default:"200px"},"alain-default-aside-bg":{label:"背景",type:"color",default:"#ffffff"},"alain-default-aside-collapsed-wd":{label:"收缩宽度",type:"px",default:"64px"},"alain-default-aside-nav-padding-top-bottom":{label:"项上下内边距",type:"px",default:"8px",step:8},"alain-default-aside-nav-fs":{label:"菜单字号",type:"px",default:"14px",min:14,max:30},"alain-default-aside-collapsed-nav-fs":{label:"收缩菜单字号",type:"px",default:"24px",min:24,max:32},"alain-default-aside-nav-item-height":{label:"菜单项高度",type:"px",default:"38px",min:24,max:64},"alain-default-aside-nav-text-color":{label:"菜单文本颜色",type:"color",default:"rgba(0, 0, 0, 0.65)",rgba:!0},"alain-default-aside-nav-text-hover-color":{label:"菜单文本悬停颜色",type:"color",default:"@primary-color",tip:"默认同主色系"},"alain-default-aside-nav-group-text-color":{label:"菜单分组文本颜色",type:"color",default:"rgba(0, 0, 0, 0.43)",rgba:!0},"alain-default-aside-nav-selected-text-color":{label:"菜单激活时文本颜色",type:"color",default:"@primary-color",tip:"默认同主色系"},"alain-default-aside-nav-selected-bg":{label:"菜单激活时背景颜色",type:"color",default:"#fcfcfc"},"alain-default-content-bg":{label:"背景色",type:"color",default:"#f5f7fa"},"alain-default-content-heading-bg":{label:"标题背景色",type:"color",default:"#fafbfc"},"alain-default-content-heading-border":{label:"标题底部边框色",type:"color",default:"#efe3e5"},"alain-default-content-padding":{label:"内边距",type:"px",default:"24px",min:0,max:128,step:8},"form-state-visual-feedback-enabled":{label:"开启表单元素的视觉反馈",type:"switch",default:!0},"preserve-white-spaces-enabled":{label:"开启 preserveWhitespaces",type:"switch",default:!0},"nz-table-img-radius":{label:"表格中：图片圆角",type:"px",default:"4px",min:0,max:128},"nz-table-img-margin-right":{label:"表格中：图片右外边距",type:"px",default:"4px",min:0,max:128},"nz-table-img-max-width":{label:"表格中：图片最大宽度",type:"px",default:"32px",min:8,max:128},"nz-table-img-max-height":{label:"表格中：图片最大高度",type:"px",default:"32px",min:8,max:128}},_=function(){function e(e,n,t,a,r,i){this.cdr=e,this.msg=n,this.settingSrv=t,this.lazy=a,this.zone=r,this.doc=i,this.loadedLess=!1,this.collapse=!1,this.data={},this.colors=S,this.color=this.cachedData["@primary-color"]||this.DEFAULT_PRIMARY,this.resetData(this.cachedData,!1)}return Object.defineProperty(e.prototype,"layout",{get:function(){return this.settingSrv.layout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cachedData",{get:function(){return this.settingSrv.layout["alain-default-vars"]||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"DEFAULT_PRIMARY",{get:function(){return C["primary-color"].default},enumerable:!0,configurable:!0}),e.prototype.loadLess=function(){var e=this;return this.loadedLess?Promise.resolve():this.lazy.loadStyle("./assets/alain-default.less","stylesheet/less").then((function(){var n=e.doc.createElement("script");n.innerHTML="\n          window.less = {\n            async: true,\n            env: 'production',\n            javascriptEnabled: true\n          };\n        ",e.doc.body.appendChild(n)})).then((function(){return e.lazy.loadScript("https://gw.alipayobjects.com/os/lib/less.js/3.8.1/less.min.js")})).then((function(){e.loadedLess=!0}))},e.prototype.genVars=function(){var e,n=this.data,t=this.color,a=this.validKeys,r=((e={})["@primary-color"]=t,e);return a.filter((function(e){return"primary-color"!==e})).forEach((function(e){return r["@"+e]=n[e].value})),this.setLayout("alain-default-vars",r),r},e.prototype.runLess=function(){var e=this,n=this.zone,t=this.msg,a=this.cdr,r=t.loading("正在编译主题！",{nzDuration:0}).messageId;setTimeout((function(){n.runOutsideAngular((function(){e.loadLess().then((function(){window.less.modifyVars(e.genVars()).then((function(){t.success("成功"),t.remove(r),n.run((function(){return a.detectChanges()}))}))}))}))}),200)},e.prototype.toggle=function(){this.collapse=!this.collapse},e.prototype.changeColor=function(e){var n=this;this.color=e,Object.keys(C).filter((function(e){return"@primary-color"===C[e].default})).forEach((function(e){return delete n.cachedData["@"+e]})),this.resetData(this.cachedData,!1)},e.prototype.setLayout=function(e,n){this.settingSrv.setLayout(e,n)},e.prototype.resetData=function(e,n){var t=this;void 0===n&&(n=!0),e=e||{};var a=l.deepCopy(C);Object.keys(a).forEach((function(n){var r=e["@"+n]||a[n].default||"";a[n].value="@primary-color"===r?t.color:r})),this.data=a,n&&(this.cdr.detectChanges(),this.runLess())},Object.defineProperty(e.prototype,"validKeys",{get:function(){var e=this;return Object.keys(this.data).filter((function(n){return e.data[n].value!==e.data[n].default}))},enumerable:!0,configurable:!0}),e.prototype.apply=function(){this.runLess()},e.prototype.reset=function(){this.color=this.DEFAULT_PRIMARY,this.settingSrv.setLayout("alain-default-vars",{}),this.resetData({})},e.prototype.copyVar=function(){var e=this.genVars(),n=Object.keys(e).map((function(n){return n+": "+e[n]+";"})).join("\n");l.copy(n),this.msg.success("Copy success")},e.decorators=[{type:r.Component,args:[{selector:"setting-drawer",template:'<nz-drawer [(nzVisible)]="collapse" [nzWidth]="500" (nzOnClose)="toggle()">\r\n  <div class="setting-drawer__content">\r\n    <div class="setting-drawer__body setting-drawer__theme">\r\n      <h3 class="setting-drawer__title">主题色</h3>\r\n      <span\r\n        *ngFor="let c of colors"\r\n        nz-tooltip\r\n        [ngStyle]="{ \'background-color\': c.color }"\r\n        (click)="changeColor(c.color)"\r\n        nz-tooltip\r\n        [nzTitle]="c.key"\r\n        class="setting-drawer__theme-tag"\r\n        ><i *ngIf="color === c.color" nz-icon nzType="check"></i\r\n      ></span>\r\n    </div>\r\n    <nz-divider></nz-divider>\r\n    <div class="setting-drawer__body">\r\n      <h3 class="setting-drawer__title">设置</h3>\r\n      <nz-tabset>\r\n        <nz-tab nzTitle="顶部">\r\n          <div class="setting-drawer__body">\r\n            <setting-drawer-item [data]="data[\'alain-default-header-hg\']"></setting-drawer-item>\r\n            <setting-drawer-item [data]="data[\'alain-default-header-bg\']"></setting-drawer-item>\r\n            <setting-drawer-item [data]="data[\'alain-default-header-padding\']"></setting-drawer-item>\r\n          </div>\r\n        </nz-tab>\r\n        <nz-tab nzTitle="侧边栏">\r\n          <setting-drawer-item [data]="data[\'alain-default-aside-wd\']"></setting-drawer-item>\r\n          <setting-drawer-item [data]="data[\'alain-default-aside-bg\']"></setting-drawer-item>\r\n          <setting-drawer-item [data]="data[\'alain-default-aside-collapsed-wd\']"></setting-drawer-item>\r\n          <setting-drawer-item [data]="data[\'alain-default-aside-nav-padding-top-bottom\']"></setting-drawer-item>\r\n        </nz-tab>\r\n        <nz-tab nzTitle="内容">\r\n          <setting-drawer-item [data]="data[\'alain-default-content-bg\']"></setting-drawer-item>\r\n          <setting-drawer-item [data]="data[\'alain-default-content-heading-bg\']"></setting-drawer-item>\r\n          <setting-drawer-item [data]="data[\'alain-default-content-heading-border\']"></setting-drawer-item>\r\n          <setting-drawer-item [data]="data[\'alain-default-content-padding\']"></setting-drawer-item>\r\n        </nz-tab>\r\n        <nz-tab nzTitle="其它">\r\n          <setting-drawer-item [data]="data[\'form-state-visual-feedback-enabled\']"></setting-drawer-item>\r\n          <setting-drawer-item [data]="data[\'preserve-white-spaces-enabled\']"></setting-drawer-item>\r\n          <setting-drawer-item [data]="data[\'nz-table-img-radius\']"></setting-drawer-item>\r\n          <setting-drawer-item [data]="data[\'nz-table-img-margin-right\']"></setting-drawer-item>\r\n          <setting-drawer-item [data]="data[\'nz-table-img-max-width\']"></setting-drawer-item>\r\n          <setting-drawer-item [data]="data[\'nz-table-img-max-height\']"></setting-drawer-item>\r\n        </nz-tab>\r\n      </nz-tabset>\r\n    </div>\r\n    <nz-divider></nz-divider>\r\n    <div class="setting-drawer__body">\r\n      <div class="setting-drawer__body-item">\r\n        固定头和侧边栏\r\n        <nz-switch\r\n          nzSize="small"\r\n          [(ngModel)]="layout.fixed"\r\n          (ngModelChange)="setLayout(\'fixed\', layout.fixed)"\r\n        ></nz-switch>\r\n      </div>\r\n      <div class="setting-drawer__body-item">\r\n        色弱模式\r\n        <nz-switch\r\n          nzSize="small"\r\n          [(ngModel)]="layout.colorWeak"\r\n          (ngModelChange)="setLayout(\'colorWeak\', layout.colorWeak)"\r\n        ></nz-switch>\r\n      </div>\r\n    </div>\r\n    <nz-divider></nz-divider>\r\n    <button (click)="apply()" type="button" nz-button nzType="primary">预览</button>\r\n    <button (click)="reset()" type="button" nz-button>重置</button>\r\n    <button (click)="copyVar()" type="button" nz-button>拷贝</button>\r\n    <nz-alert\r\n      class="mt-md"\r\n      nzType="warning"\r\n      nzMessage="配置栏只在开发环境用于预览，生产环境不会展现，请拷贝后手动修改参数配置文件 src/styles/theme.less"\r\n    ></nz-alert>\r\n  </div>\r\n</nz-drawer>\r\n<div class="setting-drawer__handle" [ngClass]="{ \'setting-drawer__handle-opened\': collapse }" (click)="toggle()">\r\n  <i nz-icon [nzType]="!collapse ? \'setting\' : \'close\'" class="setting-drawer__handle-icon"></i>\r\n</div>\r\n',host:{"[class.setting-drawer]":"true"},changeDetection:r.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:r.ChangeDetectorRef},{type:s.NzMessageService},{type:c.SettingsService},{type:l.LazyService},{type:r.NgZone},{type:void 0,decorators:[{type:r.Inject,args:[i.DOCUMENT]}]}]},e}();var k=function(){function e(e,n,t,a,r,i,s){var l=this;this.resolver=t,this.settings=a,this.el=r,this.renderer=i,this.doc=s,this.unsubscribe$=new d.Subject,this.isFetching=!1,e.events.pipe(u.takeUntil(this.unsubscribe$)).subscribe((function(e){if(!l.isFetching&&e instanceof o.RouteConfigLoadStart&&(l.isFetching=!0),e instanceof o.NavigationError||e instanceof o.NavigationCancel)return l.isFetching=!1,void(e instanceof o.NavigationError&&n.error("无法加载"+e.url+"路由",{nzDuration:3e3}));(e instanceof o.NavigationEnd||e instanceof o.RouteConfigLoadEnd)&&l.isFetching&&setTimeout((function(){l.isFetching=!1}),100)}))}return e.prototype.setClass=function(){var e,n=this.el,t=this.doc,a=this.renderer,r=this.settings.layout;l.updateHostClass(n.nativeElement,a,((e={})["alain-default"]=!0,e["alain-default__fixed"]=r.fixed,e["alain-default__collapsed"]=r.collapsed,e)),t.body.classList[r.colorWeak?"add":"remove"]("color-weak")},e.prototype.ngAfterViewInit=function(){var e=this;setTimeout((function(){var n=e.resolver.resolveComponentFactory(_);e.settingHost.createComponent(n)}),22)},e.prototype.ngOnInit=function(){var e=this,n=this.settings,t=this.unsubscribe$;n.notify.pipe(u.takeUntil(t)).subscribe((function(){return e.setClass()})),this.setClass()},e.prototype.ngOnDestroy=function(){var e=this.unsubscribe$;e.next(),e.complete()},e.type="application",e.decorators=[{type:r.Component,args:[{selector:"layout-default",template:'<div class="alain-default__progress-bar" *ngIf="isFetching"></div>\r\n<layout-header class="alain-default__header"></layout-header>\r\n<layout-sidebar class="alain-default__aside"></layout-sidebar>\r\n<section class="alain-default__content">\r\n  <router-outlet></router-outlet>\r\n</section>\r\n<ng-template #settingHost></ng-template>\r\n<abp-confirmation></abp-confirmation>\r\n<abp-toast></abp-toast>\r\n'}]}],e.ctorParameters=function(){return[{type:o.Router},{type:s.NzMessageService},{type:r.ComponentFactoryResolver},{type:c.SettingsService},{type:r.ElementRef},{type:r.Renderer2},{type:void 0,decorators:[{type:r.Inject,args:[i.DOCUMENT]}]}]},e.propDecorators={settingHost:[{type:r.ViewChild,args:["settingHost",{read:r.ViewContainerRef,static:!0}]}]},e}();var T=function(){function e(){}return e.type="empty",e.decorators=[{type:r.Component,args:[{selector:"layout-fullscreen",template:"<router-outlet></router-outlet>\r\n<abp-confirmation></abp-confirmation>\r\n<abp-toast></abp-toast>\r\n",host:{"[class.alain-fullscreen]":"true"}}]}],e}();var D=function(){function e(e){this.settings=e}return e.prototype.toggleCollapsedSidebar=function(){this.settings.setLayout("collapsed",!this.settings.layout.collapsed)},e.prototype.searchToggleChange=function(){this.searchToggleStatus=!this.searchToggleStatus},e.decorators=[{type:r.Component,args:[{selector:"layout-header",template:'<div class="alain-default__header-logo">\r\n  <a [routerLink]="[\'/\']" class="alain-default__header-logo-link">\r\n    <img\r\n      class="alain-default__header-logo-expanded"\r\n      src="./assets/logo-full.svg"\r\n      alt="{{ settings.app.name }}"\r\n      style="max-height:40px;"\r\n    />\r\n    <img\r\n      class="alain-default__header-logo-collapsed"\r\n      src="./assets/logo.svg"\r\n      alt="{{ settings.app.name }}"\r\n      style="max-height:30px;"\r\n    />\r\n  </a>\r\n</div>\r\n<div class="alain-default__nav-wrap">\r\n  <ul class="alain-default__nav">\r\n    \x3c!-- Menu --\x3e\r\n    <li>\r\n      <div class="alain-default__nav-item" (click)="toggleCollapsedSidebar()">\r\n        <i nz-icon nzType="menu-{{ settings.layout.collapsed ? \'unfold\' : \'fold\' }}"></i>\r\n      </div>\r\n    </li>\r\n    \x3c!-- Github Page --\x3e\r\n    \x3c!--<li>\r\n      <a class="alain-default__nav-item" href="//github.com/ng-alain/ng-alain" target="_blank">\r\n        <i nz-icon nzType="github"></i>\r\n      </a>\r\n    </li>--\x3e\r\n    \x3c!-- Lock Page --\x3e\r\n    \x3c!--<li class="hidden-mobile">\r\n      <div class="alain-default__nav-item" routerLink="/passport/lock">\r\n        <i nz-icon nzType="lock"></i>\r\n      </div>\r\n    </li>--\x3e\r\n    \x3c!-- Search Button --\x3e\r\n    \x3c!--<li class="hidden-pc" (click)="searchToggleChange()">\r\n      <div class="alain-default__nav-item">\r\n        <i nz-icon nzType="search"></i>\r\n      </div>\r\n    </li>--\x3e\r\n  </ul>\r\n  \x3c!--<header-search class="alain-default__search" [toggleChange]="searchToggleStatus"></header-search>--\x3e\r\n  <ul class="alain-default__nav">\r\n    \x3c!-- Notify --\x3e\r\n    \x3c!--<li>\r\n      <header-notify></header-notify>\r\n    </li>--\x3e\r\n    \x3c!-- Task --\x3e\r\n    \x3c!--<li class="hidden-mobile">\r\n      <header-task></header-task>\r\n    </li>--\x3e\r\n    \x3c!-- App Icons --\x3e\r\n    \x3c!--<li class="hidden-mobile">\r\n      <header-icon></header-icon>\r\n    </li>--\x3e\r\n    \x3c!-- Settings --\x3e\r\n    <li class="hidden-mobile">\r\n      <div\r\n        class="alain-default__nav-item"\r\n        nz-dropdown\r\n        [nzDropdownMenu]="settingsMenu"\r\n        nzTrigger="click"\r\n        nzPlacement="bottomRight"\r\n      >\r\n        <i nz-icon nzType="setting"></i>\r\n      </div>\r\n      <nz-dropdown-menu #settingsMenu="nzDropdownMenu">\r\n        <div nz-menu style="width:200px;">\r\n          \x3c!--<div nz-menu-item>\r\n            <header-fullscreen></header-fullscreen>\r\n          </div>\r\n          <div nz-menu-item>\r\n            <header-storage></header-storage>\r\n          </div>--\x3e\r\n          <div nz-menu-item>\r\n            <header-i18n></header-i18n>\r\n          </div>\r\n        </div>\r\n      </nz-dropdown-menu>\r\n    </li>\r\n    <li class="hidden-mobile">\r\n      <header-user></header-user>\r\n    </li>\r\n  </ul>\r\n</div>\r\n',changeDetection:r.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:c.SettingsService}]},e}();var M=function(){function e(e,n,t){var a=this;this.settings=e,this.menuService=n,this.localizationPipe=t,this.routes$.pipe(u.map((function(e){return function e(n){return n.reduce((function(n,t){return t.invisible?n:(t.children&&t.children.length&&(t.children=e(t.children)),w(n,[t]))}),[])}(e)}))).subscribe((function(e){var n=[];e.forEach((function(e){var t={text:a.localizationPipe.transform(e.name),group:!0,hideInBreadcrumb:!0,children:[]};n.push(t),e.children.forEach((function(e){if(0===e.children.length){var n={text:a.localizationPipe.transform(e.name),link:e.url,icon:e.iconClass};t.children.push(n)}if(0!=e.children.length){var r={text:a.localizationPipe.transform(e.name),icon:e.iconClass,children:[]};t.children.push(r),e.children.forEach((function(e){var n={text:a.localizationPipe.transform(e.name),link:e.url,icon:e.iconClass};r.children.push(n)}))}}))})),a.menuService.clear(),a.menuService.add(n)}))}return e.decorators=[{type:r.Component,args:[{selector:"layout-sidebar",template:'<div class="alain-default__aside-inner">\r\n  \x3c!--<div nz-dropdown nzTrigger="click" [nzDropdownMenu]="userMenu" class="alain-default__aside-user">\r\n    <nz-avatar class="alain-default__aside-user-avatar" [nzSrc]="settings.user.avatar"></nz-avatar>\r\n    <div class="alain-default__aside-user-info">\r\n      <strong>{{ settings.user.name }}</strong>\r\n      <p class="mb0">{{ settings.user.email }}</p>\r\n    </div>\r\n  </div>\r\n  <nz-dropdown-menu #userMenu="nzDropdownMenu">\r\n    <ul nz-menu>\r\n      <li nz-menu-item routerLink="/pro/account/center">{{ \'menu.account.center\' | translate }}</li>\r\n      <li nz-menu-item routerLink="/pro/account/settings">{{ \'menu.account.settings\' | translate }}</li>\r\n    </ul>\r\n  </nz-dropdown-menu>--\x3e\r\n  <sidebar-nav class="d-block py-lg"></sidebar-nav>\r\n</div>\r\n',changeDetection:r.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:c.SettingsService},{type:c.MenuService},{type:n.LocalizationPipe}]},z([p.Select(n.ConfigState.getOne("routes")),b("design:type",d.Observable)],e.prototype,"routes$",void 0),e}();var P=function(){function e(e){this.el=e,this.focus=!1,this.searchToggled=!1}return Object.defineProperty(e.prototype,"toggleChange",{set:function(e){var n=this;void 0!==e&&(this.searchToggled=!0,this.focus=!0,setTimeout((function(){return n.qIpt.focus()}),300))},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){this.qIpt=this.el.nativeElement.querySelector(".ant-input")},e.prototype.qFocus=function(){this.focus=!0},e.prototype.qBlur=function(){this.focus=!1,this.searchToggled=!1},e.decorators=[{type:r.Component,args:[{selector:"header-search",template:'\n    <nz-input-group [nzAddOnBeforeIcon]="focus ? \'arrow-down\' : \'search\'">\n      <input\n        nz-input\n        [(ngModel)]="q"\n        (focus)="qFocus()"\n        (blur)="qBlur()"\n        [placeholder]="\'menu.search.placeholder\' | translate"\n      />\n    </nz-input-group>\n  ',changeDetection:r.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:r.ElementRef}]},e.propDecorators={focus:[{type:r.HostBinding,args:["class.alain-default__search-focus"]}],searchToggled:[{type:r.HostBinding,args:["class.alain-default__search-toggled"]}],toggleChange:[{type:r.Input}]},e}();var O=function(){function e(e,n){this.msg=e,this.cdr=n,this.data=[{title:"通知",list:[],emptyText:"你已查看所有通知",emptyImage:"https://gw.alipayobjects.com/zos/rmsportal/wAhyIChODzsoKIOBHcBk.svg",clearText:"清空通知"},{title:"消息",list:[],emptyText:"您已读完所有消息",emptyImage:"https://gw.alipayobjects.com/zos/rmsportal/sAuJeJzSKbUmHfBQRzmZ.svg",clearText:"清空消息"},{title:"待办",list:[],emptyText:"你已完成所有待办",emptyImage:"https://gw.alipayobjects.com/zos/rmsportal/HsIsxMZiWKrNUavQUXqx.svg",clearText:"清空待办"}],this.count=5,this.loading=!1}return e.prototype.updateNoticeData=function(e){var n=this.data.slice();return n.forEach((function(e){return e.list=[]})),e.forEach((function(e){var t=v({},e);t.extra&&t.status&&(t.color={todo:void 0,processing:"blue",urgent:"red",doing:"gold"}[t.status]),n.find((function(e){return e.title===t.type})).list.push(t)})),n},e.prototype.loadData=function(){var e=this;this.loading||(this.loading=!0,setTimeout((function(){e.data=e.updateNoticeData([{id:"000000001",avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"你收到了 14 份新周报",datetime:"2017-08-09",type:"通知"},{id:"000000002",avatar:"https://gw.alipayobjects.com/zos/rmsportal/OKJXDXrmkNshAMvwtvhu.png",title:"你推荐的 曲妮妮 已通过第三轮面试",datetime:"2017-08-08",type:"通知"},{id:"000000003",avatar:"https://gw.alipayobjects.com/zos/rmsportal/kISTdvpyTAhtGxpovNWd.png",title:"这种模板可以区分多种通知类型",datetime:"2017-08-07",read:!0,type:"通知"},{id:"000000004",avatar:"https://gw.alipayobjects.com/zos/rmsportal/GvqBnKhFgObvnSGkDsje.png",title:"左侧图标用于区分不同的类型",datetime:"2017-08-07",type:"通知"},{id:"000000005",avatar:"https://gw.alipayobjects.com/zos/rmsportal/ThXAXghbEsBCCSDihZxY.png",title:"内容不要超过两行字，超出时自动截断",datetime:"2017-08-07",type:"通知"},{id:"000000006",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"曲丽丽 评论了你",description:"描述信息描述信息描述信息",datetime:"2017-08-07",type:"消息"},{id:"000000007",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"朱偏右 回复了你",description:"这种模板用于提醒谁与你发生了互动，左侧放『谁』的头像",datetime:"2017-08-07",type:"消息"},{id:"000000008",avatar:"https://gw.alipayobjects.com/zos/rmsportal/fcHMVNCjPOsbUGdEduuv.jpeg",title:"标题",description:"这种模板用于提醒谁与你发生了互动，左侧放『谁』的头像",datetime:"2017-08-07",type:"消息"},{id:"000000009",title:"任务名称",description:"任务需要在 2017-01-12 20:00 前启动",extra:"未开始",status:"todo",type:"待办"},{id:"000000010",title:"第三方紧急代码变更",description:"冠霖提交于 2017-01-06，需在 2017-01-07 前完成代码变更任务",extra:"马上到期",status:"urgent",type:"待办"},{id:"000000011",title:"信息安全考试",description:"指派竹尔于 2017-01-09 前完成更新并发布",extra:"已耗时 8 天",status:"doing",type:"待办"},{id:"000000012",title:"ABCD 版本发布",description:"冠霖提交于 2017-01-06，需在 2017-01-07 前完成代码变更任务",extra:"进行中",status:"processing",type:"待办"}]),e.loading=!1,e.cdr.detectChanges()}),1e3))},e.prototype.clear=function(e){this.msg.success("清空了 "+e)},e.prototype.select=function(e){this.msg.success("点击了 "+e.title+" 的 "+e.item.title)},e.decorators=[{type:r.Component,args:[{selector:"header-notify",template:'\n    <notice-icon\n      [data]="data"\n      [count]="count"\n      [loading]="loading"\n      btnClass="alain-default__nav-item"\n      btnIconClass="alain-default__nav-item-icon"\n      (select)="select($event)"\n      (clear)="clear($event)"\n      (popoverVisibleChange)="loadData()"\n    ></notice-icon>\n  ',changeDetection:r.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:s.NzMessageService},{type:r.ChangeDetectorRef}]},e}();var j=function(){function e(e){this.cdr=e,this.loading=!0}return e.prototype.change=function(){var e=this;setTimeout((function(){e.loading=!1,e.cdr.detectChanges()}),500)},e.decorators=[{type:r.Component,args:[{selector:"header-task",template:'\n    <div\n      class="alain-default__nav-item"\n      nz-dropdown\n      [nzDropdownMenu]="taskMenu"\n      nzTrigger="click"\n      nzPlacement="bottomRight"\n      (nzVisibleChange)="change()"\n    >\n      <nz-badge [nzDot]="true">\n        <i nz-icon nzType="bell" class="alain-default__nav-item-icon"></i>\n      </nz-badge>\n    </div>\n    <nz-dropdown-menu #taskMenu="nzDropdownMenu">\n      <div nz-menu class="wd-lg">\n        <div *ngIf="loading" class="mx-lg p-lg"><nz-spin></nz-spin></div>\n        <nz-card *ngIf="!loading" nzTitle="Notifications" nzBordered="false" class="ant-card__body-nopadding">\n          <ng-template #extra><i nz-icon nzType="plus"></i></ng-template>\n          <div\n            nz-row\n            [nzType]="\'flex\'"\n            [nzJustify]="\'center\'"\n            [nzAlign]="\'middle\'"\n            class="py-sm bg-grey-lighter-h point"\n          >\n            <div nz-col [nzSpan]="4" class="text-center">\n              <nz-avatar [nzSrc]="\'./assets/tmp/img/1.png\'"></nz-avatar>\n            </div>\n            <div nz-col [nzSpan]="20">\n              <strong>cipchk</strong>\n              <p class="mb0">Please tell me what happened in a few words, don\'t go into details.</p>\n            </div>\n          </div>\n          <div\n            nz-row\n            [nzType]="\'flex\'"\n            [nzJustify]="\'center\'"\n            [nzAlign]="\'middle\'"\n            class="py-sm bg-grey-lighter-h point"\n          >\n            <div nz-col [nzSpan]="4" class="text-center">\n              <nz-avatar [nzSrc]="\'./assets/tmp/img/2.png\'"></nz-avatar>\n            </div>\n            <div nz-col [nzSpan]="20">\n              <strong>はなさき</strong>\n              <p class="mb0">ハルカソラトキヘダツヒカリ</p>\n            </div>\n          </div>\n          <div\n            nz-row\n            [nzType]="\'flex\'"\n            [nzJustify]="\'center\'"\n            [nzAlign]="\'middle\'"\n            class="py-sm bg-grey-lighter-h point"\n          >\n            <div nz-col [nzSpan]="4" class="text-center">\n              <nz-avatar [nzSrc]="\'./assets/tmp/img/3.png\'"></nz-avatar>\n            </div>\n            <div nz-col [nzSpan]="20">\n              <strong>苏先生</strong>\n              <p class="mb0">请告诉我，我应该说点什么好？</p>\n            </div>\n          </div>\n          <div\n            nz-row\n            [nzType]="\'flex\'"\n            [nzJustify]="\'center\'"\n            [nzAlign]="\'middle\'"\n            class="py-sm bg-grey-lighter-h point"\n          >\n            <div nz-col [nzSpan]="4" class="text-center">\n              <nz-avatar [nzSrc]="\'./assets/tmp/img/4.png\'"></nz-avatar>\n            </div>\n            <div nz-col [nzSpan]="20">\n              <strong>Kent</strong>\n              <p class="mb0">Please tell me what happened in a few words, don\'t go into details.</p>\n            </div>\n          </div>\n          <div\n            nz-row\n            [nzType]="\'flex\'"\n            [nzJustify]="\'center\'"\n            [nzAlign]="\'middle\'"\n            class="py-sm bg-grey-lighter-h point"\n          >\n            <div nz-col [nzSpan]="4" class="text-center">\n              <nz-avatar [nzSrc]="\'./assets/tmp/img/5.png\'"></nz-avatar>\n            </div>\n            <div nz-col [nzSpan]="20">\n              <strong>Jefferson</strong>\n              <p class="mb0">Please tell me what happened in a few words, don\'t go into details.</p>\n            </div>\n          </div>\n          <div nz-row>\n            <div nz-col [nzSpan]="24" class="pt-md border-top-1 text-center text-grey point">\n              See All\n            </div>\n          </div>\n        </nz-card>\n      </div>\n    </nz-dropdown-menu>\n  ',changeDetection:r.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:r.ChangeDetectorRef}]},e}();var L=function(){function e(e){this.cdr=e,this.loading=!0}return e.prototype.change=function(){var e=this;setTimeout((function(){e.loading=!1,e.cdr.detectChanges()}),500)},e.decorators=[{type:r.Component,args:[{selector:"header-icon",template:'\n    <div\n      class="alain-default__nav-item"\n      nz-dropdown\n      [nzDropdownMenu]="iconMenu"\n      nzTrigger="click"\n      nzPlacement="bottomRight"\n      (nzVisibleChange)="change()"\n    >\n      <i nz-icon nzType="appstore"></i>\n    </div>\n    <nz-dropdown-menu #iconMenu="nzDropdownMenu">\n      <div nz-menu class="wd-xl animated jello">\n        <nz-spin [nzSpinning]="loading" [nzTip]="\'正在读取数据...\'">\n          <div nz-row [nzType]="\'flex\'" [nzJustify]="\'center\'" [nzAlign]="\'middle\'" class="app-icons">\n            <div nz-col [nzSpan]="6">\n              <i nz-icon nzType="calendar" class="bg-error text-white"></i>\n              <small>Calendar</small>\n            </div>\n            <div nz-col [nzSpan]="6">\n              <i nz-icon nzType="file" class="bg-geekblue text-white"></i>\n              <small>Files</small>\n            </div>\n            <div nz-col [nzSpan]="6">\n              <i nz-icon nzType="cloud" class="bg-success text-white"></i>\n              <small>Cloud</small>\n            </div>\n            <div nz-col [nzSpan]="6">\n              <i nz-icon nzType="star" class="bg-magenta text-white"></i>\n              <small>Star</small>\n            </div>\n            <div nz-col [nzSpan]="6">\n              <i nz-icon nzType="team" class="bg-purple text-white"></i>\n              <small>Team</small>\n            </div>\n            <div nz-col [nzSpan]="6">\n              <i nz-icon nzType="scan" class="bg-warning text-white"></i>\n              <small>QR</small>\n            </div>\n            <div nz-col [nzSpan]="6">\n              <i nz-icon nzType="pay-circle" class="bg-cyan text-white"></i>\n              <small>Pay</small>\n            </div>\n            <div nz-col [nzSpan]="6">\n              <i nz-icon nzType="printer" class="bg-grey text-white"></i>\n              <small>Print</small>\n            </div>\n          </div>\n        </nz-spin>\n      </div>\n    </nz-dropdown-menu>\n  ',changeDetection:r.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:r.ChangeDetectorRef}]},e}();var A=function(){function e(){this.status=!1}return Object.defineProperty(e.prototype,"sf",{get:function(){return g},enumerable:!0,configurable:!0}),e.prototype._resize=function(){this.status=this.sf.isFullscreen},e.prototype._click=function(){this.sf.isEnabled&&this.sf.toggle()},e.decorators=[{type:r.Component,args:[{selector:"header-fullscreen",template:"\n    <i nz-icon [nzType]=\"status ? 'fullscreen-exit' : 'fullscreen'\"></i>\n    {{ (status ? 'menu.fullscreen.exit' : 'menu.fullscreen') | translate }}\n  ",host:{"[class.d-block]":"true"},changeDetection:r.ChangeDetectionStrategy.OnPush}]}],e.propDecorators={_resize:[{type:r.HostListener,args:["window:resize"]}],_click:[{type:r.HostListener,args:["click"]}]},e}();var N=function(){function e(e){this.store=e}return Object.defineProperty(e.prototype,"selectedLangCulture",{get:function(){return this.store.selectSnapshot(n.SessionState.getLanguage)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"defaultLanguage$",{get:function(){var e=this;return this.languages$.pipe(u.map((function(n){return h((function(){return n.find((function(n){return n.cultureName===e.selectedLangCulture})).displayName}))}),""))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dropdownLanguages$",{get:function(){return this.languages$.pipe(u.map((function(e){return h((function(){return e}),[])})))},enumerable:!0,configurable:!0}),e.prototype.onChangeLang=function(e){this.store.dispatch(new n.SetLanguage(e))},e.decorators=[{type:r.Component,args:[{selector:"header-i18n",template:'\n    <div nz-dropdown [nzDropdownMenu]="langMenu" nzPlacement="bottomRight">\n      <i nz-icon nzType="global"></i>\n      {{ defaultLanguage$ | async }}\n      <i nz-icon nzType="down"></i>\n    </div>\n    <nz-dropdown-menu #langMenu="nzDropdownMenu">\n      <ul nz-menu>\n        <li\n          nz-menu-item\n          *ngFor="let lang of dropdownLanguages$ | async"\n          [nzSelected]="lang.cultureName === selectedLangCulture"\n          (click)="onChangeLang(lang.cultureName)"\n        >\n         <span role="img" [attr.aria-label]="lang?.displayName" class="pr-xs">{{lang.cultureName}}</span>\n          {{ lang?.displayName }}\n        </li>\n      </ul>\n    </nz-dropdown-menu>\n  ',changeDetection:r.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:p.Store}]},z([p.Select(n.ConfigState.getDeep("localization.languages")),b("design:type",d.Observable)],e.prototype,"languages$",void 0),e}();var R=function(){function e(e,n){this.modalSrv=e,this.messageSrv=n}return e.prototype._click=function(){var e=this;this.modalSrv.confirm({nzTitle:"Make sure clear all local storage?",nzOnOk:function(){localStorage.clear(),e.messageSrv.success("Clear Finished!")}})},e.decorators=[{type:r.Component,args:[{selector:"header-storage",template:"\n    <i nz-icon nzType=\"tool\"></i>\n    {{ 'menu.clear.local.storage' | translate }}\n  ",host:{"[class.d-block]":"true"},changeDetection:r.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:s.NzModalService},{type:s.NzMessageService}]},e.propDecorators={_click:[{type:r.HostListener,args:["click"]}]},e}();var E=function(){function e(e,t,a,r,i){this.settings=e,this.router=t,this.tokenService=a,this.store=r,this.oauthService=i,this.tenant={},this.tenant=this.store.selectSnapshot(n.SessionState.getTenant)||{},this.tenantName=this.tenant.name||"."}return e.prototype.logout=function(){this.oauthService.logOut(),this.store.dispatch(new y.Navigate(["/"],null,{state:{redirectUrl:this.store.selectSnapshot(y.RouterState).state.url}})),this.store.dispatch(new n.GetAppConfiguration)},e.decorators=[{type:r.Component,args:[{selector:"header-user",template:'\n    <div\n      class="alain-default__nav-item d-flex align-items-center px-sm"\n      nz-dropdown\n      nzPlacement="bottomRight"\n      [nzDropdownMenu]="userMenu"\n    >\n      \x3c!--<nz-avatar [nzSrc]="settings.user.avatar" nzSize="small" class="mr-sm"></nz-avatar>--\x3e\n      {{tenantName}}/{{ (currentUser$ | async)?.userName }}\n    </div>\n    <nz-dropdown-menu #userMenu="nzDropdownMenu">\n      <div nz-menu class="width-sm">\n        <div nz-menu-item routerLink="/account/manage-profile">\n          <i nz-icon nzType="setting" class="mr-sm"></i>\n          {{ \'AbpAccount::ManageYourProfile\' | abpLocalization }}\n        </div>\n        <li nz-menu-divider></li>\n        <div nz-menu-item (click)="logout()">\n          <i nz-icon nzType="logout" class="mr-sm"></i>\n          {{ \'AbpUi::Logout\' | abpLocalization }}\n        </div>\n      </div>\n    </nz-dropdown-menu>\n  ',changeDetection:r.ChangeDetectionStrategy.OnPush}]}],e.ctorParameters=function(){return[{type:c.SettingsService},{type:o.Router},{type:void 0,decorators:[{type:r.Inject,args:[f.DA_SERVICE_TOKEN]}]},{type:p.Store},{type:m.OAuthService}]},z([p.Select(n.ConfigState.getOne("currentUser")),b("design:type",d.Observable)],e.prototype,"currentUser$",void 0),e}();var q=function(){function e(){this.i={},this.format=function(e){return e+" px"}}return Object.defineProperty(e.prototype,"data",{set:function(e){this.i=e,"px"===e.type&&(this.pxVal=+e.value.replace("px",""))},enumerable:!0,configurable:!0}),e.prototype.pxChange=function(e){this.i.value=e+"px"},e.decorators=[{type:r.Component,args:[{selector:"setting-drawer-item",template:'<span\r\n  >{{ i.label }}<span class="pl-sm text-grey">{{ i.tip }}</span></span\r\n>\r\n<div [ngSwitch]="i.type">\r\n  <ng-container *ngSwitchCase="\'color\'">\r\n    <input\r\n      nz-input\r\n      type="color"\r\n      style="min-width: 88px"\r\n      [(ngModel)]="i.value"\r\n      [ngModelOptions]="{ standalone: true }"\r\n    />\r\n  </ng-container>\r\n  <ng-container *ngSwitchCase="\'input\'">\r\n    <input nz-input style="min-width: 88px" [(ngModel)]="i.value" [ngModelOptions]="{ standalone: true }" />\r\n  </ng-container>\r\n  <ng-container *ngSwitchCase="\'px\'">\r\n    <nz-input-number\r\n      [(ngModel)]="pxVal"\r\n      (ngModelChange)="pxChange($event)"\r\n      [nzMin]="i.min"\r\n      [nzMax]="i.max"\r\n      [nzStep]="i.step || 2"\r\n      [nzFormatter]="format"\r\n    ></nz-input-number>\r\n  </ng-container>\r\n  <ng-container *ngSwitchCase="\'switch\'">\r\n    <nz-switch nzSize="small" [(ngModel)]="i.value" [ngModelOptions]="{ standalone: true }"></nz-switch>\r\n  </ng-container>\r\n  <ng-container *ngSwitchDefault>\r\n    <ng-content></ng-content>\r\n  </ng-container>\r\n</div>\r\n',host:{"[class.setting-drawer__body-item]":"true"}}]}],e.propDecorators={data:[{type:r.Input}]},e}();var I=function(){function e(){this.links=[{title:"帮助",href:""},{title:"隐私",href:""},{title:"条款",href:""}]}return e.type="account",e.decorators=[{type:r.Component,args:[{selector:"layout-passport",template:'<div class="container">\r\n  <header-i18n showLangText="false" class="langs"></header-i18n>\r\n  \r\n  <div class="wrap">\r\n    <div class="top">\r\n      <div class="head">\r\n        <img class="logo" src="./assets/logo-color.svg" />\r\n        <span class="title">ng-alain</span>\r\n      </div>\r\n      <div class="desc">武林中最有影响力的《葵花宝典》；欲练神功，挥刀自宫</div>\r\n    </div>\r\n    <router-outlet></router-outlet>\r\n    <global-footer [links]="links">\r\n      Copyright\r\n      <i nz-icon nzType="copyright"></i> 2017 <a href="//github.com/cipchk" target="_blank">卡色</a>出品\r\n    </global-footer>\r\n  </div>\r\n\r\n\r\n</div>\r\n<abp-confirmation></abp-confirmation>\r\n<abp-toast></abp-toast>',styles:[":host ::ng-deep .container{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;min-height:100%;background:#f0f2f5}:host ::ng-deep .langs{width:100%;height:40px;line-height:44px;text-align:right}:host ::ng-deep .langs .anticon{margin-top:24px;margin-right:24px;font-size:14px;vertical-align:top;cursor:pointer}:host ::ng-deep .wrap{-webkit-box-flex:1;flex:1;padding:32px 0}:host ::ng-deep .ant-form-item{margin-bottom:24px}@media (min-width:768px){:host ::ng-deep .container{background-image:url(https://gw.alipayobjects.com/zos/rmsportal/TVYTbAXWheQpRcWDaDMu.svg);background-repeat:no-repeat;background-position:center 110px;background-size:100%}:host ::ng-deep .wrap{padding:32px 0 24px}}:host ::ng-deep .top{text-align:center}:host ::ng-deep .header{height:44px;line-height:44px}:host ::ng-deep .header a{text-decoration:none}:host ::ng-deep .logo{height:44px;margin-right:16px}:host ::ng-deep .title{position:relative;color:rgba(0,0,0,.85);font-weight:600;font-size:33px;font-family:'Myriad Pro','Helvetica Neue',Arial,Helvetica,sans-serif;vertical-align:middle}:host ::ng-deep .desc{margin-top:12px;margin-bottom:40px;color:rgba(0,0,0,.45);font-size:14px}"]}]}],e}();var F=[_,q],V=w([k,T,D,M],F),B=[P,O,j,L,A,N,R,E],H=[I],U=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[n.CoreModule,a.NgAlainSharedModule],entryComponents:w(F,[k,T,I]),declarations:w(V,B,H),exports:w(V,H)}]}],e}(),$=function(){function e(){}return e.decorators=[{type:r.NgModule,args:[{imports:[n.CoreModule,t.ThemeBasicModule,a.NgAlainSharedModule,U],exports:[t.ThemeBasicModule,a.NgAlainSharedModule,U]}]}],e}();e.LayoutDefaultComponent=k,e.LayoutFullScreenComponent=T,e.LayoutPassportComponent=I,e.NgAlainBasicModule=$,e.ɵa=U,e.ɵb=_,e.ɵc=q,e.ɵd=D,e.ɵe=M,e.ɵf=P,e.ɵg=O,e.ɵh=j,e.ɵi=L,e.ɵj=A,e.ɵk=N,e.ɵl=R,e.ɵm=E,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=fs-ng-alain-basic.umd.min.js.map