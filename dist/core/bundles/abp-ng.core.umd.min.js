!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/router"),require("@ngxs/store"),require("snq"),require("@angular/common/http"),require("rxjs"),require("rxjs/operators"),require("angular-oauth2-oidc"),require("@angular/common"),require("@angular/forms"),require("@ngxs/router-plugin"),require("@ngxs/storage-plugin"),require("just-compare"),require("just-clone")):"function"==typeof define&&define.amd?define("@abp/ng.core",["exports","@angular/core","@angular/router","@ngxs/store","snq","@angular/common/http","rxjs","rxjs/operators","angular-oauth2-oidc","@angular/common","@angular/forms","@ngxs/router-plugin","@ngxs/storage-plugin","just-compare","just-clone"],e):e(((t=t||self).abp=t.abp||{},t.abp.ng=t.abp.ng||{},t.abp.ng.core={}),t.ng.core,t.ng.router,t.store,t.snq,t.ng.common.http,t.rxjs,t.rxjs.operators,t.angularOauth2Oidc,t.ng.common,t.ng.forms,t.routerPlugin,t.storagePlugin,t.compare,t.clone)}(this,(function(t,e,n,r,o,i,a,u,c,s,p,l,f,d,h){"use strict";o=o&&o.hasOwnProperty("default")?o.default:o,d=d&&d.hasOwnProperty("default")?d.default:d,h=h&&h.hasOwnProperty("default")?h.default:h;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var y=function(t,e){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function g(t,e){function n(){this.constructor=t}y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var m=function(){return(m=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function v(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function b(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function S(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function C(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}c((r=r.apply(t,e||[])).next())}))}function R(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}function A(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function O(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(A(arguments[e]));return t}var I=function(){function t(t){this.injector=t,this.valueFn=function(t){return t},this.valueLimitFn=function(t){return!1},this.cdRef=t.get(e.ChangeDetectorRef)}return Object.defineProperty(t.prototype,"value",{get:function(){return this._value||this.defaultValue},set:function(t){t=this.valueFn(t,this._value),!1!==this.valueLimitFn(t,this._value)||this.readonly||(this._value=t,this.notifyValueChange())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"defaultValue",{get:function(){return this._value},enumerable:!0,configurable:!0}),t.prototype.notifyValueChange=function(){this.onChange&&this.onChange(this.value)},t.prototype.writeValue=function(t){var e=this;this._value=this.valueLimitFn(t,this._value)||t,setTimeout((function(){return e.cdRef.markForCheck()}),0)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this.disabled=t},t.decorators=[{type:e.Component,args:[{template:""}]}],t.ctorParameters=function(){return[{type:e.Injector}]},t.propDecorators={disabled:[{type:e.Input}],readonly:[{type:e.Input}],valueFn:[{type:e.Input}],valueLimitFn:[{type:e.Input}],value:[{type:e.Input}]},t}();var w=function(){function t(t,e){this.name=t,this.newValue=e}return t.type="[Config] Patch Route By Name",t}();var E=function(){function t(){}return t.type="[Config] Get App Configuration",t}();var j=function(){function t(t){this.payload=t}return t.type="[Config] Add Route",t}();var P=function(){function t(t){this.environment=t}return t.type="[Config] Set Environment",t}();var T=function(){function t(t){this.payload=t}return t.type="[Loader] Start",t}();var D=function(){function t(t){this.payload=t}return t.type="[Loader] Stop",t}();var x=function(){function t(){}return t.type="[Profile] Get",t}();var L=function(){function t(t){this.payload=t}return t.type="[Profile] Update",t}();var N=function(){function t(t){this.payload=t}return t.type="[Profile] Change Password",t}();var _=function(){function t(t){this.payload=t}return t.type="[ReplaceableComponents] Add",t}();var k=function(){function t(t){this.payload=t}return t.type="[Rest] Error",t}();var F=function(){function t(t,e){this.payload=t,this.dispatchAppConfiguration=e}return t.type="[Session] Set Language",t}();var z=function(){function t(t){this.payload=t}return t.type="[Session] Set Tenant",t}();var M=function(){function t(t){this.operation=t}return t.type="[Session] Modify Opened Tab Count",t}();var V=function(){function t(t){this.payload=t}return t.type="[Session] Set Remember",t}();function q(t,e,n,r){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=null);var o=function(t){return t.children&&t.children.length&&(t.children=q(t.children,e,n,t.name)),!t.parentName||t.parentName===r||(n.push(t),!1)};if(r)return t.filter(o);var i=t.filter(o);return n.length?U(B(O(i,e),n)):i}function B(t,e){return t.map((function(t){t.children&&t.children.length&&(t.children=B(t.children,e));var n=e.filter((function(e){return e.parentName===t.name}));return n&&n.length&&(t.children=O(t.children||[],n)),t}))}function U(t){return void 0===t&&(t=[]),t.length?t.map((function(t,e){return m({},t,{order:void 0===t.order?e+1:t.order})})).sort((function(t,e){return t.order-e.order})).map((function(t){return t.children&&t.children.length&&(t.children=U(t.children)),t})):[]}var G=[];function H(){return G}var $=function(){function t(t,e,o){var i=this;this.oAuthService=t,this.store=e,this.actions=o,o.pipe(r.ofActionSuccessful(E)).pipe(u.take(1)).subscribe((function(){var t=(i.store.selectSnapshot(n)||{sessionDetail:{}}).sessionDetail,e=(new Date).valueOf()-3e5;t.lastExitTime&&0===t.openedTabCount&&i.oAuthService.hasValidAccessToken()&&!1===t.remember&&t.lastExitTime<e&&i.oAuthService.logOut(),i.store.dispatch(new M("increase")),a.fromEvent(window,"unload").subscribe((function(t){i.store.dispatch(new M("decrease"))}))}))}var n;return n=t,t.getLanguage=function(t){return t.language},t.getTenant=function(t){return t.tenant},t.getSessionDetail=function(t){return t.sessionDetail},t.prototype.setLanguage=function(t,e){var n=t.patchState,r=t.dispatch,o=e.payload,i=e.dispatchAppConfiguration,a=void 0===i||i;if(n({language:o}),a)return r(new E)},t.prototype.setTenant=function(t,e){(0,t.patchState)({tenant:e.payload})},t.prototype.setRemember=function(t,e){var n=t.getState,r=t.patchState,o=e.payload,i=n().sessionDetail;r({sessionDetail:m({},i,{remember:o})})},t.prototype.modifyOpenedTabCount=function(t,e){var n=t.getState,r=t.patchState,o=e.operation,i=n().sessionDetail||{openedTabCount:0},a=i.openedTabCount,u=i.lastExitTime,c=v(i,["openedTabCount","lastExitTime"]);"increase"===o?a++:"decrease"===o&&(a--,u=(new Date).valueOf()),(!a||a<0)&&(a=0),r({sessionDetail:m({openedTabCount:a,lastExitTime:u},c)})},t.ctorParameters=function(){return[{type:c.OAuthService},{type:r.Store},{type:r.Actions}]},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:c.OAuthService},{type:r.Store},{type:r.Actions}]},b([r.Action(F),S("design:type",Function),S("design:paramtypes",[Object,F]),S("design:returntype",void 0)],t.prototype,"setLanguage",null),b([r.Action(z),S("design:type",Function),S("design:paramtypes",[Object,z]),S("design:returntype",void 0)],t.prototype,"setTenant",null),b([r.Action(V),S("design:type",Function),S("design:paramtypes",[Object,V]),S("design:returntype",void 0)],t.prototype,"setRemember",null),b([r.Action(M),S("design:type",Function),S("design:paramtypes",[Object,M]),S("design:returntype",void 0)],t.prototype,"modifyOpenedTabCount",null),b([r.Selector(),S("design:type",Function),S("design:paramtypes",[Object]),S("design:returntype",String)],t,"getLanguage",null),b([r.Selector(),S("design:type",Function),S("design:paramtypes",[Object]),S("design:returntype",Object)],t,"getTenant",null),b([r.Selector(),S("design:type",Function),S("design:paramtypes",[Object]),S("design:returntype",Object)],t,"getSessionDetail",null),t=n=b([r.State({name:"SessionState",defaults:{sessionDetail:{openedTabCount:0}}}),S("design:paramtypes",[c.OAuthService,r.Store,r.Actions])],t)}();var W=function(){function t(t,e){this.http=t,this.store=e}var n;return n=t,t.getAll=function(t){return t},t.getApplicationInfo=function(t){return t.environment.application||{}},t.getOne=function(t){return r.createSelector([n],(function(e){return e[t]}))},t.getDeep=function(t){if("string"==typeof t&&(t=t.split(".")),!Array.isArray(t))throw new Error("The argument must be a dot string or an string array.");return r.createSelector([n],(function(e){return t.reduce((function(t,e){if(t)return t[e]}),e)}))},t.getRoute=function(t,e,o){return r.createSelector([n],(function(n){return n.flattedRoutes.find((function(n){return t&&n.path===t?n:e&&n.name===e?n:o&&n.url===o?n:void 0}))}))},t.getApiUrl=function(t){return r.createSelector([n],(function(e){return(e.environment.apis[t||"default"]||e.environment.apis.default).url}))},t.getSetting=function(t){return r.createSelector([n],(function(e){return o((function(){return e.setting.values[t]}))}))},t.getSettings=function(t){return r.createSelector([n],(function(e){var n=o((function(){return e.setting.values}),{});return t?Object.keys(n).filter((function(e){return e.indexOf(t)>-1})).reduce((function(t,e){return t[e]=n[e],t}),{}):n}))},t.getGrantedPolicy=function(t){return r.createSelector([n],(function(e){if(!t)return!0;var n,r=function(t){return o((function(){return e.auth.grantedPolicies[t]}),!1)};return/\|\|/g.test(t)?2===(n=t.split("||").filter((function(t){return!!t}))).length&&(r(n[0].trim())||r(n[1].trim())):/&&/g.test(t)?2===(n=t.split("&&").filter((function(t){return!!t}))).length&&(r(n[0].trim())&&r(n[1].trim())):r(t)}))},t.getLocalization=function(t){for(var e,i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];t||(t=""),"string"!=typeof t&&(e=t.defaultValue,t=t.key);var u=t.split("::"),c=r.createSelector([n],(function(n){var r=function(t){n.environment.production||console.warn(t)};if(u.length<2)return r("The localization source separator (::) not found."),e||t;if(!n.localization)return e||u[1];var a=u[0]||o((function(){return n.environment.localization.defaultResourceName}))||n.localization.defaultResourceName,c=u[1];if("_"===a)return e||c;if(!a)return r("Localization source name is not specified and the defaultResourceName was not defined!"),e||c;var s=n.localization.values[a];if(!s)return r("Could not find localization source: "+a),e||c;var p=s[c];return void 0===p?e||c:(i=i.filter((function(t){return null!=t})),p&&i&&i.length&&i.forEach((function(t){p=p.replace(/[\'\"]?\{[\d]+\}[\'\"]?/,t)})),"string"!=typeof p&&(p=""),p||e||t)}));return c},t.prototype.addData=function(t){var e=this,r=t.patchState,o=t.dispatch,c=this.store.selectSnapshot(n.getDeep("environment.application.name")),s=this.store.selectSnapshot(n.getApiUrl(c));return this.http.get(s+"/api/abp/application-configuration").pipe(u.tap((function(t){return r(m({},t))})),u.switchMap((function(t){var n=t.setting.values["Abp.Localization.DefaultLanguage"];return n.includes(";")&&(n=n.split(";")[0]),document.documentElement.setAttribute("lang",t.localization.currentCulture.cultureName),e.store.selectSnapshot($.getLanguage)?a.of(null):o(new F(n,!1))})),u.catchError((function(t){return o(new k(new i.HttpErrorResponse({status:0,error:t}))),a.throwError(t)})))},t.prototype.patchRoute=function(t,e){var n=t.patchState,r=t.getState,o=e.name,i=e.newValue,a=r().routes;a=function t(e,n,r,o){void 0===o&&(o="");if(e=e.map((function(e){return e.name===n?(r.url=o+"/"+((r.path&&""!==r.path?r.path:e.path)||""),r.children&&r.children.length&&(r.children=r.children.map((function(t){return m({},t,{url:(r.url+"/"+t.path).replace("//","/")})}))),m({},e,r)):(e.children&&e.children.length&&(e.children=t(e.children,n,r,(o||"/")+e.path)),e)})),o)return e;return q(e)}(a,o,i);var u=r().flattedRoutes,c=u.findIndex((function(t){return t.name===o}));return c>-1&&(u[c]=m({},u[c],i)),n({routes:a,flattedRoutes:u})},t.prototype.addRoute=function(t,e){var n=t.patchState,r=t.getState,i=e.payload,a=r().routes,u=r().flattedRoutes,c=m({},i);if(c.parentName){var s=u.findIndex((function(t){return t.name===c.parentName}));if(s<0)return;var p=u[s];(p.url||"").replace("/","")?c.url=p.url+"/"+c.path:c.url="/"+c.path,c.children=c.children||[],c.order=c.order||0===c.order?c.order:(p.children||[]).length,p.children=O(p.children||[],[c]).sort((function(t,e){return t.order-e.order})),u[s]=p,u.push(c);for(var l=p.name,f=[l];l;)(l=o((function(){return u.find((function(t){return t.name===l})).parentName})))&&f.unshift(l);a=function t(e,n,r,o){void 0===o&&(o=0);var i=e.findIndex((function(t){return t.name===n[o]}));o===n.length-1?e[i]=r:e[i].children=t(e[i].children,n,r,o+1);return e}(a,f,p)}else c.url="/"+c.path,c.order||0===c.order?a=O(a,[c]).sort((function(t,e){return t.order-e.order})):(c.order=a.length,a=O(a,[c])),u.push(c);return n({routes:a,flattedRoutes:u})},t.prototype.setEnvironment=function(t,e){return(0,t.patchState)({environment:e.environment})},t.ctorParameters=function(){return[{type:i.HttpClient},{type:r.Store}]},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:i.HttpClient},{type:r.Store}]},b([r.Action(E),S("design:type",Function),S("design:paramtypes",[Object]),S("design:returntype",void 0)],t.prototype,"addData",null),b([r.Action(w),S("design:type",Function),S("design:paramtypes",[Object,w]),S("design:returntype",void 0)],t.prototype,"patchRoute",null),b([r.Action(j),S("design:type",Function),S("design:paramtypes",[Object,j]),S("design:returntype",void 0)],t.prototype,"addRoute",null),b([r.Action(P),S("design:type",Function),S("design:paramtypes",[Object,P]),S("design:returntype",void 0)],t.prototype,"setEnvironment",null),b([r.Selector(),S("design:type",Function),S("design:paramtypes",[Object]),S("design:returntype",void 0)],t,"getAll",null),b([r.Selector(),S("design:type",Function),S("design:paramtypes",[Object]),S("design:returntype",Object)],t,"getApplicationInfo",null),t=n=b([r.State({name:"ConfigState",defaults:{}}),S("design:paramtypes",[i.HttpClient,r.Store])],t)}();var Y=function(){function t(){}var n;return n=t,t.getAll=function(t){return t.replaceableComponents||[]},t.getComponent=function(t){return r.createSelector([n],(function(e){return o((function(){return e.replaceableComponents.find((function(e){return e.key===t}))}))}))},t.prototype.replaceableComponentsAction=function(t,e){var n=t.getState,r=t.patchState,i=e.payload,a=n().replaceableComponents,u=o((function(){return a.findIndex((function(t){return t.key===i.key}))}),-1);u>-1?a[u]=i:a=O(a,[i]),r({replaceableComponents:a})},t.decorators=[{type:e.Injectable}],b([r.Action(_),S("design:type",Function),S("design:paramtypes",[Object,_]),S("design:returntype",void 0)],t.prototype,"replaceableComponentsAction",null),b([r.Selector(),S("design:type",Function),S("design:paramtypes",[Object]),S("design:returntype",Array)],t,"getAll",null),t=n=b([r.State({name:"ReplaceableComponentsState",defaults:{replaceableComponents:[]}})],t)}();function K(t){return"function"==typeof t}var Z=function(t,e){return void 0===e&&(e="ngOnDestroy"),function(n){var r=t[e];if(!1===K(r))throw new Error(t.constructor.name+" is using untilDestroyed but doesn't implement "+e);return t.__takeUntilDestroy||(t.__takeUntilDestroy=new a.Subject,t[e]=function(){K(r)&&r.apply(this,arguments),t.__takeUntilDestroy.next(!0),t.__takeUntilDestroy.complete()}),n.pipe(u.takeUntil(t.__takeUntilDestroy))}},J=function(){function t(t,e,r){var i=this;this.router=t,this.route=e,this.store=r;var a=this.store.selectSnapshot(W.getAll).routes;t.events.pipe(Z(this)).subscribe((function(e){if(e instanceof n.NavigationEnd){var r=o((function(){return t.parseUrl(e.url).root.children.primary.segments}),[{path:t.url.replace("/","")}]),u={application:i.getComponent("Theme.ApplicationLayoutComponent"),account:i.getComponent("Theme.AccountLayoutComponent"),empty:i.getComponent("Theme.EmptyLayoutComponent")},c=(i.route.snapshot.data||{}).layout||function(t,e){var n="empty",r=e.reduce((function(t,e){return e.wrapper?O(t,e.children):O(t,[e])}),[]).find((function(e){return e.path===t[0].path}));if(r&&(r.layout&&(n=r.layout),r.children&&r.children.length&&t.length>1)){var o=r.children.find((function(e){return e.path===t[1].path}));o&&o.layout&&(n=o.layout)}return n}(r,a);i.layout=u[c].component}}))}return t.prototype.getComponent=function(t){return this.store.selectSnapshot(Y.getComponent(t))},t.prototype.ngOnDestroy=function(){},t.decorators=[{type:e.Component,args:[{selector:"abp-dynamic-layout",template:'\n    <ng-container *ngTemplateOutlet="layout ? componentOutlet : routerOutlet"></ng-container>\n    <ng-template #routerOutlet><router-outlet></router-outlet></ng-template>\n    <ng-template #componentOutlet\n      ><ng-container *ngComponentOutlet="layout"></ng-container\n    ></ng-template>\n  '}]}],t.ctorParameters=function(){return[{type:n.Router},{type:n.ActivatedRoute},{type:r.Store}]},t}();var Q=function(){function t(t,e){this.route=t,this.store=e}return t.prototype.ngOnInit=function(){var t=this;this.defaultComponent=this.route.snapshot.data.replaceableComponent.defaultComponent,this.componentKey=this.route.snapshot.data.replaceableComponent.key,this.store.select(Y.getComponent(this.componentKey)).pipe(Z(this),u.distinctUntilChanged()).subscribe((function(e){void 0===e&&(e={}),t.externalComponent=e.component}))},t.prototype.ngOnDestroy=function(){},t.decorators=[{type:e.Component,args:[{selector:"abp-replaceable-route-container",template:'\n    <ng-container *ngComponentOutlet="externalComponent || defaultComponent"></ng-container>\n  '}]}],t.ctorParameters=function(){return[{type:n.ActivatedRoute},{type:r.Store}]},t}();var X=function(){function t(){}return t.decorators=[{type:e.Component,args:[{selector:"abp-router-outlet",template:"\n    <router-outlet></router-outlet>\n  "}]}],t}(),tt={"ar-sa":"ar-SA","ca-ES-valencia":"ca-ES-VALENCIA","de-de":"de","es-ES":"es","en-US":"en","fil-Latn":"en","ku-Arab":"en","ky-Cyrl":"en","mi-Latn":"en","prs-Arab":"en","qut-Latn":"en",nso:"en",quz:"en","fr-FR":"fr","gd-Latn":"gd","ha-Latn":"ha","ig-Latn":"ig","it-it":"it","mn-Cyrl":"mn","pt-BR":"pt","sd-Arab":"pa-Arab","sr-Cyrl-RS":"sr-Cyrl","sr-Latn-RS":"sr-Latn","tg-Cyrl":"tg","tk-Latn":"tk","tt-Cyrl":"tt","ug-Arab":"ug","yo-Latn":"yo"},et=function(){function t(t){this.elRef=t,this.delay=0}return t.prototype.ngAfterViewInit=function(){var t=this;setTimeout((function(){return t.elRef.nativeElement.focus()}),this.delay)},t.decorators=[{type:e.Directive,args:[{selector:"[autofocus]"}]}],t.ctorParameters=function(){return[{type:e.ElementRef}]},t.propDecorators={delay:[{type:e.Input,args:["autofocus"]}]},t}();var nt=function(){function t(t){this.el=t,this.debounce=300,this.debounceEvent=new e.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;a.fromEvent(this.el.nativeElement,"input").pipe(u.debounceTime(this.debounce),Z(this)).subscribe((function(e){t.debounceEvent.emit(e)}))},t.prototype.ngOnDestroy=function(){},t.decorators=[{type:e.Directive,args:[{selector:"[input.debounce]"}]}],t.ctorParameters=function(){return[{type:e.ElementRef}]},t.propDecorators={debounce:[{type:e.Input}],debounceEvent:[{type:e.Output,args:["input.debounce"]}]},t}();var rt=function(){function t(t,e){this.cdRef=t,this.elRef=e,this.enabled=!0}return Object.defineProperty(t.prototype,"inlineClass",{get:function(){return this.enabled&&this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"class",{get:function(){return this.enabled&&!this.width},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this.enabled&&this.width?this.width||"170px":void 0},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.title=this.title||this.elRef.nativeElement.innerText,this.cdRef.detectChanges()},t.decorators=[{type:e.Directive,args:[{selector:"[abpEllipsis]"}]}],t.ctorParameters=function(){return[{type:e.ChangeDetectorRef},{type:e.ElementRef}]},t.propDecorators={width:[{type:e.Input,args:["abpEllipsis"]}],title:[{type:e.HostBinding,args:["title"]},{type:e.Input}],enabled:[{type:e.Input,args:["abpEllipsisEnabled"]}],inlineClass:[{type:e.HostBinding,args:["class.abp-ellipsis-inline"]}],class:[{type:e.HostBinding,args:["class.abp-ellipsis"]}],maxWidth:[{type:e.HostBinding,args:["style.max-width"]}]},t}();var ot=function(t,e,n,r){this.$implicit=t,this.index=e,this.count=n,this.list=r};var it=function(t,e){this.record=t,this.view=e};var at=function(){function t(t,e,n){this.tempRef=t,this.vcRef=e,this.differs=n}return Object.defineProperty(t.prototype,"compareFn",{get:function(){return this.compareBy||d},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackByFn",{get:function(){return this.trackBy||function(t,e){return e.id||t}},enumerable:!0,configurable:!0}),t.prototype.iterateOverAppliedOperations=function(t){var e=this,n=[];t.forEachOperation((function(t,r,o){if(null==t.previousIndex){var i=e.vcRef.createEmbeddedView(e.tempRef,new ot(null,-1,-1,e.items),o);n.push(new it(t,i))}else if(null==o)e.vcRef.remove(r);else{i=e.vcRef.get(r);e.vcRef.move(i,o),n.push(new it(t,i))}}));for(var r=0,o=n.length;r<o;r++)n[r].view.context.$implicit=n[r].record.item},t.prototype.iterateOverAttachedViews=function(t){for(var e=this,n=0,r=this.vcRef.length;n<r;n++){var o=this.vcRef.get(n);o.context.index=n,o.context.count=r,o.context.list=this.items}t.forEachIdentityChange((function(t){e.vcRef.get(t.currentIndex).context.$implicit=t.item}))},t.prototype.projectItems=function(t){if(!t.length&&this.emptyRef)return this.vcRef.clear(),this.vcRef.createEmbeddedView(this.emptyRef).rootNodes,this.isShowEmptyRef=!0,void(this.differ=null);if(this.emptyRef&&this.isShowEmptyRef&&(this.vcRef.clear(),this.isShowEmptyRef=!1),!this.differ&&t&&(this.differ=this.differs.find(t).create(this.trackByFn)),this.differ){var e=this.differ.diff(t);e&&(this.iterateOverAppliedOperations(e),this.iterateOverAttachedViews(e))}},t.prototype.sortItems=function(t){var e=this;this.orderBy?t.sort((function(t,n){return t[e.orderBy]>n[e.orderBy]?1:t[e.orderBy]<n[e.orderBy]?-1:0})):t.sort()},t.prototype.ngOnChanges=function(){var t=this,e=h(this.items);if(Array.isArray(e)){var n=this.compareFn;switch(void 0!==this.filterBy&&void 0!==this.filterVal&&""!==this.filterVal&&(e=e.filter((function(e){return n(e[t.filterBy],t.filterVal)}))),this.orderDir){case"ASC":this.sortItems(e),this.projectItems(e);break;case"DESC":this.sortItems(e),e.reverse(),this.projectItems(e);break;default:this.projectItems(e)}}},t.decorators=[{type:e.Directive,args:[{selector:"[abpFor]"}]}],t.ctorParameters=function(){return[{type:e.TemplateRef},{type:e.ViewContainerRef},{type:e.IterableDiffers}]},t.propDecorators={items:[{type:e.Input,args:["abpForOf"]}],orderBy:[{type:e.Input,args:["abpForOrderBy"]}],orderDir:[{type:e.Input,args:["abpForOrderDir"]}],filterBy:[{type:e.Input,args:["abpForFilterBy"]}],filterVal:[{type:e.Input,args:["abpForFilterVal"]}],trackBy:[{type:e.Input,args:["abpForTrackBy"]}],compareBy:[{type:e.Input,args:["abpForCompareBy"]}],emptyRef:[{type:e.Input,args:["abpForEmptyRef"]}]},t}();function ut(){return function(){}}function ct(t){return void 0===t||""===t}function st(t){return t==Number(t)}function pt(t){return t?(t^16*Math.random()>>t/4).toString(16):(""+1e7+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,pt)}function lt(t){for(var e=0,n=0;n<t.length;n++)e=(e<<5)-e+t.charCodeAt(n),e|=0;return e}var ft=new e.InjectionToken("CORE_OPTIONS");function dt(t){return function(){var e=t.get(r.Store);if(!t.get(ft).skipGetAppConfiguration)return e.dispatch(new E).pipe(u.tap((function(n){return function(t,e){var n=e.get(c.OAuthService);n.hasValidAccessToken()&&!t.selectSnapshot(W.getDeep("currentUser.id"))&&n.logOut()}(e,t)}))).toPromise()}}function ht(t){return function(){var e=t.get(r.Store).selectSnapshot((function(t){return t.SessionState.language}))||"en";return new Promise((function(t,n){yt(e).then((function(){return t("resolved")}),n)}))}}function yt(t){return import("@angular/common/locales/"+(tt[t]||t)+".js").then((function(t){s.registerLocaleData(t.default)}))}var gt=function(){function t(t,e){this.crossorigin=t,this.integrity=e}return t.prototype.setCrossOrigin=function(t){this.integrity&&t.setAttribute("integrity",this.integrity),t.setAttribute("crossorigin",this.crossorigin)},t}();var mt={Anonymous:function(t){return new gt("anonymous",t)},UseCredentials:function(t){return new gt("use-credentials",t)}},vt=function(){function t(t,e){void 0===t&&(t=document.head),void 0===e&&(e="beforeend"),this.target=t,this.position=e}return t.prototype.insertElement=function(t){this.target.insertAdjacentElement(this.position,t)},t}();var bt={AfterElement:function(t){return new vt(t,"afterend")},AppendToBody:function(){return new vt(document.body,"beforeend")},AppendToHead:function(){return new vt(document.head,"beforeend")},BeforeElement:function(t){return new vt(t,"beforebegin")},PrependToHead:function(){return new vt(document.head,"afterbegin")}};function St(t,e,n){return void 0===e&&(e=bt.AppendToHead()),void 0===n&&(n=mt.Anonymous()),n.setCrossOrigin(t),e.insertElement(t),new a.Observable((function(e){t.onload=function(n){Ct(t),e.next(n),e.complete()};var n=function(t,e){return function(n){Ct(e),e.parentNode.removeChild(e),t.error(n)}}(e,t);return t.onerror=n,t.onabort=n,t.onemptied=n,t.onstalled=n,t.onsuspend=n,function(){Ct(t),e.complete()}}))}function Ct(t){t.onload=null,t.onerror=null,t.onabort=null,t.onemptied=null,t.onstalled=null,t.onsuspend=null}function Rt(t){return function(e,n,r){if("_"===e)return n;var o=t.values[e];return o&&o[n]||r}}function At(t){var e=Ot(t);return(function(t,n,r){return e(t,n).localized||r})}function Ot(t){var e=Rt(t);return(function(n,r){for(var o=(n=n.concat(t.defaultResourceName).filter(Boolean)).length,i=r.length,a=0;a<o;a++)for(var u=n[a],c=0;c<i;c++){var s=r[c],p=e(u,s,null);if(p)return{resourceName:u,key:s,localized:p}}return{resourceName:void 0,key:void 0,localized:void 0}})}var It=function(){function t(t,n,r){this.formGroupDirective=t,this.host=n,this.cdRef=r,this.debounce=200,this.ngSubmit=new e.EventEmitter,this.executedNgSubmit=!1}return t.prototype.ngOnInit=function(){var t=this;this.formGroupDirective.ngSubmit.pipe(Z(this)).subscribe((function(){t.markAsDirty(),t.executedNgSubmit=!0})),a.fromEvent(this.host.nativeElement,"keyup").pipe(u.debounceTime(this.debounce),u.filter((function(t){return t&&"Enter"===t.key})),Z(this)).subscribe((function(){t.executedNgSubmit||t.host.nativeElement.dispatchEvent(new Event("submit",{bubbles:!0,cancelable:!0})),t.executedNgSubmit=!1}))},t.prototype.ngOnDestroy=function(){},t.prototype.markAsDirty=function(){var t=this.formGroupDirective.form;!function t(e){if(Array.isArray(e))return void e.forEach((function(e){t(e.controls)}));Object.keys(e).forEach((function(t){e[t].markAsDirty(),e[t].updateValueAndValidity()}))}(t.controls),t.markAsDirty(),this.cdRef.detectChanges()},t.decorators=[{type:e.Directive,args:[{selector:"form[ngSubmit][formGroup]"}]}],t.ctorParameters=function(){return[{type:p.FormGroupDirective,decorators:[{type:e.Self}]},{type:e.ElementRef},{type:e.ChangeDetectorRef}]},t.propDecorators={debounce:[{type:e.Input}],notValidateOnSubmit:[{type:e.Input}],ngSubmit:[{type:e.Output}]},t}();var wt=function(){function t(t){this.elRef=t,this.init=new e.EventEmitter}return t.prototype.ngAfterViewInit=function(){this.init.emit(this.elRef)},t.decorators=[{type:e.Directive,args:[{selector:"[abpInit]"}]}],t.ctorParameters=function(){return[{type:e.ElementRef}]},t.propDecorators={init:[{type:e.Output,args:["abpInit"]}]},t}();var Et=function(){function t(t,e){this.http=t,this.store=e}return t.prototype.getApiFromStore=function(t){return this.store.selectSnapshot(W.getApiUrl(t))},t.prototype.handleError=function(t){return this.store.dispatch(new k(t)),a.throwError(t)},t.prototype.request=function(t,e,n){var r=this;e=e||{},n=n||this.getApiFromStore(e.apiName);var o=t.method,i=t.params,c=v(t,["method","params"]),s=e.observe,p=void 0===s?"body":s,l=e.skipHandleError;return this.http.request(o,n+t.url,m({observe:p},i&&{params:Object.keys(i).reduce((function(t,e){var n=i[e];return ct(n)||(t[e]=n),t}),{})},c)).pipe(u.catchError((function(t){return l?a.throwError(t):r.handleError(t)})))},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:i.HttpClient},{type:r.Store}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(i.HttpClient),e.ɵɵinject(r.Store))},token:t,providedIn:"root"}),t}();var jt=function(){function t(t){this.rest=t,this.apiName="AbpIdentity"}return t.prototype.get=function(){return this.rest.request({method:"GET",url:"/api/identity/my-profile"},{apiName:this.apiName})},t.prototype.update=function(t){var e={method:"PUT",url:"/api/identity/my-profile",body:t};return this.rest.request(e,{apiName:this.apiName})},t.prototype.changePassword=function(t,e){void 0===e&&(e=!1);var n={method:"POST",url:"/api/identity/my-profile/change-password",body:t};return this.rest.request(n,{skipHandleError:e,apiName:this.apiName})},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:Et}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(Et))},token:t,providedIn:"root"}),t}();var Pt=function(){function t(t){this.profileService=t}return t.getProfile=function(t){return t.profile},t.prototype.getProfile=function(t){var e=t.patchState;return this.profileService.get().pipe(u.tap((function(t){return e({profile:t})})))},t.prototype.updateProfile=function(t,e){var n=t.patchState,r=e.payload;return this.profileService.update(r).pipe(u.tap((function(t){return n({profile:t})})))},t.prototype.changePassword=function(t,e){var n=e.payload;return this.profileService.changePassword(n,!0)},t.ctorParameters=function(){return[{type:jt}]},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:jt}]},b([r.Action(x),S("design:type",Function),S("design:paramtypes",[Object]),S("design:returntype",void 0)],t.prototype,"getProfile",null),b([r.Action(L),S("design:type",Function),S("design:paramtypes",[Object,L]),S("design:returntype",void 0)],t.prototype,"updateProfile",null),b([r.Action(N),S("design:type",Function),S("design:paramtypes",[Object,N]),S("design:returntype",void 0)],t.prototype,"changePassword",null),b([r.Selector(),S("design:type",Function),S("design:paramtypes",[Object]),S("design:returntype",Object)],t,"getProfile",null),t=b([r.State({name:"ProfileState",defaults:{}}),S("design:paramtypes",[jt])],t)}();var Tt=function(){function t(t,e,n,r,o){this.elRef=t,this.renderer=e,this.store=n,this.templateRef=r,this.vcRef=o}return t.prototype.check=function(){var t=this;this.subscription&&this.subscription.unsubscribe(),this.subscription=this.store.select(W.getGrantedPolicy(this.condition)).pipe(Z(this)).subscribe((function(e){t.templateRef&&e?(t.vcRef.clear(),t.vcRef.createEmbeddedView(t.templateRef)):t.templateRef&&!e?t.vcRef.clear():e||t.templateRef||t.renderer.removeChild(t.elRef.nativeElement.parentElement,t.elRef.nativeElement)}))},t.prototype.ngOnInit=function(){this.templateRef&&!this.condition&&this.vcRef.createEmbeddedView(this.templateRef)},t.prototype.ngOnDestroy=function(){},t.prototype.ngOnChanges=function(t){(t.condition||{currentValue:null}).currentValue&&this.check()},t.decorators=[{type:e.Directive,args:[{selector:"[abpPermission]"}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:e.Renderer2},{type:r.Store},{type:e.TemplateRef,decorators:[{type:e.Optional}]},{type:e.ViewContainerRef}]},t.propDecorators={condition:[{type:e.Input,args:["abpPermission"]}]},t}();var Dt=function(){function t(t,e,n,r,o){var i=this;this.injector=t,this.templateRef=e,this.cfRes=n,this.vcRef=r,this.store=o,this.providedData={inputs:{},outputs:{}},this.context={},this.defaultComponentSubscriptions={},this.initialized=!1,this.context={initTemplate:function(t){i.resetDefaultComponent(),i.defaultComponentRef=t,i.setDefaultComponentInputs()}}}return t.prototype.ngOnInit=function(){var t=this;this.store.select(Y.getComponent(this.data.componentKey)).pipe(u.filter((function(e){return void 0===e&&(e={}),!t.initialized||!d(e.component,t.externalComponent)})),Z(this)).subscribe((function(n){if(void 0===n&&(n={}),t.vcRef.clear(),t.externalComponent=n.component,t.defaultComponentRef&&t.resetDefaultComponent(),n.component){t.setProvidedData();var r=e.Injector.create({providers:[{provide:"REPLACEABLE_DATA",useValue:t.providedData}],parent:t.injector});t.vcRef.createComponent(t.cfRes.resolveComponentFactory(n.component),0,r)}else t.vcRef.createEmbeddedView(t.templateRef,t.context);t.initialized=!0}))},t.prototype.ngOnChanges=function(t){o((function(){return t.data.currentValue.inputs}))&&this.defaultComponentRef&&this.setDefaultComponentInputs()},t.prototype.ngOnDestroy=function(){},t.prototype.setDefaultComponentInputs=function(){var t=this;if(this.defaultComponentRef&&(this.data.inputs||this.data.outputs)){if(this.data.inputs)for(var e in this.data.inputs)this.data.inputs.hasOwnProperty(e)&&(d(this.defaultComponentRef[e],this.data.inputs[e].value)||(this.defaultComponentRef[e]=this.data.inputs[e].value));if(this.data.outputs){var n=function(e){r.data.outputs.hasOwnProperty(e)&&(r.defaultComponentSubscriptions[e]||(r.defaultComponentSubscriptions[e]=r.defaultComponentRef[e].subscribe((function(n){t.data.outputs[e](n)}))))},r=this;for(var e in this.data.outputs)n(e)}}},t.prototype.setProvidedData=function(){var t=this;this.providedData=m({},this.data,{inputs:{}}),this.data.inputs&&Object.defineProperties(this.providedData.inputs,m({},Object.keys(this.data.inputs).reduce((function(e,n){var r;return m({},e,((r={})[n]=m({enumerable:!0,configurable:!0,get:function(){return t.data.inputs[n].value}},t.data.inputs[n].twoWay&&{set:function(e){t.data.inputs[n].value=e,t.data.outputs[n+"Change"](e)}}),r))}),{})))},t.prototype.resetDefaultComponent=function(){var t=this;Object.keys(this.defaultComponentSubscriptions).forEach((function(e){t.defaultComponentSubscriptions[e].unsubscribe()})),this.defaultComponentSubscriptions={},this.defaultComponentRef=null},t.decorators=[{type:e.Directive,args:[{selector:"[abpReplaceableTemplate]"}]}],t.ctorParameters=function(){return[{type:e.Injector},{type:e.TemplateRef},{type:e.ComponentFactoryResolver},{type:e.ViewContainerRef},{type:r.Store}]},t.propDecorators={data:[{type:e.Input,args:["abpReplaceableTemplate"]}]},t}();var xt=function(){function t(t){this.el=t,this.stopPropEvent=new e.EventEmitter}return t.prototype.ngOnInit=function(){var t=this;a.fromEvent(this.el.nativeElement,"click").pipe(Z(this)).subscribe((function(e){e.stopPropagation(),t.stopPropEvent.emit(e)}))},t.prototype.ngOnDestroy=function(){},t.decorators=[{type:e.Directive,args:[{selector:"[click.stop]"}]}],t.ctorParameters=function(){return[{type:e.ElementRef}]},t.propDecorators={stopPropEvent:[{type:e.Output,args:["click.stop"]}]},t}();var Lt=function(){function t(t,e){this.elRef=t,this.renderer=e,this.completed$=new a.Subject}return t.prototype.ngAfterViewInit=function(){var t,e=this;!this.focusedElement&&this.elRef&&(this.focusedElement=this.elRef.nativeElement),(t=new MutationObserver((function(t){t.forEach((function(t){t.target&&(o((function(){return Array.from(t.target.childNodes).filter((function(t){return t instanceof HTMLElement}))}),[]).length||e.removeFromDOM())}))}))).observe(this.focusedElement,{childList:!0}),setTimeout((function(){o((function(){return Array.from(e.focusedElement.childNodes).filter((function(t){return t instanceof HTMLElement}))}),[]).length||e.removeFromDOM()}),0),this.completed$.subscribe((function(){return t.disconnect()}))},t.prototype.disconnect=function(){this.completed$.next(),this.completed$.complete()},t.prototype.removeFromDOM=function(){this.elRef.nativeElement&&(this.renderer.removeChild(this.elRef.nativeElement.parentElement,this.elRef.nativeElement),this.disconnect())},t.decorators=[{type:e.Directive,args:[{selector:"[abpVisibility]"}]}],t.ctorParameters=function(){return[{type:e.ElementRef,decorators:[{type:e.Optional}]},{type:e.Renderer2}]},t.propDecorators={focusedElement:[{type:e.Input,args:["abpVisibility"]}]},t}();var Nt=function(){function t(t,e){this.oAuthService=t,this.store=e}return t.prototype.intercept=function(t,e){var n=this;this.store.dispatch(new T(t));var r={},o=this.oAuthService.getAccessToken();!t.headers.has("Authorization")&&o&&(r.Authorization="Bearer "+o);var i=this.store.selectSnapshot($.getLanguage);!t.headers.has("Accept-Language")&&i&&(r["Accept-Language"]=i);var a=this.store.selectSnapshot($.getTenant);return!t.headers.has("__tenant")&&a&&(r.__tenant=a.id),e.handle(t.clone({setHeaders:r})).pipe(u.finalize((function(){return n.store.dispatch(new D(t))})))},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:c.OAuthService},{type:r.Store}]},t}();var _t=function(){function t(t){this.store=t}return t.prototype.transform=function(t){void 0===t&&(t="");for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.store.selectSnapshot(W.getLocalization.apply(W,O([t],e.reduce((function(t,e){return Array.isArray(e)?O(t,e):O(t,[e])}),[]))))},t.decorators=[{type:e.Injectable},{type:e.Pipe,args:[{name:"abpLocalization"}]}],t.ctorParameters=function(){return[{type:r.Store}]},t}();var kt=function(){function t(){}return t.prototype.transform=function(t){void 0===t&&(t="");for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return"string"==typeof t?t:t.defaultValue},t.decorators=[{type:e.Injectable},{type:e.Pipe,args:[{name:"abpLocalization"}]}],t}(),Ft=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{exports:[_t],declarations:[_t]}]}],t}(),zt=function(){function t(){}return t.prototype.transform=function(t,e,n){if(void 0===e&&(e="asc"),e=e&&e.toLowerCase(),!t||"asc"!==e&&"desc"!==e)return t;var r=[],o=[];n?(r=t.filter((function(t){return"number"==typeof t[n]})).sort((function(t,e){return t[n]-e[n]})),o=t.filter((function(t){return"string"==typeof t[n]})).sort((function(t,e){return t[n]<e[n]?-1:t[n]>e[n]?1:0}))):(r=t.filter((function(t){return"number"==typeof t})).sort(),o=t.filter((function(t){return"string"==typeof t})).sort());var i=O(r,o,t.filter((function(t){return"number"!=typeof(n?t[n]:t)&&"string"!=typeof(n?t[n]:t)})));return"asc"===e?i:i.reverse()},t.decorators=[{type:e.Injectable},{type:e.Pipe,args:[{name:"abpSort"}]}],t}(),Mt=new e.InjectionToken("NGXS_CONFIG_PLUGIN_OPTIONS"),Vt=function(){function t(t,e){this.options=t,this.router=e,this.initialized=!1}return t.prototype.handle=function(t,e,n){var i=r.actionMatcher(e);if((i(r.InitState)||i(r.UpdateState))&&!this.initialized){var a=function(t,e){void 0===t&&(t=[]);void 0===e&&(e=[]);var n=O(H());e=n.filter((function(t){return t.wrapper}));var r=[];return t.filter((function(t){return t.component||t.loadChildren})).forEach((function(t){var e=n.find((function(e){return e.path.toLowerCase()===t.path.toLowerCase()&&!e.wrapper})),i=r.length;e&&r.push(e),r.length===i&&(t.data||{}).routes&&r.push(m({},t.data.routes,{path:t.path,name:o((function(){return t.data.routes.name}),t.path),children:t.data.routes.children||[]}))})),{routes:qt(r),wrappers:e}}(this.router.config),u=a.routes,c=a.wrappers;u=q(u,c=function(t){void 0===t&&(t=[]);var e=new Set;return t.filter((function(t){return!e.has(t.name)&&(e.add(t.name),!0)}))}(c));var s=function(t){var e=function(t){return t.reduce((function(t,n){var r=[n];return n.children&&(n.children=n.children.map((function(t){return m({},t,{parentName:n.name})})),r=O([n],e(n.children))),O(t,r)}),[])};return e(t)}(h(u));t=r.setValue(t,"ConfigState",m({},t.ConfigState&&m({},t.ConfigState),this.options,{routes:u,flattedRoutes:s})),this.initialized=!0}return n(t,e)},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[Mt]}]},{type:n.Router}]},t}();function qt(t,e){return e?t.map((function(t){return m({},t,{url:e+"/"+t.path},t.children&&t.children.length&&{children:qt(t.children,e+"/"+t.path)})})):t.map((function(t){return m({},t,{url:"/"+t.path},t.children&&t.children.length&&{children:qt(t.children,"/"+t.path)})}))}var Bt=function(){function t(t,e,n,r,o){if(this.actions=t,this.store=e,this.injector=n,this.ngZone=r,o)throw new Error("LocalizationService should have only one instance.");this.listenToSetLanguage()}return Object.defineProperty(t.prototype,"currentLang",{get:function(){return this.store.selectSnapshot((function(t){return t.SessionState.language}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"languageChange",{get:function(){return this.actions.pipe(r.ofActionSuccessful(F))},enumerable:!0,configurable:!0}),t.prototype.listenToSetLanguage=function(){var t=this;this.languageChange.subscribe((function(e){var n=e.payload;return t.registerLocale(n)}))},t.prototype.registerLocale=function(t){var e=this,r=this.injector.get(n.Router),o=r.routeReuseStrategy.shouldReuseRoute;return r.routeReuseStrategy.shouldReuseRoute=function(){return!1},r.navigated=!1,yt(t).then((function(){e.ngZone.run((function(){return C(e,void 0,void 0,(function(){return R(this,(function(t){switch(t.label){case 0:return[4,r.navigateByUrl(r.url).catch(a.noop)];case 1:return t.sent(),r.routeReuseStrategy.shouldReuseRoute=o,[2]}}))}))}))}))},t.prototype.get=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.store.select(W.getLocalization.apply(W,O([t],e)))},t.prototype.instant=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.store.selectSnapshot(W.getLocalization.apply(W,O([t],e)))},t.prototype.localize=function(t,e,n){return this.store.select(W.getOne("localization")).pipe(u.map(Rt),u.map((function(r){return r(t,e,n)})))},t.prototype.localizeSync=function(t,e,n){return Rt(this.store.selectSnapshot(W.getOne("localization")))(t,e,n)},t.prototype.localizeWithFallback=function(t,e,n){return this.store.select(W.getOne("localization")).pipe(u.map(At),u.map((function(r){return r(t,e,n)})))},t.prototype.localizeWithFallbackSync=function(t,e,n){return At(this.store.selectSnapshot(W.getOne("localization")))(t,e,n)},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:r.Actions},{type:r.Store},{type:e.Injector},{type:e.NgZone},{type:t,decorators:[{type:e.Optional},{type:e.SkipSelf}]}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(r.Actions),e.ɵɵinject(r.Store),e.ɵɵinject(e.INJECTOR),e.ɵɵinject(e.NgZone),e.ɵɵinject(t,12))},token:t,providedIn:"root"}),t}();var Ut=function(t){function e(e){var n=t.call(this)||this;return n.localizationService=e,n}return g(e,t),e.prototype.toString=function(){var t=this.localizationService.currentLang;return tt[t]||t},e.prototype.valueOf=function(){return this.toString()},e}(String);var Gt={provide:e.LOCALE_ID,useClass:Ut,deps:[Bt]};function Ht(){return localStorage}Date.prototype.toLocalISOString=function(){var t=this.getTimezoneOffset();return new Date(this.getTime()-6e4*t).toISOString()};var $t=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{exports:[s.CommonModule,i.HttpClientModule,p.FormsModule,p.ReactiveFormsModule,n.RouterModule,I,et,J,rt,at,It,wt,nt,Tt,Q,Dt,X,zt,xt,Lt],imports:[c.OAuthModule,s.CommonModule,i.HttpClientModule,p.FormsModule,p.ReactiveFormsModule,n.RouterModule],declarations:[I,et,J,rt,at,It,wt,nt,Tt,Q,Dt,X,zt,xt,Lt],entryComponents:[X,J,Q]}]}],t}(),Wt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{exports:[$t,Ft],imports:[$t,Ft,r.NgxsModule.forFeature([Y,Pt,$,W]),l.NgxsRouterPluginModule.forRoot(),f.NgxsStoragePluginModule.forRoot({key:["SessionState"]})]}]}],t}(),Yt=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{exports:[n.RouterModule,$t,kt],imports:[n.RouterModule.forRoot([]),$t],declarations:[kt]}]}],t}(),Kt=function(){function t(){}return t.forTest=function(t){var e=(void 0===t?{}:t).baseHref,n=void 0===e?"/":e;return{ngModule:Yt,providers:[{provide:s.APP_BASE_HREF,useValue:n},{provide:_t,useClass:kt}]}},t.forRoot=function(t){return void 0===t&&(t={}),{ngModule:Wt,providers:O([Gt,{provide:r.NGXS_PLUGINS,useClass:Vt,multi:!0},{provide:Mt,useValue:{environment:t.environment}},{provide:ft,useValue:t},{provide:i.HTTP_INTERCEPTORS,useClass:Nt,multi:!0},{provide:e.APP_INITIALIZER,multi:!0,deps:[e.Injector],useFactory:dt},{provide:e.APP_INITIALIZER,multi:!0,deps:[e.Injector],useFactory:ht},{provide:e.APP_INITIALIZER,multi:!0,deps:[Bt],useFactory:ut}],c.OAuthModule.forRoot().providers,[{provide:c.OAuthStorage,useFactory:Ht}])}},t.decorators=[{type:e.NgModule,args:[{exports:[$t,Ft],imports:[$t,Ft],providers:[_t]}]}],t}(),Zt=function(){function t(t,e){this.oauthService=t,this.injector=e}return t.prototype.canActivate=function(t,e){var r=this.injector.get(n.Router),o=this.oauthService.hasValidAccessToken();return o||(r.navigate(["/account/login"],{state:{redirectUrl:e.url}}),!0)},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:c.OAuthService},{type:e.Injector}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(c.OAuthService),e.ɵɵinject(e.INJECTOR))},token:t,providedIn:"root"}),t}();var Jt,Qt,Xt,te=function(){function t(t){this.store=t}return t.prototype.canActivate=function(t,e){var n=this,r=o((function(){return t.data.routes.requiredPolicy}))||o((function(){return t.data.requiredPolicy}));return r||(r=o((function(){return t.routeConfig.children.find((function(t){return e.url.indexOf(t.path)>-1})).data.requiredPolicy})))?this.store.select(W.getGrantedPolicy(r)).pipe(u.tap((function(t){t||n.store.dispatch(new k({status:403}))}))):a.of(!0)},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:r.Store}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(r.Store))},token:t,providedIn:"root"}),t}();(function(t){function e(){}function n(){}function r(){}function o(){}function i(){}function a(){}function u(){}function c(){}t.Response=e,t.Localization=n,t.LocalizationValue=function(){},t.Language=r,t.CurrentCulture=o,t.DateTimeFormat=i,t.Auth=a,t.Policy=function(){},t.Value=u,t.CurrentUser=c})(Jt||(Jt={})),function(t){function e(){}function n(){}function r(){}function o(){}function i(){}function a(){}function u(){}function c(){}t.Root=e,t.Test=n,t.PagedItemsResponse=r,t.PageQueryParams=o,t.Route=i,t.FullRoute=a,t.BasicItem=u,t.Option=c,t.Dictionary=function(){}}(Qt||(Qt={})),function(t){function e(){}function n(){}function r(){}function o(){}function i(){}function a(){}t.Environment=e,t.Application=n,t.ApiConfig=r,t.Apis=o,t.Requirements=i,t.LocalizationWithDefault=a}(Xt||(Xt={}));var ee=function(t){for(var e in void 0===t&&(t={}),t)t.hasOwnProperty(e)&&(this[e]=t[e])};var ne=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return g(e,t),e}(ee);var re=function(t){for(var e in void 0===t&&(t={}),this.maxResultCount=10,t)t.hasOwnProperty(e)&&(this[e]=t[e])};var oe=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return g(e,t),e}(re);var ie=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return g(e,t),e}(oe);var ae=function(t){for(var e in void 0===t&&(t={}),t)t.hasOwnProperty(e)&&(this[e]=t[e])};var ue=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return g(e,t),e}(ae);var ce=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return g(e,t),e}(ue);var se=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return g(e,t),e}(ue);var pe=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return g(e,t),e}(se);var le=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return g(e,t),e}(se);var fe=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return g(e,t),e}(le);var de=function(t){for(var e in void 0===t&&(t={}),t)t.hasOwnProperty(e)&&(this[e]=t[e])};var he=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return g(e,t),e}(de);var ye=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return g(e,t),e}(he);var ge=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return g(e,t),e}(ye);var me=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return g(e,t),e}(ge);var ve=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return g(e,t),e}(ye);var be=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return g(e,t),e}(ge);var Se,Ce,Re,Ae=function(t){function e(e){return void 0===e&&(e={}),t.call(this,e)||this}return g(e,t),e}(be);(function(t){function e(){}function n(){}function r(){}t.State=e,t.Response=n,t.ChangePasswordRequest=r})(Se||(Se={})),function(t){function e(){}function n(){}function r(){}function o(){}function i(){}t.State=e,t.ReplaceableComponent=n,t.ReplaceableTemplateDirectiveInput=r,t.ReplaceableTemplateData=o,t.RouteData=i}(Ce||(Ce={})),function(t){function e(){}t.Request=e}(t.Rest||(t.Rest={})),function(t){function e(){}function n(){}t.State=e,t.SessionDetail=n}(Re||(Re={}));var Oe=function(){function t(t,e){this.rest=t,this.store=e}return Object.defineProperty(t.prototype,"apiName",{get:function(){return this.store.selectSnapshot(W.getDeep("environment.application.name"))},enumerable:!0,configurable:!0}),t.prototype.getConfiguration=function(){return this.rest.request({method:"GET",url:"/api/abp/application-configuration"},{apiName:this.apiName})},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:Et},{type:r.Store}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(Et),e.ɵɵinject(r.Store))},token:t,providedIn:"root"}),t}();var Ie=function(){function t(t,e,n,r){this.rest=t,this.oAuthService=e,this.store=n,this.options=r}return t.prototype.login=function(t,e){var n=this,r=this.store.selectSnapshot($.getTenant);return this.oAuthService.configure(this.store.selectSnapshot(W.getOne("environment")).oAuthConfig),a.from(this.oAuthService.loadDiscoveryDocument()).pipe(u.switchMap((function(){return a.from(n.oAuthService.fetchTokenUsingPasswordFlow(t,e,new i.HttpHeaders(m({},r&&r.id&&{__tenant:r.id}))))})),u.switchMap((function(){return n.store.dispatch(new E)})),u.tap((function(){var t=o((function(){return window.history.state.redirectUrl}))||(n.options||{}).redirectUrl||"/";n.store.dispatch(new l.Navigate([t]))})),u.take(1))},t.prototype.logout=function(){var t=this,e=this.store.selectSnapshot(W.getDeep("environment.oAuthConfig.issuer"));return this.rest.request({method:"GET",url:"/api/account/logout"},null,e).pipe(u.switchMap((function(){return t.oAuthService.logOut(),t.store.dispatch(new E)})))},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:Et},{type:c.OAuthService},{type:r.Store},{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:["ACCOUNT_OPTIONS"]}]}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(Et),e.ɵɵinject(c.OAuthService),e.ɵɵinject(r.Store),e.ɵɵinject("ACCOUNT_OPTIONS",8))},token:t,providedIn:"root"}),t}();var we=function(){function t(t){this.store=t}return t.prototype.getAll=function(){return this.store.selectSnapshot(W.getAll)},t.prototype.getApplicationInfo=function(){return this.store.selectSnapshot(W.getApplicationInfo)},t.prototype.getOne=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.selectSnapshot(W.getOne.apply(W,O(t)))},t.prototype.getDeep=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.selectSnapshot(W.getDeep.apply(W,O(t)))},t.prototype.getRoute=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.selectSnapshot(W.getRoute.apply(W,O(t)))},t.prototype.getApiUrl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.selectSnapshot(W.getApiUrl.apply(W,O(t)))},t.prototype.getSetting=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.selectSnapshot(W.getSetting.apply(W,O(t)))},t.prototype.getSettings=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.selectSnapshot(W.getSettings.apply(W,O(t)))},t.prototype.getGrantedPolicy=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.selectSnapshot(W.getGrantedPolicy.apply(W,O(t)))},t.prototype.getLocalization=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.selectSnapshot(W.getLocalization.apply(W,O(t)))},t.prototype.dispatchGetAppConfiguration=function(){return this.store.dispatch(new E)},t.prototype.dispatchPatchRouteByName=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.dispatch(new(w.bind.apply(w,O([void 0],t))))},t.prototype.dispatchAddRoute=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.dispatch(new(j.bind.apply(j,O([void 0],t))))},t.prototype.dispatchSetEnvironment=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.dispatch(new(P.bind.apply(P,O([void 0],t))))},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:r.Store}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(r.Store))},token:t,providedIn:"root"}),t}();var Ee=function(){function t(t){this.injector=t}return t.prototype.projectContent=function(t,e){return void 0===e&&(e=this.injector),t.injectContent(e)},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:e.Injector}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(e.INJECTOR))},token:t,providedIn:"root"}),t}();var je=function(){function t(){this.inserted=new Set}return t.prototype.insertContent=function(t){var e=lt(t.content);if(!this.inserted.has(e)){var n=t.insertElement();return this.inserted.add(e),n}},t.prototype.removeContent=function(t){var e=lt(t.textContent);this.inserted.delete(e),t.parentNode.removeChild(t)},t.prototype.has=function(t){var e=lt(t);return this.inserted.has(e)},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}();var Pe=function(){function t(t){this.containerRef=t}return t.prototype.prepare=function(){},t}();var Te=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.getIndex=function(){return 0},e.prototype.prepare=function(){this.containerRef.clear()},e}(Pe),De=function(t){function e(e,n){var r=t.call(this,e)||this;return r.index=n,r}return g(e,t),e.prototype.getIndex=function(){return Math.min(Math.max(0,this.index),this.containerRef.length)},e}(Pe);var xe={Clear:function(t){return new Te(t)},Append:function(t){return new De(t,t.length)},Prepend:function(t){return new De(t,0)},Insert:function(t,e){return new De(t,e)}},Le=function(t){this.nonce=t};var Ne=function(t){function e(e){return t.call(this,e)||this}return g(e,t),e.prototype.applyCSP=function(t){t.setAttribute("nonce",this.nonce)},e}(Le),_e=function(t){function e(){return t.call(this)||this}return g(e,t),e.prototype.applyCSP=function(t){},e}(Le),ke={Loose:function(t){return new Ne(t)},None:function(){return new _e}},Fe=function(){function t(t,e,n){void 0===e&&(e=bt.AppendToHead()),void 0===n&&(n=ke.None()),this.content=t,this.domStrategy=e,this.contentSecurityStrategy=n}return t.prototype.insertElement=function(){var t=this.createElement();return this.contentSecurityStrategy.applyCSP(t),this.domStrategy.insertElement(t),t},t}();var ze=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.createElement=function(){var t=document.createElement("style");return t.textContent=this.content,t},e}(Fe),Me=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.createElement=function(){var t=document.createElement("script");return t.textContent=this.content,t},e}(Fe),Ve={AppendScriptToBody:function(t){return new Me(t,bt.AppendToBody())},AppendScriptToHead:function(t){return new Me(t,bt.AppendToHead())},AppendStyleToHead:function(t){return new ze(t,bt.AppendToHead())},PrependStyleToHead:function(t){return new ze(t,bt.PrependToHead())}},qe=function(){function t(t){this.context=t}return t.prototype.setContext=function(t){return this.context},t}();var Be=function(t){function e(){return t.call(this,void 0)||this}return g(e,t),e}(qe),Ue=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.setContext=function(t){var e=this;return Object.keys(this.context).forEach((function(n){return t.instance[n]=e.context[n]})),t.changeDetectorRef.detectChanges(),this.context},e}(qe),Ge=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return g(e,t),e.prototype.setContext=function(){return this.context},e}(qe),He={None:function(){return new Be},Component:function(t){return new Ue(t)},Template:function(t){return new Ge(t)}},$e=function(){function t(t,e,n){void 0===e&&(e=bt.AppendToHead()),void 0===n&&(n=mt.Anonymous()),this.path=t,this.domStrategy=e,this.crossOriginStrategy=n}return t.prototype.createStream=function(){var t=this;return a.of(null).pipe(u.switchMap((function(){return St(t.createElement(),t.domStrategy,t.crossOriginStrategy)})))},t}();var We=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return g(e,t),e.prototype.createElement=function(){var t=document.createElement("script");return t.src=this.path,t},e}($e),Ye=function(t){function e(e,n,r){return t.call(this,e,n,r)||this}return g(e,t),e.prototype.createElement=function(){var t=document.createElement("link");return t.rel="stylesheet",t.href=this.path,t},e}($e),Ke={AppendAnonymousScriptToBody:function(t,e){return new We(t,bt.AppendToBody(),mt.Anonymous(e))},AppendAnonymousScriptToHead:function(t,e){return new We(t,bt.AppendToHead(),mt.Anonymous(e))},AppendAnonymousStyleToHead:function(t,e){return new Ye(t,bt.AppendToHead(),mt.Anonymous(e))},PrependAnonymousScriptToHead:function(t,e){return new We(t,bt.PrependToHead(),mt.Anonymous(e))},PrependAnonymousStyleToHead:function(t,e){return new Ye(t,bt.PrependToHead(),mt.Anonymous(e))}},Ze=function(t){this.content=t};var Je=function(t){function n(e,n,r){void 0===r&&(r=He.None());var o=t.call(this,e)||this;return o.containerStrategy=n,o.contextStrategy=r,o}return g(n,t),n.prototype.injectContent=function(t){this.containerStrategy.prepare();var n=t.get(e.ComponentFactoryResolver).resolveComponentFactory(this.content),r=this.containerStrategy.containerRef.createComponent(n,this.containerStrategy.getIndex(),t);return this.contextStrategy.setContext(r),r},n}(Ze);var Qe=function(t){function n(e,n,r){void 0===n&&(n=He.None()),void 0===r&&(r=bt.AppendToBody());var o=t.call(this,e)||this;return o.contextStrategy=n,o.domStrategy=r,o}return g(n,t),n.prototype.injectContent=function(t){var n=t.get(e.ApplicationRef),r=t.get(e.ComponentFactoryResolver).resolveComponentFactory(this.content).create(t);this.contextStrategy.setContext(r),n.attachView(r.hostView);var o=r.hostView.rootNodes[0];return this.domStrategy.insertElement(o),r},n}(Ze);var Xe=function(t){function e(e,n,r){void 0===r&&(r=He.None());var o=t.call(this,e)||this;return o.containerStrategy=n,o.contextStrategy=r,o}return g(e,t),e.prototype.injectContent=function(){this.containerStrategy.prepare();var t=this.containerStrategy.containerRef.createEmbeddedView(this.content,this.contextStrategy.context,this.containerStrategy.getIndex());return t.detectChanges(),t},e}(Ze);var tn={AppendComponentToBody:function(t,e){return new Qe(t,e&&He.Component(e))},AppendComponentToContainer:function(t,e,n){return new Je(t,xe.Append(e),n&&He.Component(n))},AppendTemplateToContainer:function(t,e,n){return new Xe(t,xe.Append(e),n&&He.Template(n))},PrependComponentToContainer:function(t,e,n){return new Je(t,xe.Prepend(e),n&&He.Component(n))},PrependTemplateToContainer:function(t,e,n){return new Xe(t,xe.Prepend(e),n&&He.Template(n))},ProjectComponentToContainer:function(t,e,n){return new Je(t,xe.Clear(e),n&&He.Component(n))},ProjectTemplateToContainer:function(t,e,n){return new Xe(t,xe.Clear(e),n&&He.Template(n))}},en=function(){function t(){this.loaded=new Set,this.loadedLibraries={}}return t.prototype.load=function(t,e,n,r,o){var i=this;if(void 0===r&&(r="body"),void 0===o&&(o="beforeend"),t instanceof $e){var c=t,s="number"==typeof e?e:2,p="number"==typeof n?n:1e3;return this.loaded.has(c.path)?a.of(new CustomEvent("load")):c.createStream().pipe(u.retryWhen((function(t){return a.concat(t.pipe(u.delay(p),u.take(s)),a.throwError(new CustomEvent("error")))})),u.tap((function(){return i.loaded.add(c.path)})),u.delay(100),u.shareReplay({bufferSize:1,refCount:!0}))}var l=t,f=n||"",d=e;return l||f?(!l&&f&&(l=[null]),Array.isArray(l)||(l=[l]),new a.Observable((function(t){l.forEach((function(e,n){var u,c=e?e.slice(e.lastIndexOf("/")+1):pt();if(i.loadedLibraries[c])return t.next(),void t.complete();i.loadedLibraries[c]=new a.ReplaySubject,"script"===d?((u=document.createElement("script")).type="text/javascript",e&&(u.src=e),u.text=f):e?((u=document.createElement("link")).type="text/css",u.rel="stylesheet",e&&(u.href=e)):(u=document.createElement("style")).textContent=f,u.onload=function(){i.loadedLibraries[c].next(),i.loadedLibraries[c].complete(),n===l.length-1&&(t.next(),t.complete())},document.querySelector(r).insertAdjacentElement(o,u)}))}))):a.throwError("Should pass url or content")},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}();var nn=new e.InjectionToken("LIST_QUERY_DEBOUNCE_TIME"),rn=function(){function t(t){var e=this;this.delay=t,this._filter="",this._maxResultCount=10,this._page=1,this._sortKey="",this._sortOrder="",this._query$=new a.ReplaySubject(1),this._isLoading$=new a.BehaviorSubject(!1),this.get=function(){e._query$.next({filter:e._filter||void 0,maxResultCount:e._maxResultCount,skipCount:(e._page-1)*e._maxResultCount,sorting:e._sortOrder?e._sortKey+" "+e._sortOrder:void 0})},this.get()}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filter},set:function(t){this._filter=t,this.get()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxResultCount",{get:function(){return this._maxResultCount},set:function(t){this._maxResultCount=t,this.get()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){return this._page},set:function(t){this._page=t,this.get()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortKey",{get:function(){return this._sortKey},set:function(t){this._sortKey=t,this.get()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sortOrder",{get:function(){return this._sortOrder},set:function(t){this._sortOrder=t,this.get()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"query$",{get:function(){return this._query$.asObservable().pipe(u.debounceTime(this.delay||300),u.shareReplay({bufferSize:1,refCount:!0}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLoading$",{get:function(){return this._isLoading$.asObservable()},enumerable:!0,configurable:!0}),t.prototype.hookToQuery=function(t){var e=this;return this._isLoading$.next(!0),this.query$.pipe(u.switchMap(t),u.tap((function(){return e._isLoading$.next(!1)})),u.shareReplay({bufferSize:1,refCount:!0}),Z(this))},t.prototype.ngOnDestroy=function(){},t.decorators=[{type:e.Injectable}],t.ctorParameters=function(){return[{type:Number,decorators:[{type:e.Optional},{type:e.Inject,args:[nn]}]}]},t}();var on=function(){function t(t){this.store=t}return t.prototype.getProfile=function(){return this.store.selectSnapshot(Pt.getProfile)},t.prototype.dispatchGetProfile=function(){return this.store.dispatch(new x)},t.prototype.dispatchUpdateProfile=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.dispatch(new(L.bind.apply(L,O([void 0],t))))},t.prototype.dispatchChangePassword=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.dispatch(new(N.bind.apply(N,O([void 0],t))))},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:r.Store}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(r.Store))},token:t,providedIn:"root"}),t}();var an=function(){function t(t){this.store=t}return t.prototype.getLanguage=function(){return this.store.selectSnapshot($.getLanguage)},t.prototype.getTenant=function(){return this.store.selectSnapshot($.getTenant)},t.prototype.getSessionDetail=function(){return this.store.selectSnapshot($.getSessionDetail)},t.prototype.dispatchSetLanguage=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.dispatch(new(F.bind.apply(F,O([void 0],t))))},t.prototype.dispatchSetTenant=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.dispatch(new(z.bind.apply(z,O([void 0],t))))},t.prototype.dispatchSetRemember=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.dispatch(new(V.bind.apply(V,O([void 0],t))))},t.prototype.dispatchModifyOpenedTabCount=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this.store.dispatch(new(M.bind.apply(M,O([void 0],t))))},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:r.Store}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(r.Store))},token:t,providedIn:"root"}),t}();var un=function(t){return function(e,n){return n[t]}},cn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(function(e,n){return t.reduce((function(t,e){return t[e]}),n)})},sn=function(){function t(){this.by=un,this.byDeep=cn}return t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t},token:t,providedIn:"root"}),t}();function pn(){return function(t){return t.pristine?null:["",null,void 0].indexOf(t.value)>-1?null:function(t){if(t=t.replace(/[ -]/g,""),!/^[0-9]{13,19}$/.test(t))return!1;for(var e=0,n=1,r=t.length;r>0;r--){var o=Number(t[r-1])*n;e+=o%10+~~(o/10),n=2*n%3}return e%10==0}(String(t.value))?null:{creditCard:!0}}}function ln(t){var e=void 0===t?{}:t,n=e.maximum,r=void 0===n?1/0:n,o=e.minimum,i=void 0===o?0:o;return(function(t){if(t.pristine)return null;if(["",null,void 0].indexOf(t.value)>-1)return null;var e=Number(t.value);return function(t,e,n){return t<e?{range:{min:e,max:n}}:null}(e,i,r)||function(t,e,n){return t>e?{range:{max:e,min:n}}:null}(e,r,i)})}function fn(t){var e=(void 0===t?{}:t).allowEmptyStrings;return(function(t){return t.pristine||function(t,e){return!(!t&&0!==t&&!1!==t)||!(!e||""!==t)}(t.value,e)?null:{required:!0}})}function dn(t){var e=void 0===t?{}:t,n=e.maximumLength,r=void 0===n?1/0:n,o=e.minimumLength,i=void 0===o?0:o;return(function(t){if(t.pristine)return null;if(["",null,void 0].indexOf(t.value)>-1)return null;var e=String(t.value);return function(t,e){return t.length<e?{minlength:{requiredLength:e}}:null}(e,i)||function(t,e){return t.length>e?{maxlength:{requiredLength:e}}:null}(e,r)})}function hn(){return function(t){return t.pristine?null:["",null,void 0].indexOf(t.value)>-1?null:function(t){if(/^http(s)?:\/\/[^/]/.test(t)||/^ftp:\/\/[^/]/.test(t)){var e=document.createElement("a");return e.href=t,!!e.host}return!1}(t.value)?null:{url:!0}}}var yn={creditCard:pn,emailAddress:function(){return p.Validators.email},range:ln,required:fn,stringLength:dn,url:hn};t.AbpValidators=yn,t.AbstractNgModelComponent=I,t.AddReplaceableComponent=_,t.AddRoute=j,t.ApiInterceptor=Nt,t.ApplicationConfigurationService=Oe,t.AuditedEntityDto=se,t.AuditedEntityWithUserDto=pe,t.AuthGuard=Zt,t.AuthService=Ie,t.AutofocusDirective=et,t.CONTAINER_STRATEGY=xe,t.CONTENT_SECURITY_STRATEGY=ke,t.CONTENT_STRATEGY=Ve,t.CONTEXT_STRATEGY=He,t.CORE_OPTIONS=ft,t.CROSS_ORIGIN_STRATEGY=mt,t.ChangePassword=N,t.ClearContainerStrategy=Te,t.ComponentContextStrategy=Ue,t.ComponentProjectionStrategy=Je,t.ConfigPlugin=Vt,t.ConfigState=W,t.ConfigStateService=we,t.ContainerStrategy=Pe,t.ContentProjectionService=Ee,t.ContentSecurityStrategy=Le,t.ContentStrategy=Fe,t.ContextStrategy=qe,t.CoreModule=Kt,t.CreationAuditedEntityDto=ue,t.CreationAuditedEntityWithUserDto=ce,t.CrossOriginStrategy=gt,t.DOM_STRATEGY=bt,t.DomInsertionService=je,t.DomStrategy=vt,t.DynamicLayoutComponent=J,t.EllipsisDirective=rt,t.EntityDto=ae,t.ExtensibleAuditedEntityDto=ge,t.ExtensibleAuditedEntityWithUserDto=me,t.ExtensibleCreationAuditedEntityDto=ye,t.ExtensibleCreationAuditedEntityWithUserDto=ve,t.ExtensibleEntityDto=he,t.ExtensibleFullAuditedEntityDto=be,t.ExtensibleFullAuditedEntityWithUserDto=Ae,t.ExtensibleObject=de,t.ForDirective=at,t.FormSubmitDirective=It,t.FullAuditedEntityDto=le,t.FullAuditedEntityWithUserDto=fe,t.GetAppConfiguration=E,t.GetProfile=x,t.InitDirective=wt,t.InsertIntoContainerStrategy=De,t.LIST_QUERY_DEBOUNCE_TIME=nn,t.LOADING_STRATEGY=Ke,t.LazyLoadService=en,t.LimitedResultRequestDto=re,t.ListResultDto=ee,t.ListService=rn,t.LoadingStrategy=$e,t.LocalizationPipe=_t,t.LocalizationService=Bt,t.LooseContentSecurityStrategy=Ne,t.MockLocalizationPipe=kt,t.ModifyOpenedTabCount=M,t.NGXS_CONFIG_PLUGIN_OPTIONS=Mt,t.NoContentSecurityStrategy=_e,t.NoContextStrategy=Be,t.PROJECTION_STRATEGY=tn,t.PagedAndSortedResultRequestDto=ie,t.PagedResultDto=ne,t.PagedResultRequestDto=oe,t.PatchRouteByName=w,t.PermissionDirective=Tt,t.PermissionGuard=te,t.ProfileService=jt,t.ProfileState=Pt,t.ProfileStateService=on,t.ProjectionStrategy=Ze,t.ReplaceableComponentsState=Y,t.ReplaceableRouteContainerComponent=Q,t.ReplaceableTemplateDirective=Dt,t.RestOccurError=k,t.RestService=Et,t.RootComponentProjectionStrategy=Qe,t.RouterOutletComponent=X,t.ScriptContentStrategy=Me,t.ScriptLoadingStrategy=We,t.SessionState=$,t.SessionStateService=an,t.SetEnvironment=P,t.SetLanguage=F,t.SetRemember=V,t.SetTenant=z,t.SortPipe=zt,t.StartLoader=T,t.StopLoader=D,t.StyleContentStrategy=ze,t.StyleLoadingStrategy=Ye,t.TemplateContextStrategy=Ge,t.TemplateProjectionStrategy=Xe,t.TrackByService=sn,t.UpdateProfile=L,t.VisibilityDirective=Lt,t.addAbpRoutes=function(t){Array.isArray(t)||(t=[t]),G.push.apply(G,O(t))},t.createLocalizationPipeKeyGenerator=function(t){var e=Ot(t);return(function(t,n,r){var o=e(t,n),i=o.resourceName,a=o.key;return i?"_"===i?a:i+"::"+a:r})},t.createLocalizer=Rt,t.createLocalizerWithFallback=At,t.fromLazyLoad=St,t.generateHash=lt,t.generatePassword=function(t){void 0===t&&(t=8),t=Math.min(Math.max(4,t),128);var e="abcdefghijklmnopqrstuvwxyz",n="ABCDEFGHIJKLMNOPQRSTUVWXYZ",r=function(t){return t[Math.floor(Math.random()*t.length)]},o=Array({length:t});o[0]=r(e),o[1]=r(n),o[2]=r("0123456789"),o[3]=r("!@#$%&*()_+{}<>?[]./");for(var i=4;i<t;i++)o[i]=r("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%&*()_+{}<>?[]./");return o.sort((function(){return.5-Math.random()})).join("")},t.getAbpRoutes=H,t.getInitialData=dt,t.isNumber=st,t.isUndefinedOrEmptyString=ct,t.localeInitializer=ht,t.mapEnumToOptions=function(t){var e=[];for(var n in t)st(n)||e.push({key:n,value:t[n]});return e},t.noop=ut,t.organizeRoutes=q,t.registerLocale=yt,t.setChildRoute=B,t.sortRoutes=U,t.takeUntilDestroy=Z,t.trackBy=un,t.trackByDeep=cn,t.uuid=pt,t.validateCreditCard=pn,t.validateRange=ln,t.validateRequired=fn,t.validateStringLength=dn,t.validateUrl=hn,t.ɵa=Ht,t.ɵb=$t,t.ɵba=jt,t.ɵbb=Et,t.ɵbc=x,t.ɵbd=L,t.ɵbe=N,t.ɵbg=$,t.ɵbh=F,t.ɵbi=z,t.ɵbj=M,t.ɵbk=V,t.ɵbm=W,t.ɵbn=w,t.ɵbo=E,t.ɵbp=j,t.ɵbq=P,t.ɵbs=Ut,t.ɵbt=Gt,t.ɵbu=Bt,t.ɵbv=Mt,t.ɵbw=Vt,t.ɵby=ft,t.ɵbz=Nt,t.ɵc=Wt,t.ɵca=dt,t.ɵcb=ht,t.ɵcc=ut,t.ɵd=Yt,t.ɵe=I,t.ɵf=et,t.ɵg=J,t.ɵh=rt,t.ɵi=at,t.ɵj=It,t.ɵk=wt,t.ɵl=nt,t.ɵm=Tt,t.ɵn=Q,t.ɵo=Dt,t.ɵp=X,t.ɵq=zt,t.ɵr=xt,t.ɵs=Lt,t.ɵt=Ft,t.ɵu=_t,t.ɵv=kt,t.ɵw=Y,t.ɵx=_,t.ɵz=Pt,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=abp-ng.core.umd.min.js.map