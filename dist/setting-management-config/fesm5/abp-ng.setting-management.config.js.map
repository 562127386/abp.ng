{"version":3,"file":"abp-ng.setting-management.config.js","sources":["ng://@abp/ng.setting-management.config/lib/services/setting-management-config.service.ts","ng://@abp/ng.setting-management.config/lib/setting-management-config.module.ts"],"sourcesContent":["import { Injectable, Injector } from '@angular/core';\r\nimport { addAbpRoutes, eLayoutType, PatchRouteByName, ABP } from '@abp/ng.core';\r\nimport { getSettingTabs } from '@abp/ng.theme.shared';\r\nimport { Store } from '@ngxs/store';\r\nimport { eSettingManagementRouteNames } from '@abp/ng.setting-management';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class SettingManagementConfigService {\r\n  get store(): Store {\r\n    return this.injector.get(Store);\r\n  }\r\n\r\n  constructor(private injector: Injector) {\r\n    const route = {\r\n      name: eSettingManagementRouteNames.Settings,\r\n      path: 'setting-management',\r\n      parentName: 'AbpUiNavigation::Menu:Administration',\r\n      requiredPolicy: 'AbpAccount.SettingManagement',\r\n      layout: eLayoutType.application,\r\n      order: 6,\r\n      iconClass: 'fa fa-cog',\r\n    } as ABP.FullRoute;\r\n\r\n    addAbpRoutes(route);\r\n\r\n    setTimeout(() => {\r\n      const tabs = getSettingTabs();\r\n      if (!tabs || !tabs.length) {\r\n        this.store.dispatch(\r\n          new PatchRouteByName('AbpSettingManagement::Settings', { ...route, invisible: true }),\r\n        );\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { NgModule, APP_INITIALIZER } from '@angular/core';\r\nimport { SettingManagementConfigService } from './services/setting-management-config.service';\r\nimport { noop } from '@abp/ng.core';\r\n\r\n@NgModule({\r\n  providers: [{ provide: APP_INITIALIZER, deps: [SettingManagementConfigService], useFactory: noop, multi: true }],\r\n})\r\nexport class SettingManagementConfigModule {}\r\n"],"names":[],"mappings":";;;;;;;;;;;;IAcE,wCAAoB,QAAkB;QAAtC,iBAqBC;QArBmB,aAAQ,GAAR,QAAQ,CAAU;;YAC9B,KAAK,sBAAG;YACZ,IAAI;YACJ,IAAI,EAAE,oBAAoB;YAC1B,UAAU,EAAE,sCAAsC;YAClD,cAAc,EAAE,8BAA8B;YAC9C,MAAM;YACN,KAAK,EAAE,CAAC;YACR,SAAS,EAAE,WAAW;SACvB,EAAiB;QAElB,YAAY,CAAC,KAAK,CAAC,CAAC;QAEpB,UAAU;;;QAAC;;gBACH,IAAI,GAAG,cAAc,EAAE;YAC7B,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;gBACzB,KAAI,CAAC,KAAK,CAAC,QAAQ,CACjB,IAAI,gBAAgB,CAAC,gCAAgC,eAAO,KAAK,IAAE,SAAS,EAAE,IAAI,IAAG,CACtF,CAAC;aACH;SACF,EAAC,CAAC;KACJ;IAzBD,sBAAI,iDAAK;;;;QAAT;YACE,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;SACjC;;;OAAA;;gBANF,UAAU,SAAC;oBACV,UAAU,EAAE,MAAM;iBACnB;;;;gBARoB,QAAQ;;;yCAA7B;CAMA,IA8BC;;;;;;IAtBa,kDAA0B;;;;;;;;ACdxC,SAK8F,IAAI;AADlG;IAAA;KAG6C;;gBAH5C,QAAQ,SAAC;oBACR,SAAS,EAAE,CAAC,EAAE,OAAO,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC,8BAA8B,CAAC,EAAE,UAAU,IAAM,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;iBACjH;;IAC2C,oCAAC;CAH7C;;;;;;;;;;;;;;;;"}